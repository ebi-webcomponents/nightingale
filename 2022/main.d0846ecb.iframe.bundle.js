/*! For license information please see main.d0846ecb.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkroot=self.webpackChunkroot||[]).push([[179],{"./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[9].use[1]!./.storybook/style.css":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".centered {\n  text-align: center;\n}\n","",{version:3,sources:["webpack://./.storybook/style.css"],names:[],mappings:"AAAA;EACE,kBAAkB;AACpB",sourcesContent:[".centered {\n  text-align: center;\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:()=>__namedExportsOrder,parameters:()=>parameters});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),style=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[9].use[1]!./.storybook/style.css"),options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(style.Z,options);style.Z.locals;var parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./stories/01.Manager/NightingaleManager.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Manager:()=>Manager,__namedExportsOrder:()=>__namedExportsOrder,default:()=>NightingaleManager_stories});__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var NightingaleManager_1,lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js"),tslib_es6=(__webpack_require__("./packages/nightingale-navigation/src/index.ts"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/tslib/tslib.es6.js")),decorators=__webpack_require__("./node_modules/lit/decorators.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var nightingale_manager_NightingaleManager=NightingaleManager_1=function(_NightingaleElement){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NightingaleManager,_NightingaleElement);var _super=_createSuper(NightingaleManager);function NightingaleManager(){var _this;return _classCallCheck(this,NightingaleManager),(_this=_super.apply(this,arguments))["reflected-attributes"]=new Map,_this.protvistaElements=new Set,_this.propertyValues=new Map,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleManager,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(NightingaleManager.prototype),"connectedCallback",this).call(this),this.addEventListener("change",this.changeListener)}},{key:"attributeChangedCallback",value:function attributeChangedCallback(attr,previousValue,newValue){_get(_getPrototypeOf(NightingaleManager.prototype),"attributeChangedCallback",this).call(this,attr,previousValue,newValue),this.applyAttributes()}},{key:"applyAttributes",value:function applyAttributes(){var _this2=this;this.protvistaElements.forEach((function(element){var _a;null===(_a=_this2["reflected-attributes"])||void 0===_a||_a.forEach((function(value,type){!1===value||null==value?element.removeAttribute(type):element.setAttribute(type,"boolean"==typeof value?"":value)})),_this2.length&&element.setAttribute("length",""+_this2.length),_this2["display-end"]&&element.setAttribute("display-end",""+_this2["display-end"]),_this2["display-start"]&&element.setAttribute("display-start",""+_this2["display-start"]),_this2.highlight&&element.setAttribute("highlight",_this2.highlight)}))}},{key:"register",value:function register(element){this.protvistaElements.add(element),this.applyAttributes()}},{key:"unregister",value:function unregister(element){this.protvistaElements.delete(element)}},{key:"applyProperties",value:function applyProperties(forElementId){var _this3=this;if(forElementId){var element=this.querySelector("#"+forElementId);if(!element)return;this.propertyValues.forEach((function(value,type){element[type]=value}))}else this.protvistaElements.forEach((function(element){element&&_this3.propertyValues.forEach((function(value,type){element[type]=value}))}))}},{key:"isRegisteredAttribute",value:function isRegisteredAttribute(attributeName){return!!this["reflected-attributes"]&&(_toConsumableArray(this["reflected-attributes"].keys()).includes(attributeName)||NightingaleManager_1.observedAttributes.includes(attributeName))}},{key:"changeListener",value:function changeListener(e){var _a,_this4=this;if(e.detail)if("property"===e.detail.handler)this.propertyValues.set(e.detail.type,e.detail.value),this.applyProperties(e.detail.for);else this.isRegisteredAttribute(e.detail.type)&&(null===(_a=this["reflected-attributes"])||void 0===_a||_a.set(e.detail.type,e.detail.value)),Object.keys(e.detail).forEach((function(key){var _a;_this4.isRegisteredAttribute(key)&&(null===(_a=_this4["reflected-attributes"])||void 0===_a||_a.set(key,e.detail[key]))})),this.applyAttributes()}}]),NightingaleManager}(nightingale_new_core_src.ZP);(0,tslib_es6.gn)([(0,decorators.Cb)({converter:{fromAttribute:function fromAttribute(value){if(!value)return null;var attributes=value.split(",");if(-1!==attributes.indexOf("type"))throw new Error("'type' can't be used as a protvista attribute");if(-1!==attributes.indexOf("value"))throw new Error("'value' can't be used as a protvista attribute");return new Map(attributes.filter((function(attr){return!NightingaleManager_1.observedAttributes.includes(attr)})).map((function(attr){return[attr,null]})))},toAttribute:function toAttribute(value){return value.join(",")}}})],nightingale_manager_NightingaleManager.prototype,"reflected-attributes",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],nightingale_manager_NightingaleManager.prototype,"length",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],nightingale_manager_NightingaleManager.prototype,"display-start",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],nightingale_manager_NightingaleManager.prototype,"display-end",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],nightingale_manager_NightingaleManager.prototype,"highlight",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],nightingale_manager_NightingaleManager.prototype,"protvistaElements",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],nightingale_manager_NightingaleManager.prototype,"propertyValues",void 0),nightingale_manager_NightingaleManager=NightingaleManager_1=(0,tslib_es6.gn)([(0,decorators.Mo)("nightingale-manager")],nightingale_manager_NightingaleManager);__webpack_require__("./packages/nightingale-track/src/index.ts"),__webpack_require__("./packages/nightingale-sequence/src/index.ts"),__webpack_require__("./packages/nightingale-coloured-sequence/src/index.ts"),__webpack_require__("./packages/nightingale-interpro-track/src/index.ts");var _templateObject,interpro_IPR016039=__webpack_require__("./packages/nightingale-interpro-track/tests/mockData/interpro-IPR016039.json"),interpro_contributors=__webpack_require__("./packages/nightingale-interpro-track/tests/mockData/interpro-contributors.json"),interpro_residues=__webpack_require__("./packages/nightingale-interpro-track/tests/mockData/interpro-residues.json"),line_graph_chart=__webpack_require__("./packages/nightingale-linegraph-track/tests/mockData/line-graph-chart.json");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}const NightingaleManager_stories={parameters:{storySource:{source:'import { Meta, Story } from "@storybook/web-components";\nimport { html } from "lit-html";\nimport "../../packages/nightingale-navigation/src/index.ts";\nimport "../../packages/nightingale-manager/src/index.ts";\nimport "../../packages/nightingale-track/src/index.ts";\nimport "../../packages/nightingale-sequence/src/index.ts";\nimport "../../packages/nightingale-coloured-sequence/src/index.ts";\nimport "../../packages/nightingale-interpro-track/src/index.ts";\n\nimport iproData from "../../packages/nightingale-interpro-track/tests/mockData/interpro-IPR016039.json";\nimport contributors from "../../packages/nightingale-interpro-track/tests/mockData/interpro-contributors.json";\nimport residues from "../../packages/nightingale-interpro-track/tests/mockData/interpro-residues.json";\nimport linegraph from "../../packages/nightingale-linegraph-track/tests/mockData/line-graph-chart.json";\n\nexport default {\n  title: "Components/Manager",\n} as Meta;\n\nconst defaultSequence =\n  "iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASVCASFU";\nconst defaultData = [\n  {\n    accession: "feature1",\n    start: 1,\n    end: 2,\n    color: "blue",\n  },\n  {\n    accession: "feature1",\n    start: 49,\n    end: 50,\n    color: "red",\n  },\n  {\n    accession: "feature1",\n    start: 10,\n    end: 20,\n    color: "#342ea2",\n  },\n  {\n    accession: "feature2",\n    locations: [{ fragments: [{ start: 30, end: 45 }] }],\n    color: "#A42ea2",\n  },\n  {\n    accession: "feature3",\n    locations: [\n      {\n        fragments: [{ start: 15, end: 15 }],\n      },\n      { fragments: [{ start: 18, end: 18 }] },\n    ],\n    color: "#A4Aea2",\n  },\n  {\n    accession: "feature4",\n    locations: [\n      {\n        fragments: [\n          { start: 20, end: 23 },\n          { start: 26, end: 32 },\n        ],\n      },\n    ],\n  },\n];\n\nconst Template: Story<{\n  width: number;\n  height: number;\n  length: number;\n  "display-start": number;\n  "display-end": number;\n  highlight: string;\n  sequence: string;\n  "highlight-color": string;\n  "margin-color": string;\n}> = (args) => {\n  const { width, height, length, sequence } = args;\n  return html`\n    <nightingale-manager>\n      <div style="line-height: 0">\n        <nightingale-navigation\n          id="navigation"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          show-highlight\n        >\n        </nightingale-navigation>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-sequence\n          id="sequence"\n          sequence=${sequence}\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n        >\n        </nightingale-sequence>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-coloured-sequence\n          id="sequence"\n          sequence=${sequence}\n          width="${width}"\n          height="10"\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          scale="hydrophobicity-scale"\n        >\n        </nightingale-coloured-sequence>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-track\n          id="track"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n        >\n        </nightingale-track>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-track\n          id="track2"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          layout="non-overlapping"\n        >\n        </nightingale-track>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-interpro-track\n          id="trackIpro"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          shape="roundRectangle"\n          label=".feature.name"\n          show-label\n          expanded\n        >\n        </nightingale-interpro-track>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-linegraph-track\n          id="linegraph"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n        ></nightingale-linegraph-track>\n      </div>\n    </nightingale-manager>\n  `;\n};\n\nexport const Manager = Template.bind({});\nManager.args = {\n  width: 800,\n  height: 50,\n  length: defaultSequence.length,\n  sequence: defaultSequence,\n  "display-start": 10,\n  "display-end": 80,\n  "highlight-color": "#EB3BFF22",\n  "margin-color": "transparent",\n};\nManager.play = async () => {\n  await customElements.whenDefined("nightingale-sequence");\n  const sequence = document.getElementById("sequence");\n  if (sequence) (sequence as any).fixedHighlight = "10:20";\n\n  await customElements.whenDefined("nightingale-navigation");\n  const nav = document.getElementById("navigation");\n  if (nav) (nav as any).fixedHighlight = "10:20";\n  await customElements.whenDefined("nightingale-track");\n  const track = document.getElementById("track");\n  if (track) {\n    (track as any).fixedHighlight = "10:20";\n    (track as any).data = defaultData;\n  }\n  const track2 = document.getElementById("track2");\n  if (track2) {\n    (track2 as any).fixedHighlight = "10:20";\n    (track2 as any).data = defaultData;\n  }\n  const trackIpro = document.getElementById("trackIpro");\n  if (trackIpro) {\n    (trackIpro as any).fixedHighlight = "10:20";\n    (trackIpro as any).data = iproData;\n    (contributors[0] as any).residues = residues;\n    (trackIpro as any).contributors = contributors;\n  }\n  const linegraphTrack = document.getElementById("linegraph");\n  if (linegraphTrack) {\n    (linegraphTrack as any).data = linegraph;\n  }\n};\n',locationsMap:{manager:{startLoc:{col:5,line:78},endLoc:{col:1,line:189},startBody:{col:5,line:78},endBody:{col:1,line:189}}}}},title:"Components/Manager"};var defaultSequence="iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASVCASFU",defaultData=[{accession:"feature1",start:1,end:2,color:"blue"},{accession:"feature1",start:49,end:50,color:"red"},{accession:"feature1",start:10,end:20,color:"#342ea2"},{accession:"feature2",locations:[{fragments:[{start:30,end:45}]}],color:"#A42ea2"},{accession:"feature3",locations:[{fragments:[{start:15,end:15}]},{fragments:[{start:18,end:18}]}],color:"#A4Aea2"},{accession:"feature4",locations:[{fragments:[{start:20,end:23},{start:26,end:32}]}]}],Manager=function Template(args){var width=args.width,height=args.height,length=args.length,sequence=args.sequence;return(0,lit_html.dy)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['\n    <nightingale-manager>\n      <div style="line-height: 0">\n        <nightingale-navigation\n          id="navigation"\n          width="','"\n          height=','\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-color=',"\n          margin-color=",'\n          show-highlight\n        >\n        </nightingale-navigation>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-sequence\n          id="sequence"\n          sequence=','\n          width="','"\n          height=','\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-event="onmouseover"\n          highlight-color=',"\n          margin-color=",'\n        >\n        </nightingale-sequence>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-coloured-sequence\n          id="sequence"\n          sequence=','\n          width="','"\n          height="10"\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-event="onmouseover"\n          highlight-color=',"\n          margin-color=",'\n          scale="hydrophobicity-scale"\n        >\n        </nightingale-coloured-sequence>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-track\n          id="track"\n          width="','"\n          height=','\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-event="onmouseover"\n          highlight-color=',"\n          margin-color=",'\n        >\n        </nightingale-track>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-track\n          id="track2"\n          width="','"\n          height=','\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-event="onmouseover"\n          highlight-color=',"\n          margin-color=",'\n          layout="non-overlapping"\n        >\n        </nightingale-track>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-interpro-track\n          id="trackIpro"\n          width="','"\n          height=','\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-event="onmouseover"\n          highlight-color=',"\n          margin-color=",'\n          shape="roundRectangle"\n          label=".feature.name"\n          show-label\n          expanded\n        >\n        </nightingale-interpro-track>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-linegraph-track\n          id="linegraph"\n          width="','"\n          height=','\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-event="onmouseover"\n          highlight-color=',"\n          margin-color=","\n        ></nightingale-linegraph-track>\n      </div>\n    </nightingale-manager>\n  "])),width,height,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"],sequence,width,height,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"],sequence,width,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"],width,height,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"],width,height,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"],width,height,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"],width,height,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"])}.bind({});Manager.args={width:800,height:50,length:defaultSequence.length,sequence:defaultSequence,"display-start":10,"display-end":80,"highlight-color":"#EB3BFF22","margin-color":"transparent"},Manager.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var sequence,nav,track,track2,trackIpro,linegraphTrack;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,customElements.whenDefined("nightingale-sequence");case 2:return(sequence=document.getElementById("sequence"))&&(sequence.fixedHighlight="10:20"),_context.next=6,customElements.whenDefined("nightingale-navigation");case 6:return(nav=document.getElementById("navigation"))&&(nav.fixedHighlight="10:20"),_context.next=10,customElements.whenDefined("nightingale-track");case 10:(track=document.getElementById("track"))&&(track.fixedHighlight="10:20",track.data=defaultData),(track2=document.getElementById("track2"))&&(track2.fixedHighlight="10:20",track2.data=defaultData),(trackIpro=document.getElementById("trackIpro"))&&(trackIpro.fixedHighlight="10:20",trackIpro.data=interpro_IPR016039,interpro_contributors[0].residues=interpro_residues,trackIpro.contributors=interpro_contributors),(linegraphTrack=document.getElementById("linegraph"))&&(linegraphTrack.data=line_graph_chart);case 18:case"end":return _context.stop()}}),_callee)}))),Manager.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, sequence } = args;\n  return html`\n    <nightingale-manager>\n      <div style="line-height: 0">\n        <nightingale-navigation\n          id="navigation"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          show-highlight\n        >\n        </nightingale-navigation>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-sequence\n          id="sequence"\n          sequence=${sequence}\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n        >\n        </nightingale-sequence>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-coloured-sequence\n          id="sequence"\n          sequence=${sequence}\n          width="${width}"\n          height="10"\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          scale="hydrophobicity-scale"\n        >\n        </nightingale-coloured-sequence>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-track\n          id="track"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n        >\n        </nightingale-track>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-track\n          id="track2"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          layout="non-overlapping"\n        >\n        </nightingale-track>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-interpro-track\n          id="trackIpro"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          shape="roundRectangle"\n          label=".feature.name"\n          show-label\n          expanded\n        >\n        </nightingale-interpro-track>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-linegraph-track\n          id="linegraph"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n        ></nightingale-linegraph-track>\n      </div>\n    </nightingale-manager>\n  `;\n}'}},Manager.parameters);var __namedExportsOrder=["Manager"]},"./stories/02.Navigation/NightingaleNavigation.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DifferentSelection:()=>DifferentSelection,Navigation:()=>Navigation,NavigationNoControls:()=>NavigationNoControls,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _templateObject,_templateObject2,lit_html__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lit-html/lit-html.js");__webpack_require__("./packages/nightingale-navigation/src/index.ts");function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}const __WEBPACK_DEFAULT_EXPORT__={parameters:{storySource:{source:'import { Meta, Story } from "@storybook/web-components";\nimport { html } from "lit-html";\nimport "../../packages/nightingale-navigation/src/index.ts";\n\nexport default {\n  title: "Components/Navigation",\n} as Meta;\n\nconst Template: Story<{\n  width: number;\n  height: number;\n  length: number;\n  rulerstart: number;\n  "display-start": number;\n  "display-end": number;\n  highlight: string;\n}> = (args) => {\n  const { width, height, length, highlight, rulerstart } = args;\n  return html`<nightingale-navigation\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    rulerstart=${rulerstart}\n  ></nightingale-navigation>`;\n};\n\nexport const Navigation = Template.bind({});\nNavigation.args = {\n  width: 500,\n  height: 100,\n  length: 456,\n  "display-start": 100,\n  "display-end": 200,\n  highlight: "23:45",\n  rulerstart: 50,\n};\n\nexport const DifferentSelection = Template.bind({});\nDifferentSelection.args = {\n  ...Navigation.args,\n  "display-start": 300,\n  "display-end": 350,\n};\n\nexport const NavigationNoControls = () => html`<nightingale-navigation\n  length="456"\n  display-start="143"\n  display-end="400"\n  highlight="23:45"\n  rulerstart="1"\n/>`;\n',locationsMap:{navigation:{startLoc:{col:5,line:17},endLoc:{col:1,line:28},startBody:{col:5,line:17},endBody:{col:1,line:28}},"different-selection":{startLoc:{col:5,line:17},endLoc:{col:1,line:28},startBody:{col:5,line:17},endBody:{col:1,line:28}},"navigation-no-controls":{startLoc:{col:36,line:48},endLoc:{col:3,line:54},startBody:{col:36,line:48},endBody:{col:3,line:54}}}}},title:"Components/Navigation"};var Template=function Template(args){var width=args.width,height=args.height,length=args.length,highlight=args.highlight,rulerstart=args.rulerstart;return(0,lit_html__WEBPACK_IMPORTED_MODULE_3__.dy)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(['<nightingale-navigation\n    width="','"\n    height=','\n    length="','"\n    display-start=',"\n    display-end=","\n    highlight=","\n    rulerstart=","\n  ></nightingale-navigation>"])),width,height,length,args["display-start"],args["display-end"],highlight,rulerstart)},Navigation=Template.bind({});Navigation.args={width:500,height:100,length:456,"display-start":100,"display-end":200,highlight:"23:45",rulerstart:50};var DifferentSelection=Template.bind({});DifferentSelection.args=Object.assign({},Navigation.args,{"display-start":300,"display-end":350});var NavigationNoControls=function NavigationNoControls(){return(0,lit_html__WEBPACK_IMPORTED_MODULE_3__.dy)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(['<nightingale-navigation\n  length="456"\n  display-start="143"\n  display-end="400"\n  highlight="23:45"\n  rulerstart="1"\n/>'])))};Navigation.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, highlight, rulerstart } = args;\n  return html`<nightingale-navigation\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    rulerstart=${rulerstart}\n  ></nightingale-navigation>`;\n}'}},Navigation.parameters),DifferentSelection.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, highlight, rulerstart } = args;\n  return html`<nightingale-navigation\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    rulerstart=${rulerstart}\n  ></nightingale-navigation>`;\n}'}},DifferentSelection.parameters),NavigationNoControls.parameters=Object.assign({storySource:{source:'() => html`<nightingale-navigation\n  length="456"\n  display-start="143"\n  display-end="400"\n  highlight="23:45"\n  rulerstart="1"\n/>`'}},NavigationNoControls.parameters);var __namedExportsOrder=["Navigation","DifferentSelection","NavigationNoControls"]},"./stories/03.Sequence/NightingaleSequence.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SeqeunceNoControls:()=>SeqeunceNoControls,Sequence:()=>Sequence,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _templateObject,_templateObject2,_templateObject3,lit_html__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/lit-html/lit-html.js");__webpack_require__("./packages/nightingale-sequence/src/index.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}const __WEBPACK_DEFAULT_EXPORT__={parameters:{storySource:{source:'import { Meta, Story } from "@storybook/web-components";\nimport { html } from "lit-html";\nimport "../../packages/nightingale-sequence/src/index.ts";\n\nexport default {\n  title: "Components/Sequence",\n} as Meta;\n\nconst defaultSequence = "iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASV";\n\nconst Template: Story<{\n  width: number;\n  height: number;\n  length: number;\n  "display-start": number;\n  "display-end": number;\n  highlight: string;\n  sequence: string;\n}> = (args) => {\n  const { sequence, width, height, length, highlight } = args;\n  return html`<nightingale-sequence\n    sequence=${sequence}\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    width="${width}"\n    height=${height}\n    length="${length}"\n  ></nightingale-sequence>`;\n};\n\nexport const Sequence = Template.bind({});\nSequence.args = {\n  sequence: defaultSequence,\n  width: 500,\n  height: 100,\n  length: defaultSequence.length,\n  "display-start": 20,\n  "display-end": 40,\n  highlight: "23:45",\n};\n\nconst coordinates = [\n  [1.6, 5],\n  [6, 13],\n  [43, 50],\n  [10, 30],\n  [1, 50],\n];\nexport const SeqeunceNoControls = () =>\n  html`<h3>Same sequence with different coordinates</h3>\n    ${coordinates.map(\n      ([start, end]) => html`\n        <nightingale-sequence\n          sequence=${defaultSequence}\n          width="800"\n          height="40"\n          length=${defaultSequence.length}\n          display-start=${start}\n          display-end=${end}\n          highlight="3:15"\n        ></nightingale-sequence>\n      `\n    )} `;\n',locationsMap:{sequence:{startLoc:{col:5,line:19},endLoc:{col:1,line:30},startBody:{col:5,line:19},endBody:{col:1,line:30}},"seqeunce-no-controls":{startLoc:{col:34,line:50},endLoc:{col:8,line:64},startBody:{col:34,line:50},endBody:{col:8,line:64}}}}},title:"Components/Sequence"};var defaultSequence="iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASV",Sequence=function Template(args){var sequence=args.sequence,width=args.width,height=args.height,length=args.length,highlight=args.highlight;return(0,lit_html__WEBPACK_IMPORTED_MODULE_14__.dy)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(["<nightingale-sequence\n    sequence=","\n    display-start=","\n    display-end=","\n    highlight=",'\n    width="','"\n    height=','\n    length="','"\n  ></nightingale-sequence>'])),sequence,args["display-start"],args["display-end"],highlight,width,height,length)}.bind({});Sequence.args={sequence:defaultSequence,width:500,height:100,length:defaultSequence.length,"display-start":20,"display-end":40,highlight:"23:45"};var coordinates=[[1.6,5],[6,13],[43,50],[10,30],[1,50]],SeqeunceNoControls=function SeqeunceNoControls(){return(0,lit_html__WEBPACK_IMPORTED_MODULE_14__.dy)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["<h3>Same sequence with different coordinates</h3>\n    "," "])),coordinates.map((function(_ref){var _ref2=_slicedToArray(_ref,2),start=_ref2[0],end=_ref2[1];return(0,lit_html__WEBPACK_IMPORTED_MODULE_14__.dy)(_templateObject3||(_templateObject3=_taggedTemplateLiteralLoose(["\n        <nightingale-sequence\n          sequence=",'\n          width="800"\n          height="40"\n          length=',"\n          display-start=","\n          display-end=",'\n          highlight="3:15"\n        ></nightingale-sequence>\n      '])),defaultSequence,defaultSequence.length,start,end)})))};Sequence.parameters=Object.assign({storySource:{source:'(args) => {\n  const { sequence, width, height, length, highlight } = args;\n  return html`<nightingale-sequence\n    sequence=${sequence}\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    width="${width}"\n    height=${height}\n    length="${length}"\n  ></nightingale-sequence>`;\n}'}},Sequence.parameters),SeqeunceNoControls.parameters=Object.assign({storySource:{source:'() =>\n  html`<h3>Same sequence with different coordinates</h3>\n    ${coordinates.map(\n      ([start, end]) => html`\n        <nightingale-sequence\n          sequence=${defaultSequence}\n          width="800"\n          height="40"\n          length=${defaultSequence.length}\n          display-start=${start}\n          display-end=${end}\n          highlight="3:15"\n        ></nightingale-sequence>\n      `\n    )} `'}},SeqeunceNoControls.parameters);var __namedExportsOrder=["Sequence","SeqeunceNoControls"]},"./stories/04.ColouredSequence/NightingaleColouredSequence.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ChangingColorRange:()=>ChangingColorRange,ChangingScales:()=>ChangingScales,ColouredSequenceNoControls:()=>ColouredSequenceNoControls,ScalesWithControls:()=>ScalesWithControls,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,lit_html__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/lit-html/lit-html.js");__webpack_require__("./packages/nightingale-coloured-sequence/src/index.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}var scales=["hydrophobicity-interface-scale","hydrophobicity-octanol-scale","hydrophobicity-scale","isoelectric-point-scale","T:-2,R:-2,Y:-2,F:2,A:2,I:2,L:2"];const __WEBPACK_DEFAULT_EXPORT__={parameters:{storySource:{source:'import { Meta, Story } from "@storybook/web-components";\nimport { html } from "lit-html";\nimport "../../packages/nightingale-coloured-sequence/src/index.ts";\n\nconst scales = [\n  "hydrophobicity-interface-scale",\n  "hydrophobicity-octanol-scale",\n  "hydrophobicity-scale",\n  "isoelectric-point-scale",\n  "T:-2,R:-2,Y:-2,F:2,A:2,I:2,L:2",\n];\nexport default {\n  title: "Components/Coloured Sequence",\n  argTypes: {\n    scale: {\n      options: scales,\n      control: { type: "radio" },\n    },\n  },\n} as Meta;\n\nconst defaultSequence =\n  "iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViuUBRUABBRWOAUVBISVBbcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASV";\n\nconst coordinates = [\n  [21.6, 24.3],\n  [20, 23],\n  [15, 25],\n  [10, 30],\n  [1, 50],\n  [1, defaultSequence.length],\n];\nexport const ScalesWithControls: Story<{\n  sequence: string;\n  scale: string;\n  width: number;\n  height: number;\n  "display-start": number;\n  "display-end": number;\n  highlight: string;\n  "color-range": string;\n}> = (args) =>\n  html`<h3>Same Scale - different levels of zoom</h3>\n    <nightingale-coloured-sequence\n      sequence=${args.sequence}\n      length=${args.sequence.length}\n      width="800"\n      height="40"\n      display-start=${args["display-start"]}\n      display-end=${args["display-end"]}\n      color-range=${args["color-range"]}\n      scale=${args.scale}\n    ></nightingale-coloured-sequence> `;\nScalesWithControls.args = {\n  scale: "hydrophobicity-scale",\n  sequence: defaultSequence,\n  width: 500,\n  height: 50,\n  "display-start": 1,\n  "display-end": 50,\n  "color-range": "",\n};\nexport const ColouredSequenceNoControls = () =>\n  html`<h3>Same Scale - different levels of zoom</h3>\n    ${coordinates.map(\n      ([start, end]) => html`\n        <nightingale-coloured-sequence\n          sequence=${defaultSequence}\n          width="800"\n          height="20"\n          length=${defaultSequence.length}\n          display-start=${start}\n          display-end=${end}\n          highlight="3:15"\n          scale="hydrophobicity-scale"\n        ></nightingale-coloured-sequence>\n      `\n    )} `;\n\nconst twoCoordinates = [\n  [20, 30],\n  [1, defaultSequence.length],\n];\n\nexport const ChangingScales = () =>\n  html`<h3>Same sequence with different scales</h3>\n    ${scales.map(\n      (scale) => html`\n        <pre>${scale}</pre>\n        ${twoCoordinates.map(\n          ([start, end]) => html`\n            <nightingale-coloured-sequence\n              sequence=${defaultSequence}\n              width="800"\n              height="40"\n              length=${defaultSequence.length}\n              display-start=${start}\n              display-end=${end}\n              highlight="3:15"\n              scale="hydrophobicity-scale"\n            ></nightingale-coloured-sequence>\n          `\n        )}\n      `\n    )} `;\n\nexport const ChangingColorRange = () => {\n  const ranges = [\n    "#ff0000:-2,#00FF00:2",\n    "#ff0000:-2,#FFFFFF:0,#00FF00:2",\n    "#3434ED:-2,#ED3434:2",\n    "yellow:-2,dodgerblue:2",\n    "white:0,dodgerblue:2",\n  ];\n  return html`<h3>Same sequence with different color ranges</h3>\n    ${ranges.map(\n      (range) => html`\n        <pre>${range}</pre>\n        ${twoCoordinates.map(\n          ([start, end]) => html`\n            <nightingale-coloured-sequence\n              sequence=${defaultSequence}\n              width="800"\n              height="40"\n              length=${defaultSequence.length}\n              display-start=${start}\n              display-end=${end}\n              highlight="3:15"\n              scale="hydrophobicity-scale"\n              color-range=${range}\n            ></nightingale-coloured-sequence>\n          `\n        )}\n      `\n    )} `;\n};\n',locationsMap:{"scales-with-controls":{startLoc:{col:5,line:42},endLoc:{col:39,line:53},startBody:{col:5,line:42},endBody:{col:39,line:53}},"coloured-sequence-no-controls":{startLoc:{col:42,line:63},endLoc:{col:8,line:78},startBody:{col:42,line:63},endBody:{col:8,line:78}},"changing-scales":{startLoc:{col:30,line:85},endLoc:{col:8,line:105},startBody:{col:30,line:85},endBody:{col:8,line:105}},"changing-color-range":{startLoc:{col:34,line:107},endLoc:{col:1,line:136},startBody:{col:34,line:107},endBody:{col:1,line:136}}}}},title:"Components/Coloured Sequence",argTypes:{scale:{options:scales,control:{type:"radio"}}}};var defaultSequence="iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViuUBRUABBRWOAUVBISVBbcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASV",coordinates=[[21.6,24.3],[20,23],[15,25],[10,30],[1,50],[1,defaultSequence.length]],ScalesWithControls=function ScalesWithControls(args){return(0,lit_html__WEBPACK_IMPORTED_MODULE_13__.dy)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(["<h3>Same Scale - different levels of zoom</h3>\n    <nightingale-coloured-sequence\n      sequence=","\n      length=",'\n      width="800"\n      height="40"\n      display-start=',"\n      display-end=","\n      color-range=","\n      scale=","\n    ></nightingale-coloured-sequence> "])),args.sequence,args.sequence.length,args["display-start"],args["display-end"],args["color-range"],args.scale)};ScalesWithControls.args={scale:"hydrophobicity-scale",sequence:defaultSequence,width:500,height:50,"display-start":1,"display-end":50,"color-range":""};var ColouredSequenceNoControls=function ColouredSequenceNoControls(){return(0,lit_html__WEBPACK_IMPORTED_MODULE_13__.dy)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["<h3>Same Scale - different levels of zoom</h3>\n    "," "])),coordinates.map((function(_ref){var _ref2=_slicedToArray(_ref,2),start=_ref2[0],end=_ref2[1];return(0,lit_html__WEBPACK_IMPORTED_MODULE_13__.dy)(_templateObject3||(_templateObject3=_taggedTemplateLiteralLoose(["\n        <nightingale-coloured-sequence\n          sequence=",'\n          width="800"\n          height="20"\n          length=',"\n          display-start=","\n          display-end=",'\n          highlight="3:15"\n          scale="hydrophobicity-scale"\n        ></nightingale-coloured-sequence>\n      '])),defaultSequence,defaultSequence.length,start,end)})))},twoCoordinates=[[20,30],[1,defaultSequence.length]],ChangingScales=function ChangingScales(){return(0,lit_html__WEBPACK_IMPORTED_MODULE_13__.dy)(_templateObject4||(_templateObject4=_taggedTemplateLiteralLoose(["<h3>Same sequence with different scales</h3>\n    "," "])),scales.map((function(scale){return(0,lit_html__WEBPACK_IMPORTED_MODULE_13__.dy)(_templateObject5||(_templateObject5=_taggedTemplateLiteralLoose(["\n        <pre>","</pre>\n        ","\n      "])),scale,twoCoordinates.map((function(_ref3){var _ref4=_slicedToArray(_ref3,2),start=_ref4[0],end=_ref4[1];return(0,lit_html__WEBPACK_IMPORTED_MODULE_13__.dy)(_templateObject6||(_templateObject6=_taggedTemplateLiteralLoose(["\n            <nightingale-coloured-sequence\n              sequence=",'\n              width="800"\n              height="40"\n              length=',"\n              display-start=","\n              display-end=",'\n              highlight="3:15"\n              scale="hydrophobicity-scale"\n            ></nightingale-coloured-sequence>\n          '])),defaultSequence,defaultSequence.length,start,end)})))})))},ChangingColorRange=function ChangingColorRange(){return(0,lit_html__WEBPACK_IMPORTED_MODULE_13__.dy)(_templateObject7||(_templateObject7=_taggedTemplateLiteralLoose(["<h3>Same sequence with different color ranges</h3>\n    "," "])),["#ff0000:-2,#00FF00:2","#ff0000:-2,#FFFFFF:0,#00FF00:2","#3434ED:-2,#ED3434:2","yellow:-2,dodgerblue:2","white:0,dodgerblue:2"].map((function(range){return(0,lit_html__WEBPACK_IMPORTED_MODULE_13__.dy)(_templateObject8||(_templateObject8=_taggedTemplateLiteralLoose(["\n        <pre>","</pre>\n        ","\n      "])),range,twoCoordinates.map((function(_ref5){var _ref6=_slicedToArray(_ref5,2),start=_ref6[0],end=_ref6[1];return(0,lit_html__WEBPACK_IMPORTED_MODULE_13__.dy)(_templateObject9||(_templateObject9=_taggedTemplateLiteralLoose(["\n            <nightingale-coloured-sequence\n              sequence=",'\n              width="800"\n              height="40"\n              length=',"\n              display-start=","\n              display-end=",'\n              highlight="3:15"\n              scale="hydrophobicity-scale"\n              color-range=',"\n            ></nightingale-coloured-sequence>\n          "])),defaultSequence,defaultSequence.length,start,end,range)})))})))};ScalesWithControls.parameters=Object.assign({storySource:{source:'(args) =>\n  html`<h3>Same Scale - different levels of zoom</h3>\n    <nightingale-coloured-sequence\n      sequence=${args.sequence}\n      length=${args.sequence.length}\n      width="800"\n      height="40"\n      display-start=${args["display-start"]}\n      display-end=${args["display-end"]}\n      color-range=${args["color-range"]}\n      scale=${args.scale}\n    ></nightingale-coloured-sequence> `'}},ScalesWithControls.parameters),ColouredSequenceNoControls.parameters=Object.assign({storySource:{source:'() =>\n  html`<h3>Same Scale - different levels of zoom</h3>\n    ${coordinates.map(\n      ([start, end]) => html`\n        <nightingale-coloured-sequence\n          sequence=${defaultSequence}\n          width="800"\n          height="20"\n          length=${defaultSequence.length}\n          display-start=${start}\n          display-end=${end}\n          highlight="3:15"\n          scale="hydrophobicity-scale"\n        ></nightingale-coloured-sequence>\n      `\n    )} `'}},ColouredSequenceNoControls.parameters),ChangingScales.parameters=Object.assign({storySource:{source:'() =>\n  html`<h3>Same sequence with different scales</h3>\n    ${scales.map(\n      (scale) => html`\n        <pre>${scale}</pre>\n        ${twoCoordinates.map(\n          ([start, end]) => html`\n            <nightingale-coloured-sequence\n              sequence=${defaultSequence}\n              width="800"\n              height="40"\n              length=${defaultSequence.length}\n              display-start=${start}\n              display-end=${end}\n              highlight="3:15"\n              scale="hydrophobicity-scale"\n            ></nightingale-coloured-sequence>\n          `\n        )}\n      `\n    )} `'}},ChangingScales.parameters),ChangingColorRange.parameters=Object.assign({storySource:{source:'() => {\n  const ranges = [\n    "#ff0000:-2,#00FF00:2",\n    "#ff0000:-2,#FFFFFF:0,#00FF00:2",\n    "#3434ED:-2,#ED3434:2",\n    "yellow:-2,dodgerblue:2",\n    "white:0,dodgerblue:2",\n  ];\n  return html`<h3>Same sequence with different color ranges</h3>\n    ${ranges.map(\n      (range) => html`\n        <pre>${range}</pre>\n        ${twoCoordinates.map(\n          ([start, end]) => html`\n            <nightingale-coloured-sequence\n              sequence=${defaultSequence}\n              width="800"\n              height="40"\n              length=${defaultSequence.length}\n              display-start=${start}\n              display-end=${end}\n              highlight="3:15"\n              scale="hydrophobicity-scale"\n              color-range=${range}\n            ></nightingale-coloured-sequence>\n          `\n        )}\n      `\n    )} `;\n}'}},ChangingColorRange.parameters);var __namedExportsOrder=["ScalesWithControls","ColouredSequenceNoControls","ChangingScales","ChangingColorRange"]},"./stories/05.Track/NightingaleTrack.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Track:()=>Track,TrackNoControls:()=>TrackNoControls,TrackWithSymbols:()=>TrackWithSymbols,__namedExportsOrder:()=>__namedExportsOrder,default:()=>NightingaleTrack_stories});__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js");__webpack_require__("./packages/nightingale-track/src/index.ts");const data_namespaceObject=JSON.parse('[{"accession":"feature1","start":10,"end":40,"color":"#342ea2"},{"accession":"feature2","locations":[{"fragments":[{"start":50,"end":160}]}],"color":"#A42ea2"},{"accession":"feature3","locations":[{"fragments":[{"start":155,"end":155}]},{"fragments":[{"start":158,"end":158}]}],"color":"#A4Aea2"},{"accession":"feature4","locations":[{"fragments":[{"start":200,"end":204},{"start":206,"end":210}]}]},{"accession":"feature1","start":1,"end":3,"color":"#339"},{"accession":"feature5","start":1,"end":3,"color":"#63e"},{"accession":"feature6","start":1,"end":3,"color":"#35d","shape":"rectangle"},{"accession":"feature6_2","start":1,"end":3,"color":"#35d","shape":"line"},{"accession":"feature7","start":2,"end":2,"color":"#3a3","shape":"bridge"},{"accession":"feature8","start":1,"end":2,"color":"#3a3","shape":"bridge"},{"accession":"feature9","start":2,"end":2,"color":"#33d","shape":"diamond"},{"accession":"feature10","start":2,"end":3,"color":"#33d","shape":"diamond"},{"accession":"feature11","start":2,"end":2,"color":"#3a3","shape":"chevron"},{"accession":"feature12","start":1,"end":2,"color":"#3a3","shape":"chevron"},{"accession":"feature13","start":2,"end":2,"color":"#d3d","shape":"catFace"},{"accession":"feature14","start":2,"end":3,"color":"#d3d","shape":"catFace"},{"accession":"feature15","start":2,"end":2,"color":"#3a3","shape":"triangle"},{"accession":"feature16","start":1,"end":2,"color":"#3a3","shape":"triangle"},{"accession":"feature17","start":2,"end":2,"color":"#d3d","shape":"wave"},{"accession":"feature18","start":2,"end":3,"color":"#d3d","shape":"wave"},{"accession":"feature15","start":2,"end":2,"color":"#3a3","shape":"hexagon"},{"accession":"feature16","start":1,"end":2,"color":"#3a3","shape":"hexagon"},{"accession":"feature17","start":2,"end":2,"color":"#d3d","shape":"pentagon"},{"accession":"feature18","start":2,"end":3,"color":"#d3d","shape":"pentagon"},{"accession":"feature19","start":2,"end":2,"color":"#3a3","shape":"circle"},{"accession":"feature20","start":1,"end":2,"color":"#3a3","shape":"circle"},{"accession":"feature21","start":2,"end":2,"color":"#d3d","shape":"arrow"},{"accession":"feature22","start":2,"end":3,"color":"#d3d","shape":"arrow"},{"accession":"feature19","start":2,"end":2,"color":"#3a3","shape":"doubleBar"},{"accession":"feature20","start":1,"end":2,"color":"#3a3","shape":"doubleBar"},{"accession":"feature21","start":1,"end":2,"color":"#f06","shape":"helix","fill":"transparent"},{"accession":"feature22","start":2,"end":2,"color":"#fc0","shape":"strand"}]');var _templateObject,_templateObject2;function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}const NightingaleTrack_stories={parameters:{storySource:{source:'import { Meta, Story } from "@storybook/web-components";\nimport { html } from "lit-html";\nimport "../../packages/nightingale-track/src/index.ts";\nimport mockData from "../../packages/nightingale-track/tests/mockData/data.json";\n\nexport default {\n  title: "Components/NightingaleTrack",\n} as Meta;\n\nconst defaultData = [\n  {\n    accession: "feature1",\n    start: 1,\n    end: 2,\n    color: "blue",\n  },\n  {\n    accession: "feature1",\n    start: 49,\n    end: 50,\n    color: "red",\n  },\n  {\n    accession: "feature1",\n    start: 10,\n    end: 20,\n    color: "#342ea2",\n  },\n  {\n    accession: "feature2",\n    locations: [{ fragments: [{ start: 30, end: 45 }] }],\n    color: "#A42ea2",\n  },\n  {\n    accession: "feature3",\n    locations: [\n      {\n        fragments: [{ start: 15, end: 15 }],\n      },\n      { fragments: [{ start: 18, end: 18 }] },\n    ],\n    color: "#A4Aea2",\n  },\n  {\n    accession: "feature4",\n    locations: [\n      {\n        fragments: [\n          { start: 20, end: 23 },\n          { start: 26, end: 32 },\n        ],\n      },\n    ],\n  },\n];\nconst Template: Story<{\n  width: number;\n  height: number;\n  length: number;\n  "display-start": number;\n  "display-end": number;\n  "margin-top": number;\n  highlight: string;\n  layout: "non-overlapping" | "default";\n}> = (args) => {\n  const { width, height, length, highlight, layout } = args;\n  return html`<nightingale-track\n    id="track"\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    margin-top=${args["margin-top"]}\n    highlight=${highlight}\n    layout=${layout}\n  ></nightingale-track>`;\n};\n\nexport const Track = Template.bind({});\nTrack.args = {\n  width: 500,\n  height: 50,\n  length: 100,\n  "margin-top": 1,\n  "display-start": 1,\n  "display-end": 50,\n  highlight: "23:45",\n  layout: "default",\n};\nTrack.play = async () => {\n  await customElements.whenDefined("nightingale-track");\n  const track = document.getElementById("track");\n  if (track) (track as any).data = defaultData;\n};\n\nexport const TrackWithSymbols = Template.bind({});\nTrackWithSymbols.args = {\n  ...Track.args,\n  height: 500,\n  layout: "non-overlapping",\n};\nTrackWithSymbols.play = async () => {\n  await customElements.whenDefined("nightingale-track");\n  const track = document.getElementById("track");\n  if (track) (track as any).data = mockData;\n};\n\nexport const TrackNoControls = () => html`\n  <nightingale-track\n    id="track"\n    length="223"\n    height="100"\n    display-start="1"\n    display-end="50"\n    layout="non-overlapping"\n  ></nightingale-track>\n`;\nTrackNoControls.play = async () => {\n  await customElements.whenDefined("nightingale-track");\n  const track = document.getElementById("track");\n  if (track) (track as any).data = defaultData;\n};\n',locationsMap:{track:{startLoc:{col:5,line:65},endLoc:{col:1,line:78},startBody:{col:5,line:65},endBody:{col:1,line:78}},"track-with-symbols":{startLoc:{col:5,line:65},endLoc:{col:1,line:78},startBody:{col:5,line:65},endBody:{col:1,line:78}},"track-no-controls":{startLoc:{col:31,line:109},endLoc:{col:1,line:118},startBody:{col:31,line:109},endBody:{col:1,line:118}}}}},title:"Components/NightingaleTrack"};var defaultData=[{accession:"feature1",start:1,end:2,color:"blue"},{accession:"feature1",start:49,end:50,color:"red"},{accession:"feature1",start:10,end:20,color:"#342ea2"},{accession:"feature2",locations:[{fragments:[{start:30,end:45}]}],color:"#A42ea2"},{accession:"feature3",locations:[{fragments:[{start:15,end:15}]},{fragments:[{start:18,end:18}]}],color:"#A4Aea2"},{accession:"feature4",locations:[{fragments:[{start:20,end:23},{start:26,end:32}]}]}],Template=function Template(args){var width=args.width,height=args.height,length=args.length,highlight=args.highlight,layout=args.layout;return(0,lit_html.dy)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(['<nightingale-track\n    id="track"\n    width="','"\n    height=','\n    length="','"\n    display-start=',"\n    display-end=","\n    margin-top=","\n    highlight=","\n    layout=","\n  ></nightingale-track>"])),width,height,length,args["display-start"],args["display-end"],args["margin-top"],highlight,layout)},Track=Template.bind({});Track.args={width:500,height:50,length:100,"margin-top":1,"display-start":1,"display-end":50,highlight:"23:45",layout:"default"},Track.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var track;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,customElements.whenDefined("nightingale-track");case 2:(track=document.getElementById("track"))&&(track.data=defaultData);case 4:case"end":return _context.stop()}}),_callee)})));var TrackWithSymbols=Template.bind({});TrackWithSymbols.args=Object.assign({},Track.args,{height:500,layout:"non-overlapping"}),TrackWithSymbols.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var track;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,customElements.whenDefined("nightingale-track");case 2:(track=document.getElementById("track"))&&(track.data=data_namespaceObject);case 4:case"end":return _context2.stop()}}),_callee2)})));var TrackNoControls=function TrackNoControls(){return(0,lit_html.dy)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(['\n  <nightingale-track\n    id="track"\n    length="223"\n    height="100"\n    display-start="1"\n    display-end="50"\n    layout="non-overlapping"\n  ></nightingale-track>\n'])))};TrackNoControls.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var track;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,customElements.whenDefined("nightingale-track");case 2:(track=document.getElementById("track"))&&(track.data=defaultData);case 4:case"end":return _context3.stop()}}),_callee3)}))),Track.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, highlight, layout } = args;\n  return html`<nightingale-track\n    id="track"\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    margin-top=${args["margin-top"]}\n    highlight=${highlight}\n    layout=${layout}\n  ></nightingale-track>`;\n}'}},Track.parameters),TrackWithSymbols.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, highlight, layout } = args;\n  return html`<nightingale-track\n    id="track"\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    margin-top=${args["margin-top"]}\n    highlight=${highlight}\n    layout=${layout}\n  ></nightingale-track>`;\n}'}},TrackWithSymbols.parameters),TrackNoControls.parameters=Object.assign({storySource:{source:'() => html`\n  <nightingale-track\n    id="track"\n    length="223"\n    height="100"\n    display-start="1"\n    display-end="50"\n    layout="non-overlapping"\n  ></nightingale-track>\n`'}},TrackNoControls.parameters);var __namedExportsOrder=["Track","TrackWithSymbols","TrackNoControls"]},"./stories/06.InterProTrack/NightingaleInterProTrack.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SimpleTrackNoControls:()=>SimpleTrackNoControls,Track:()=>Track,TrackAndContributorsNoControls:()=>TrackAndContributorsNoControls,TrackAndLabels:()=>TrackAndLabels,TrackWithContributorsAndResiduesNoControls:()=>TrackWithContributorsAndResiduesNoControls,TrackWithResiduesNoControls:()=>TrackWithResiduesNoControls,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,lit_html__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./node_modules/lit-html/lit-html.js"),_packages_nightingale_interpro_track_tests_mockData_interpro_IPR016039_json__WEBPACK_IMPORTED_MODULE_26__=(__webpack_require__("./packages/nightingale-interpro-track/src/index.ts"),__webpack_require__("./packages/nightingale-interpro-track/tests/mockData/interpro-IPR016039.json")),_packages_nightingale_interpro_track_tests_mockData_interpro_contributors_json__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./packages/nightingale-interpro-track/tests/mockData/interpro-contributors.json"),_packages_nightingale_interpro_track_tests_mockData_interpro_residues_json__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./packages/nightingale-interpro-track/tests/mockData/interpro-residues.json");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}const __WEBPACK_DEFAULT_EXPORT__={parameters:{storySource:{source:'import { Meta, Story } from "@storybook/web-components";\nimport { html } from "lit-html";\nimport "../../packages/nightingale-interpro-track/src/index.ts";\n\nimport data from "../../packages/nightingale-interpro-track/tests/mockData/interpro-IPR016039.json";\nimport contributors from "../../packages/nightingale-interpro-track/tests/mockData/interpro-contributors.json";\nimport residues from "../../packages/nightingale-interpro-track/tests/mockData/interpro-residues.json";\n\nexport default {\n  title: "Components/InterPro Track",\n} as Meta;\n\nconst Template: Story<{\n  width: number;\n  height: number;\n  length: number;\n  "display-start": number;\n  "display-end": number;\n  highlight: string;\n  layout: "non-overlapping" | "default";\n}> = (args) => {\n  const { width, height, length, highlight, layout } = args;\n  return html`<nightingale-interpro-track\n    id="track"\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    layout=${layout}\n  ></nightingale-interpro-track>`;\n};\n\nexport const Track = Template.bind({});\nTrack.args = {\n  width: 500,\n  height: 50,\n  length: 100,\n  "display-start": 1,\n  "display-end": 50,\n  highlight: "23:45",\n  layout: "default",\n};\nTrack.play = async () => {\n  await customElements.whenDefined("nightingale-interpro-track");\n  const track = document.getElementById("track");\n  if (track) (track as any).data = data;\n};\n\nexport const SimpleTrackNoControls = () => html`\n  <h3>Entry</h3>\n  <nightingale-interpro-track\n    id="track1"\n    width="600"\n    length="490"\n    display-start="1"\n    display-end="490"\n    highlight="20:50,40:80"\n    shape="roundRectangle"\n    show-label\n  ></nightingale-interpro-track>\n`;\nSimpleTrackNoControls.play = async () => {\n  await customElements.whenDefined("nightingale-interpro-track");\n  const track1 = document.getElementById("track1");\n  if (track1) {\n    (track1 as any).data = data;\n  }\n};\nexport const TrackAndContributorsNoControls = () => html`\n  <h3>Entry + contributors</h3>\n  <nightingale-interpro-track\n    id="track2"\n    width="600"\n    length="490"\n    display-start="1"\n    display-end="490"\n    highlight="20:50,40:80"\n    shape="roundRectangle"\n    expanded\n  ></nightingale-interpro-track>\n`;\nTrackAndContributorsNoControls.play = async () => {\n  await customElements.whenDefined("nightingale-interpro-track");\n  const track2 = document.getElementById("track2");\n  if (track2) {\n    (track2 as any).data = data;\n    (track2 as any).contributors = contributors;\n  }\n};\nexport const TrackWithResiduesNoControls = () => html`\n  <h3>Entry + residues</h3>\n  <nightingale-interpro-track\n    id="track3"\n    width="600"\n    length="490"\n    display-start="1"\n    display-end="490"\n    highlight="20:50,40:80"\n    shape="roundRectangle"\n    expanded\n  ></nightingale-interpro-track>\n`;\nTrackWithResiduesNoControls.play = async () => {\n  await customElements.whenDefined("nightingale-interpro-track");\n  const track3 = document.getElementById("track3");\n  if (track3) {\n    const dataCopy: Array<Record<string, unknown>> = data.map(\n      ({ ...rest }) => ({ ...rest })\n    );\n    dataCopy[0].residues = residues;\n\n    (track3 as any).data = dataCopy;\n  }\n};\nexport const TrackWithContributorsAndResiduesNoControls = () => html`\n  <h3>Entry + contributors + residues</h3>\n  <nightingale-interpro-track\n    id="track4"\n    width="600"\n    length="490"\n    display-start="1"\n    display-end="490"\n    highlight="20:50,40:80"\n    shape="roundRectangle"\n    expanded\n  ></nightingale-interpro-track>\n`;\nTrackWithContributorsAndResiduesNoControls.play = async () => {\n  await customElements.whenDefined("nightingale-interpro-track");\n  const track4 = document.getElementById("track4");\n  if (track4) {\n    const contributorsCopy: Array<Record<string, unknown>> = contributors.map(\n      ({ ...rest }) => ({ ...rest })\n    );\n    contributorsCopy[0].residues = residues;\n\n    (track4 as any).data = data;\n    (track4 as any).contributors = contributorsCopy;\n  }\n};\n\nexport const TrackAndLabels = () => html`\n  <h3>Entry with Labels</h3>\n  <h5>Entry with a fix and long label</h5>\n  <nightingale-interpro-track\n    id="track5"\n    width="600"\n    length="490"\n    shape="roundRectangle"\n    show-label\n    label="A very long label that should go on all the locations"\n  ></nightingale-interpro-track>\n  <h5>Entry using default label(accession)</h5>\n  <nightingale-interpro-track\n    id="track6"\n    width="600"\n    length="490"\n    shape="roundRectangle"\n    show-label\n  ></nightingale-interpro-track>\n  <h5>Entry specifying a feature field as label (.feature.name)</h5>\n  <nightingale-interpro-track\n    id="track7"\n    width="600"\n    length="490"\n    shape="roundRectangle"\n    label=".feature.name"\n    show-label\n  ></nightingale-interpro-track>\n  <h5>Entry contributors and labels</h5>\n  <nightingale-interpro-track\n    id="track8"\n    width="600"\n    length="490"\n    shape="roundRectangle"\n    label=".feature.name"\n    show-label\n    expanded\n  ></nightingale-interpro-track>\n`;\nTrackAndLabels.play = async () => {\n  await customElements.whenDefined("nightingale-interpro-track");\n  const track5 = document.getElementById("track5");\n  if (track5) {\n    (track5 as any).data = data;\n  }\n  const track6 = document.getElementById("track6");\n  if (track6) {\n    (track6 as any).data = data;\n  }\n  const track7 = document.getElementById("track7");\n  if (track7) {\n    (track7 as any).data = data;\n  }\n  const track8 = document.getElementById("track8");\n  if (track8) {\n    (track8 as any).data = data;\n    (track8 as any).contributors = contributors;\n  }\n};\n',locationsMap:{track:{startLoc:{col:5,line:21},endLoc:{col:1,line:33},startBody:{col:5,line:21},endBody:{col:1,line:33}},"simple-track-no-controls":{startLoc:{col:37,line:51},endLoc:{col:1,line:63},startBody:{col:37,line:51},endBody:{col:1,line:63}},"track-and-contributors-no-controls":{startLoc:{col:46,line:71},endLoc:{col:1,line:83},startBody:{col:46,line:71},endBody:{col:1,line:83}},"track-with-residues-no-controls":{startLoc:{col:43,line:92},endLoc:{col:1,line:104},startBody:{col:43,line:92},endBody:{col:1,line:104}},"track-with-contributors-and-residues-no-controls":{startLoc:{col:58,line:117},endLoc:{col:1,line:129},startBody:{col:58,line:117},endBody:{col:1,line:129}},"track-and-labels":{startLoc:{col:30,line:144},endLoc:{col:1,line:182},startBody:{col:30,line:144},endBody:{col:1,line:182}}}}},title:"Components/InterPro Track"};var Track=function Template(args){var width=args.width,height=args.height,length=args.length,highlight=args.highlight,layout=args.layout;return(0,lit_html__WEBPACK_IMPORTED_MODULE_24__.dy)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(['<nightingale-interpro-track\n    id="track"\n    width="','"\n    height=','\n    length="','"\n    display-start=',"\n    display-end=","\n    highlight=","\n    layout=","\n  ></nightingale-interpro-track>"])),width,height,length,args["display-start"],args["display-end"],highlight,layout)}.bind({});Track.args={width:500,height:50,length:100,"display-start":1,"display-end":50,highlight:"23:45",layout:"default"},Track.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var track;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,customElements.whenDefined("nightingale-interpro-track");case 2:(track=document.getElementById("track"))&&(track.data=_packages_nightingale_interpro_track_tests_mockData_interpro_IPR016039_json__WEBPACK_IMPORTED_MODULE_26__);case 4:case"end":return _context.stop()}}),_callee)})));var SimpleTrackNoControls=function SimpleTrackNoControls(){return(0,lit_html__WEBPACK_IMPORTED_MODULE_24__.dy)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(['\n  <h3>Entry</h3>\n  <nightingale-interpro-track\n    id="track1"\n    width="600"\n    length="490"\n    display-start="1"\n    display-end="490"\n    highlight="20:50,40:80"\n    shape="roundRectangle"\n    show-label\n  ></nightingale-interpro-track>\n'])))};SimpleTrackNoControls.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var track1;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,customElements.whenDefined("nightingale-interpro-track");case 2:(track1=document.getElementById("track1"))&&(track1.data=_packages_nightingale_interpro_track_tests_mockData_interpro_IPR016039_json__WEBPACK_IMPORTED_MODULE_26__);case 4:case"end":return _context2.stop()}}),_callee2)})));var TrackAndContributorsNoControls=function TrackAndContributorsNoControls(){return(0,lit_html__WEBPACK_IMPORTED_MODULE_24__.dy)(_templateObject3||(_templateObject3=_taggedTemplateLiteralLoose(['\n  <h3>Entry + contributors</h3>\n  <nightingale-interpro-track\n    id="track2"\n    width="600"\n    length="490"\n    display-start="1"\n    display-end="490"\n    highlight="20:50,40:80"\n    shape="roundRectangle"\n    expanded\n  ></nightingale-interpro-track>\n'])))};TrackAndContributorsNoControls.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var track2;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,customElements.whenDefined("nightingale-interpro-track");case 2:(track2=document.getElementById("track2"))&&(track2.data=_packages_nightingale_interpro_track_tests_mockData_interpro_IPR016039_json__WEBPACK_IMPORTED_MODULE_26__,track2.contributors=_packages_nightingale_interpro_track_tests_mockData_interpro_contributors_json__WEBPACK_IMPORTED_MODULE_27__);case 4:case"end":return _context3.stop()}}),_callee3)})));var TrackWithResiduesNoControls=function TrackWithResiduesNoControls(){return(0,lit_html__WEBPACK_IMPORTED_MODULE_24__.dy)(_templateObject4||(_templateObject4=_taggedTemplateLiteralLoose(['\n  <h3>Entry + residues</h3>\n  <nightingale-interpro-track\n    id="track3"\n    width="600"\n    length="490"\n    display-start="1"\n    display-end="490"\n    highlight="20:50,40:80"\n    shape="roundRectangle"\n    expanded\n  ></nightingale-interpro-track>\n'])))};TrackWithResiduesNoControls.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){var track3,dataCopy;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,customElements.whenDefined("nightingale-interpro-track");case 2:(track3=document.getElementById("track3"))&&((dataCopy=_packages_nightingale_interpro_track_tests_mockData_interpro_IPR016039_json__WEBPACK_IMPORTED_MODULE_26__.map((function(_ref5){var rest=_extends({},_ref5);return Object.assign({},rest)})))[0].residues=_packages_nightingale_interpro_track_tests_mockData_interpro_residues_json__WEBPACK_IMPORTED_MODULE_28__,track3.data=dataCopy);case 4:case"end":return _context4.stop()}}),_callee4)})));var TrackWithContributorsAndResiduesNoControls=function TrackWithContributorsAndResiduesNoControls(){return(0,lit_html__WEBPACK_IMPORTED_MODULE_24__.dy)(_templateObject5||(_templateObject5=_taggedTemplateLiteralLoose(['\n  <h3>Entry + contributors + residues</h3>\n  <nightingale-interpro-track\n    id="track4"\n    width="600"\n    length="490"\n    display-start="1"\n    display-end="490"\n    highlight="20:50,40:80"\n    shape="roundRectangle"\n    expanded\n  ></nightingale-interpro-track>\n'])))};TrackWithContributorsAndResiduesNoControls.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(){var track4,contributorsCopy;return _regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,customElements.whenDefined("nightingale-interpro-track");case 2:(track4=document.getElementById("track4"))&&((contributorsCopy=_packages_nightingale_interpro_track_tests_mockData_interpro_contributors_json__WEBPACK_IMPORTED_MODULE_27__.map((function(_ref7){var rest=_extends({},_ref7);return Object.assign({},rest)})))[0].residues=_packages_nightingale_interpro_track_tests_mockData_interpro_residues_json__WEBPACK_IMPORTED_MODULE_28__,track4.data=_packages_nightingale_interpro_track_tests_mockData_interpro_IPR016039_json__WEBPACK_IMPORTED_MODULE_26__,track4.contributors=contributorsCopy);case 4:case"end":return _context5.stop()}}),_callee5)})));var TrackAndLabels=function TrackAndLabels(){return(0,lit_html__WEBPACK_IMPORTED_MODULE_24__.dy)(_templateObject6||(_templateObject6=_taggedTemplateLiteralLoose(['\n  <h3>Entry with Labels</h3>\n  <h5>Entry with a fix and long label</h5>\n  <nightingale-interpro-track\n    id="track5"\n    width="600"\n    length="490"\n    shape="roundRectangle"\n    show-label\n    label="A very long label that should go on all the locations"\n  ></nightingale-interpro-track>\n  <h5>Entry using default label(accession)</h5>\n  <nightingale-interpro-track\n    id="track6"\n    width="600"\n    length="490"\n    shape="roundRectangle"\n    show-label\n  ></nightingale-interpro-track>\n  <h5>Entry specifying a feature field as label (.feature.name)</h5>\n  <nightingale-interpro-track\n    id="track7"\n    width="600"\n    length="490"\n    shape="roundRectangle"\n    label=".feature.name"\n    show-label\n  ></nightingale-interpro-track>\n  <h5>Entry contributors and labels</h5>\n  <nightingale-interpro-track\n    id="track8"\n    width="600"\n    length="490"\n    shape="roundRectangle"\n    label=".feature.name"\n    show-label\n    expanded\n  ></nightingale-interpro-track>\n'])))};TrackAndLabels.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee6(){var track5,track6,track7,track8;return _regeneratorRuntime().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,customElements.whenDefined("nightingale-interpro-track");case 2:(track5=document.getElementById("track5"))&&(track5.data=_packages_nightingale_interpro_track_tests_mockData_interpro_IPR016039_json__WEBPACK_IMPORTED_MODULE_26__),(track6=document.getElementById("track6"))&&(track6.data=_packages_nightingale_interpro_track_tests_mockData_interpro_IPR016039_json__WEBPACK_IMPORTED_MODULE_26__),(track7=document.getElementById("track7"))&&(track7.data=_packages_nightingale_interpro_track_tests_mockData_interpro_IPR016039_json__WEBPACK_IMPORTED_MODULE_26__),(track8=document.getElementById("track8"))&&(track8.data=_packages_nightingale_interpro_track_tests_mockData_interpro_IPR016039_json__WEBPACK_IMPORTED_MODULE_26__,track8.contributors=_packages_nightingale_interpro_track_tests_mockData_interpro_contributors_json__WEBPACK_IMPORTED_MODULE_27__);case 10:case"end":return _context6.stop()}}),_callee6)}))),Track.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, highlight, layout } = args;\n  return html`<nightingale-interpro-track\n    id="track"\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    layout=${layout}\n  ></nightingale-interpro-track>`;\n}'}},Track.parameters),SimpleTrackNoControls.parameters=Object.assign({storySource:{source:'() => html`\n  <h3>Entry</h3>\n  <nightingale-interpro-track\n    id="track1"\n    width="600"\n    length="490"\n    display-start="1"\n    display-end="490"\n    highlight="20:50,40:80"\n    shape="roundRectangle"\n    show-label\n  ></nightingale-interpro-track>\n`'}},SimpleTrackNoControls.parameters),TrackAndContributorsNoControls.parameters=Object.assign({storySource:{source:'() => html`\n  <h3>Entry + contributors</h3>\n  <nightingale-interpro-track\n    id="track2"\n    width="600"\n    length="490"\n    display-start="1"\n    display-end="490"\n    highlight="20:50,40:80"\n    shape="roundRectangle"\n    expanded\n  ></nightingale-interpro-track>\n`'}},TrackAndContributorsNoControls.parameters),TrackWithResiduesNoControls.parameters=Object.assign({storySource:{source:'() => html`\n  <h3>Entry + residues</h3>\n  <nightingale-interpro-track\n    id="track3"\n    width="600"\n    length="490"\n    display-start="1"\n    display-end="490"\n    highlight="20:50,40:80"\n    shape="roundRectangle"\n    expanded\n  ></nightingale-interpro-track>\n`'}},TrackWithResiduesNoControls.parameters),TrackWithContributorsAndResiduesNoControls.parameters=Object.assign({storySource:{source:'() => html`\n  <h3>Entry + contributors + residues</h3>\n  <nightingale-interpro-track\n    id="track4"\n    width="600"\n    length="490"\n    display-start="1"\n    display-end="490"\n    highlight="20:50,40:80"\n    shape="roundRectangle"\n    expanded\n  ></nightingale-interpro-track>\n`'}},TrackWithContributorsAndResiduesNoControls.parameters),TrackAndLabels.parameters=Object.assign({storySource:{source:'() => html`\n  <h3>Entry with Labels</h3>\n  <h5>Entry with a fix and long label</h5>\n  <nightingale-interpro-track\n    id="track5"\n    width="600"\n    length="490"\n    shape="roundRectangle"\n    show-label\n    label="A very long label that should go on all the locations"\n  ></nightingale-interpro-track>\n  <h5>Entry using default label(accession)</h5>\n  <nightingale-interpro-track\n    id="track6"\n    width="600"\n    length="490"\n    shape="roundRectangle"\n    show-label\n  ></nightingale-interpro-track>\n  <h5>Entry specifying a feature field as label (.feature.name)</h5>\n  <nightingale-interpro-track\n    id="track7"\n    width="600"\n    length="490"\n    shape="roundRectangle"\n    label=".feature.name"\n    show-label\n  ></nightingale-interpro-track>\n  <h5>Entry contributors and labels</h5>\n  <nightingale-interpro-track\n    id="track8"\n    width="600"\n    length="490"\n    shape="roundRectangle"\n    label=".feature.name"\n    show-label\n    expanded\n  ></nightingale-interpro-track>\n`'}},TrackAndLabels.parameters);var __namedExportsOrder=["Track","SimpleTrackNoControls","TrackAndContributorsNoControls","TrackWithResiduesNoControls","TrackWithContributorsAndResiduesNoControls","TrackAndLabels"]},"./stories/07.LineGraph/NightingaleLinegraphTrack.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LinegraphWithoutControls:()=>LinegraphWithoutControls,__namedExportsOrder:()=>__namedExportsOrder,default:()=>NightingaleLinegraphTrack_stories});__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _templateObject,_NightingaleLinegraphTrack_highlighted,_NightingaleLinegraphTrack_margins,_NightingaleLinegraphTrack_chart,_NightingaleLinegraphTrack_data,_NightingaleLinegraphTrack_minRange,_NightingaleLinegraphTrack_maxRange,lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js"),tslib_es6=(__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/tslib/tslib.es6.js")),decorators=__webpack_require__("./node_modules/lit/decorators.js"),lit=__webpack_require__("./node_modules/lit/index.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var curves={curveLinear:src.c_6,curveLinearClosed:src.fxm,curveMonotoneX:src.FdL,curveMonotoneY:src.ak_,curveBasis:src.$0Z,curveCardinal:src.YY7,curveStep:src.eA_,curveStepAfter:src.jsv,curveStepBefore:src.iJ,curveNatural:src.SxZ},NightingaleLinegraphTrack=function(_withManager){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NightingaleLinegraphTrack,_withManager);var _super=_createSuper(NightingaleLinegraphTrack);function NightingaleLinegraphTrack(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NightingaleLinegraphTrack),_this=_super.call(this),_NightingaleLinegraphTrack_highlighted.set(_assertThisInitialized(_this),void 0),_NightingaleLinegraphTrack_margins.set(_assertThisInitialized(_this),void 0),_NightingaleLinegraphTrack_chart.set(_assertThisInitialized(_this),void 0),_NightingaleLinegraphTrack_data.set(_assertThisInitialized(_this),void 0),_NightingaleLinegraphTrack_minRange.set(_assertThisInitialized(_this),void 0),_NightingaleLinegraphTrack_maxRange.set(_assertThisInitialized(_this),void 0),_this.yScale=(0,src.BYU)(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleLinegraphTrack,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(NightingaleLinegraphTrack.prototype),"connectedCallback",this).call(this),(0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_data,"f")&&this.createTrack()}},{key:"data",get:function get(){return(0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_data,"f")},set:function set(data){(0,tslib_es6.YH)(this,_NightingaleLinegraphTrack_data,data,"f"),this.createTrack()}},{key:"createTrack",value:function createTrack(){var _a,_this2=this;if((0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_data,"f")&&(null===(_a=this.svg)||void 0===_a||_a.selectAll("g").remove(),this.svg=(0,src.Ys)(this).selectAll("svg").attr("width",this.width).attr("height",this.height),this.svg)){(0,tslib_es6.YH)(this,_NightingaleLinegraphTrack_highlighted,this.svg.append("g").attr("class","highlighted"),"f"),(0,tslib_es6.YH)(this,_NightingaleLinegraphTrack_margins,this.svg.append("g").attr("class","margin"),"f");var range=[],minimum=[],maximum=[];(0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_data,"f").forEach((function(d){range.push.apply(range,_toConsumableArray(d.range)),minimum.push((0,src.VV$)(d.values,(function(v){return v.position}))||1/0),maximum.push((0,src.Fp7)(d.values,(function(v){return v.position}))||-1/0)})),(0,tslib_es6.YH)(this,_NightingaleLinegraphTrack_minRange,(0,src.VV$)(range)||0,"f"),(0,tslib_es6.YH)(this,_NightingaleLinegraphTrack_maxRange,(0,src.Fp7)(range)||0,"f");var beginning=(0,src.VV$)(minimum)||0,end=(0,src.Fp7)(maximum)||this.length||0,chartGroup=this.svg.append("g").attr("class","chart-group");this._initYScale(),(0,tslib_es6.YH)(this,_NightingaleLinegraphTrack_chart,chartGroup.selectAll(".chart").data((0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_data,"f")).enter().append("g").attr("class","chart"),"f"),(0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_chart,"f").append("path").attr("class","graph").attr("id",(function(d){return d.name})).attr("d",(function(d){return d.colour=d.colour||(0,src.ICD)(Math.random()),d.fill=d.fill||"none",_this2.drawLine(d)(d.values)})).attr("fill",(function(d){return d.fill||null})).attr("stroke",(function(d){return d.colour||null})).attr("transform","translate(0,0)");var mouseG=chartGroup.append("g").attr("class","mouse-over-effects"),lines=chartGroup.selectAll("path.graph"),mousePerLine=mouseG.selectAll(".mouse-per-line").data((0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_data,"f")).enter().append("g").attr("class","mouse-per-line");mousePerLine.append("circle").attr("r",7).style("stroke",(function(d){return d.colour||null})).style("fill","none").style("stroke-width","1px").style("opacity","0"),mousePerLine.append("text").attr("transform","translate(10,3)"),mouseG.append("rect").attr("width",this.width).attr("height",this.height).attr("fill","none").attr("pointer-events","all").on("mouseout",(function(){chartGroup.selectAll(".mouse-per-line circle").style("opacity","0"),chartGroup.selectAll(".mouse-per-line text").style("opacity","0")})).on("mousemove",(function(event){var _a,_b,_c,mouse=(0,src.cx$)(event);if(mouse[0]<((null===(_a=_this2.xScale)||void 0===_a?void 0:_a.call(_this2,beginning))||0)||mouse[0]>((null===(_b=_this2.xScale)||void 0===_b?void 0:_b.call(_this2,end))||0)+_this2.getSingleBaseWidth())chartGroup.selectAll(".mouse-per-line circle").style("opacity","0"),chartGroup.selectAll(".mouse-per-line text").style("opacity","0");else{var features={},seqPosition=Math.floor((null===(_c=_this2.xScale)||void 0===_c?void 0:_c.invert(mouse[0]))||0);chartGroup.selectAll(".mouse-per-line circle").style("opacity",(function(d){var value=d.values.find((function(v){return v.position===seqPosition}));return value&&value.value?"1":"0"})),chartGroup.selectAll(".mouse-per-line text").style("opacity","1"),chartGroup.selectAll(".mouse-per-line text").text((function(d){var value=d.values.find((function(v){return v.position===seqPosition}));return features[d.name]=value,value?value.value:""})),chartGroup.selectAll(".mouse-per-line").attr("transform",(function(d,i){for(var pos,beginning=0,end=lines.nodes()[i].getTotalLength();;){var target=Math.floor((beginning+end)/2);if(pos=lines.nodes()[i].getPointAtLength(target),(target===end||target===beginning)&&pos.x!==mouse[0])break;if(pos.x>mouse[0])end=target;else{if(!(pos.x<mouse[0]))break;beginning=target}}return"translate("+mouse[0]+","+((null==pos?void 0:pos.y)||0)+")"}));var detail={eventtype:"mouseover",feature:features,highlight:seqPosition+":"+seqPosition,type:_this2.type,target:_this2};_this2.dispatchEvent(new CustomEvent("change",{detail,bubbles:!0,cancelable:!0}))}}))}}},{key:"refresh",value:function refresh(){var _this3=this;(0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_chart,"f")&&((0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_chart,"f").selectAll("path.graph").attr("d",(function(d){return _this3.drawLine(d)(d.values)})),this.updateHighlight(),this.renderMarginOnGroup((0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_margins,"f")))}},{key:"_initYScale",value:function _initYScale(){var _a;null===(_a=this.yScale)||void 0===_a||_a.domain([(0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_minRange,"f")||0,(0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_maxRange,"f")||0]).range([this.height,0])}},{key:"drawLine",value:function drawLine(d){var graph,_this4=this,curve=d.lineCurve||"curveLinear";return graph="none"!==d.fill?(0,src.SOn)().y1((function(d){var _a;return(null===(_a=_this4.yScale)||void 0===_a?void 0:_a.call(_this4,d.value))||0})).y0((function(){var _a;return(null===(_a=_this4.yScale)||void 0===_a?void 0:_a.call(_this4,0))||0})):(0,src.jvg)().y((function(d){var _a;return(null===(_a=_this4.yScale)||void 0===_a?void 0:_a.call(_this4,d.value))||0})),graph.defined((function(d){return null!==d.value})).x((function(d){return _this4.getXFromSeqPosition(d.position+1)-_this4.getSingleBaseWidth()/2})).curve(curves[curve]||src.c_6)}},{key:"updateHighlight",value:function updateHighlight(){var _this5=this;if((0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_highlighted,"f")){var highlighs=(0,tslib_es6.Q_)(this,_NightingaleLinegraphTrack_highlighted,"f").selectAll("rect").data(this.highlightedRegion.segments);highlighs.enter().append("rect").style("pointer-events","none").merge(highlighs).attr("fill",this["highlight-color"]).attr("height",this.height).attr("x",(function(d){return _this5.getXFromSeqPosition(d.start)})).attr("width",(function(d){return _this5.getSingleBaseWidth()*(d.end-d.start+1)})),highlighs.exit().remove()}}},{key:"zoomRefreshed",value:function zoomRefreshed(){this.refresh()}},{key:"firstUpdated",value:function firstUpdated(){this.createTrack()}},{key:"render",value:function render(){return(0,lit.dy)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['<svg class="container"></svg>'])))}}]),NightingaleLinegraphTrack}((0,nightingale_new_core_src.YD)((0,nightingale_new_core_src._5)((0,nightingale_new_core_src.tG)((0,nightingale_new_core_src.vl)((0,nightingale_new_core_src.Ds)((0,nightingale_new_core_src.U6)((0,nightingale_new_core_src.Rn)(nightingale_new_core_src.ZP))))))));_NightingaleLinegraphTrack_highlighted=new WeakMap,_NightingaleLinegraphTrack_margins=new WeakMap,_NightingaleLinegraphTrack_chart=new WeakMap,_NightingaleLinegraphTrack_data=new WeakMap,_NightingaleLinegraphTrack_minRange=new WeakMap,_NightingaleLinegraphTrack_maxRange=new WeakMap,(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],NightingaleLinegraphTrack.prototype,"type",void 0),NightingaleLinegraphTrack=(0,tslib_es6.gn)([(0,decorators.Mo)("nightingale-linegraph-track")],NightingaleLinegraphTrack);const data_namespaceObject=JSON.parse('[{"name":"Chart name","colour":"red","range":[0,100],"lineCurve":"default linear??","values":[{"position":1,"value":45},{"position":2,"value":65},{"position":3,"value":6},{"position":4,"value":36},{"position":5,"value":100}]}]');var NightingaleLinegraphTrack_stories_templateObject,line_graph_chart=__webpack_require__("./packages/nightingale-linegraph-track/tests/mockData/line-graph-chart.json");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}const NightingaleLinegraphTrack_stories={parameters:{storySource:{source:'import { Meta, Story } from "@storybook/web-components";\nimport { html } from "lit-html";\nimport "../../packages/nightingale-linegraph-track/src/index.ts";\n\nexport default {\n  title: "Components/Linegraph Track",\n} as Meta;\n\nimport tinyData from "../../packages/nightingale-linegraph-track/tests/mockData/data.json";\nimport data from "../../packages/nightingale-linegraph-track/tests/mockData/line-graph-chart.json";\n\nexport const LinegraphWithoutControls = () => html`\n  <h3>Linegraph</h3>\n  <h3>1 line with 5 points(1 to 5)</h3>\n  <nightingale-linegraph-track\n    id="track"\n    width="600"\n    length="5"\n  ></nightingale-linegraph-track>\n  <h3>2 lines with 20 points(41 to 60)</h3>\n  <nightingale-linegraph-track\n    id="track1"\n    width="600"\n    length="60"\n  ></nightingale-linegraph-track>\n`;\n\nLinegraphWithoutControls.play = async () => {\n  await customElements.whenDefined("nightingale-linegraph-track");\n  const track = document.getElementById("track");\n  if (track) {\n    (track as any).data = tinyData;\n  }\n  const track1 = document.getElementById("track1");\n  if (track1) {\n    (track1 as any).data = data;\n  }\n};\n',locationsMap:{"linegraph-without-controls":{startLoc:{col:40,line:12},endLoc:{col:1,line:26},startBody:{col:40,line:12},endBody:{col:1,line:26}}}}},title:"Components/Linegraph Track"};var LinegraphWithoutControls=function LinegraphWithoutControls(){return(0,lit_html.dy)(NightingaleLinegraphTrack_stories_templateObject||(NightingaleLinegraphTrack_stories_templateObject=function NightingaleLinegraphTrack_stories_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['\n  <h3>Linegraph</h3>\n  <h3>1 line with 5 points(1 to 5)</h3>\n  <nightingale-linegraph-track\n    id="track"\n    width="600"\n    length="5"\n  ></nightingale-linegraph-track>\n  <h3>2 lines with 20 points(41 to 60)</h3>\n  <nightingale-linegraph-track\n    id="track1"\n    width="600"\n    length="60"\n  ></nightingale-linegraph-track>\n'])))};LinegraphWithoutControls.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var track,track1;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,customElements.whenDefined("nightingale-linegraph-track");case 2:(track=document.getElementById("track"))&&(track.data=data_namespaceObject),(track1=document.getElementById("track1"))&&(track1.data=line_graph_chart);case 6:case"end":return _context.stop()}}),_callee)}))),LinegraphWithoutControls.parameters=Object.assign({storySource:{source:'() => html`\n  <h3>Linegraph</h3>\n  <h3>1 line with 5 points(1 to 5)</h3>\n  <nightingale-linegraph-track\n    id="track"\n    width="600"\n    length="5"\n  ></nightingale-linegraph-track>\n  <h3>2 lines with 20 points(41 to 60)</h3>\n  <nightingale-linegraph-track\n    id="track1"\n    width="600"\n    length="60"\n  ></nightingale-linegraph-track>\n`'}},LinegraphWithoutControls.parameters);var __namedExportsOrder=["LinegraphWithoutControls"]},"./packages/nightingale-coloured-sequence/src/index.ts":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-float.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var _selection$prototype,_Transition$prototype,_templateObject,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),nightingale_new_core_src=(__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-names.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.flat.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.string.ends-with.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.global-this.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.every.js"),__webpack_require__("./node_modules/core-js/modules/es.number.is-integer.js"),__webpack_require__("./packages/nightingale-new-core/src/index.ts"));var _marked=_regeneratorRuntime().mark(selection_iterator);function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e9){throw _e9},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e10){didErr=!0,err=_e10},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __classPrivateFieldGet(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)}function __classPrivateFieldSet(receiver,state,value,kind,f){if("m"===kind)throw new TypeError("Private method is not writable");if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===kind?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value}var s$5,t$2,t$3=window,e$6=t$3.ShadowRoot&&(void 0===t$3.ShadyCSS||t$3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$6=Symbol(),n$7=new WeakMap,o$6=function(){function o(t,e,n){if(_classCallCheck(this,o),this._$cssResult$=!0,n!==s$6)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}return _createClass(o,[{key:"styleSheet",get:function get(){var t=this.o,s=this.t;if(e$6&&void 0===t){var _e=void 0!==s&&1===s.length;_e&&(t=n$7.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),_e&&n$7.set(s,t))}return t}},{key:"toString",value:function toString(){return this.cssText}}]),o}(),c$2=e$6?function(t){return t}:function(t){return t instanceof CSSStyleSheet?function(t){var _step,e="",_iterator=_createForOfIteratorHelper(t.cssRules);try{for(_iterator.s();!(_step=_iterator.n()).done;){e+=_step.value.cssText}}catch(err){_iterator.e(err)}finally{_iterator.f()}return function r$4(t){return new o$6("string"==typeof t?t:t+"",void 0,s$6)}(e)}(t):t},e$5=window,r$3=e$5.trustedTypes,h$3=r$3?r$3.emptyScript:"",o$5=e$5.reactiveElementPolyfillSupport,n$6={toAttribute:function toAttribute(t,i){switch(i){case Boolean:t=t?h$3:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute:function fromAttribute(t,i){var s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},a$3=function a$3(t,i){return i!==t&&(i==i||t==t)},l$4={attribute:!0,type:String,converter:n$6,reflect:!1,hasChanged:a$3},d$2=function(_HTMLElement){_inherits(d,_HTMLElement);var _$Ej2,_super=_createSuper(d);function d(){var _this;return _classCallCheck(this,d),(_this=_super.call(this))._$Ei=new Map,_this.isUpdatePending=!1,_this.hasUpdated=!1,_this._$El=null,_this.u(),_this}return _createClass(d,[{key:"u",value:function u(){var t,_this2=this;this._$E_=new Promise((function(t){return _this2.enableUpdating=t})),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((function(t){return t(_this2)}))}},{key:"addController",value:function addController(t){var i,s;(null!==(i=this._$ES)&&void 0!==i?i:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}},{key:"removeController",value:function removeController(t){var i;null===(i=this._$ES)||void 0===i||i.splice(this._$ES.indexOf(t)>>>0,1)}},{key:"_$Eg",value:function _$Eg(){var _this3=this;this.constructor.elementProperties.forEach((function(t,i){_this3.hasOwnProperty(i)&&(_this3._$Ei.set(i,_this3[i]),delete _this3[i])}))}},{key:"createRenderRoot",value:function createRenderRoot(){var t,s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return function S$3(s,n){e$6?s.adoptedStyleSheets=n.map((function(t){return t instanceof CSSStyleSheet?t:t.styleSheet})):n.forEach((function(e){var n=document.createElement("style"),o=t$3.litNonce;void 0!==o&&n.setAttribute("nonce",o),n.textContent=e.cssText,s.appendChild(n)}))}(s,this.constructor.elementStyles),s}},{key:"connectedCallback",value:function connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((function(t){var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}},{key:"enableUpdating",value:function enableUpdating(t){}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((function(t){var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,i,s){this._$AK(t,s)}},{key:"_$EO",value:function _$EO(t,i){var e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l$4,r=this.constructor._$Ep(t,s);if(void 0!==r&&!0===s.reflect){var _h=(void 0!==(null===(e=s.converter)||void 0===e?void 0:e.toAttribute)?s.converter:n$6).toAttribute(i,s.type);this._$El=t,null==_h?this.removeAttribute(r):this.setAttribute(r,_h),this._$El=null}}},{key:"_$AK",value:function _$AK(t,i){var s,e=this.constructor,r=e._$Ev.get(t);if(void 0!==r&&this._$El!==r){var _t=e.getPropertyOptions(r),_h2="function"==typeof _t.converter?{fromAttribute:_t.converter}:void 0!==(null===(s=_t.converter)||void 0===s?void 0:s.fromAttribute)?_t.converter:n$6;this._$El=r,this[r]=_h2.fromAttribute(i,_t.type),this._$El=null}}},{key:"requestUpdate",value:function requestUpdate(t,i,s){var e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||a$3)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(_$Ej2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.isUpdatePending=!0,_context.prev=1,_context.next=4,this._$E_;case 4:_context.next=9;break;case 6:_context.prev=6,_context.t0=_context.catch(1),Promise.reject(_context.t0);case 9:if(t=this.scheduleUpdate(),_context.t1=null!=t,!_context.t1){_context.next=14;break}return _context.next=14,t;case 14:return _context.abrupt("return",!this.isUpdatePending);case 15:case"end":return _context.stop()}}),_callee,this,[[1,6]])}))),function _$Ej(){return _$Ej2.apply(this,arguments)})},{key:"scheduleUpdate",value:function scheduleUpdate(){return this.performUpdate()}},{key:"performUpdate",value:function performUpdate(){var t,_this4=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach((function(t,i){return _this4[i]=t})),this._$Ei=void 0);var i=!1,s=this._$AL;try{(i=this.shouldUpdate(s))?(this.willUpdate(s),null===(t=this._$ES)||void 0===t||t.forEach((function(t){var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$Ek()}catch(t){throw i=!1,this._$Ek(),t}i&&this._$AE(s)}}},{key:"willUpdate",value:function willUpdate(t){}},{key:"_$AE",value:function _$AE(t){var i;null===(i=this._$ES)||void 0===i||i.forEach((function(t){var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}},{key:"_$Ek",value:function _$Ek(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function get(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function getUpdateComplete(){return this._$E_}},{key:"shouldUpdate",value:function shouldUpdate(t){return!0}},{key:"update",value:function update(t){var _this5=this;void 0!==this._$EC&&(this._$EC.forEach((function(t,i){return _this5._$EO(i,_this5[i],t)})),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function updated(t){}},{key:"firstUpdated",value:function firstUpdated(t){}}],[{key:"addInitializer",value:function addInitializer(t){var i;null!==(i=this.h)&&void 0!==i||(this.h=[]),this.h.push(t)}},{key:"observedAttributes",get:function get(){var _this6=this;this.finalize();var t=[];return this.elementProperties.forEach((function(i,s){var e=_this6._$Ep(s,i);void 0!==e&&(_this6._$Ev.set(e,s),t.push(e))})),t}},{key:"createProperty",value:function createProperty(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l$4;if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){var _s3="symbol"==typeof t?Symbol():"__"+t,_e2=this.getPropertyDescriptor(t,_s3,i);void 0!==_e2&&Object.defineProperty(this.prototype,t,_e2)}}},{key:"getPropertyDescriptor",value:function getPropertyDescriptor(t,i,s){return{get:function get(){return this[i]},set:function set(e){var r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function getPropertyOptions(t){return this.elementProperties.get(t)||l$4}},{key:"finalize",value:function finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var _step2,_t2=this.properties,_iterator2=_createForOfIteratorHelper([].concat(_toConsumableArray(Object.getOwnPropertyNames(_t2)),_toConsumableArray(Object.getOwnPropertySymbols(_t2))));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _s5=_step2.value;this.createProperty(_s5,_t2[_s5])}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function finalizeStyles(i){var s=[];if(Array.isArray(i)){var _step3,_iterator3=_createForOfIteratorHelper(new Set(i.flat(1/0).reverse()));try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _i3=_step3.value;s.unshift(c$2(_i3))}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}else void 0!==i&&s.push(c$2(i));return s}},{key:"_$Ep",value:function _$Ep(t,i){var s=i.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}}]),d}(_wrapNativeSuper(HTMLElement));d$2.finalized=!0,d$2.elementProperties=new Map,d$2.elementStyles=[],d$2.shadowRootOptions={mode:"open"},null==o$5||o$5({ReactiveElement:d$2}),(null!==(s$5=e$5.reactiveElementVersions)&&void 0!==s$5?s$5:e$5.reactiveElementVersions=[]).push("1.4.1");var i$3=window,s$4=i$3.trustedTypes,e$4=s$4?s$4.createPolicy("lit-html",{createHTML:function createHTML(t){return t}}):void 0,o$4="lit$"+(Math.random()+"").slice(9)+"$",n$5="?"+o$4,l$3="<"+n$5+">",h$2=document,r$2=function r$2(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return h$2.createComment(t)},d$1=function d$1(t){return null===t||"object"!=typeof t&&"function"!=typeof t},u$1=Array.isArray,c$1=function c$1(t){return u$1(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator])},v$1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,a$2=/-->/g,f$1=/>/g,_$1=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),m$1=/'/g,p$1=/"/g,$$1=/^(?:script|style|textarea|title)$/i,x$1=Symbol.for("lit-noChange"),b$1=Symbol.for("lit-nothing"),T$1=new WeakMap,A$1=h$2.createTreeWalker(h$2,129,null,!1),C$1=function(){function C(_ref,e){var l,t=_ref.strings,i=_ref._$litType$;_classCallCheck(this,C),this.parts=[];var h=0,d=0,u=t.length-1,c=this.parts,_E$=function E$1(t,i){for(var h,s=t.length-1,n=[],r=2===i?"<svg>":"",d=v$1,_i4=0;_i4<s;_i4++){for(var _s6=t[_i4],_e4=void 0,_u=void 0,_c2=-1,_g=0;_g<_s6.length&&(d.lastIndex=_g,null!==(_u=d.exec(_s6)));)_g=d.lastIndex,d===v$1?"!--"===_u[1]?d=a$2:void 0!==_u[1]?d=f$1:void 0!==_u[2]?($$1.test(_u[2])&&(h=RegExp("</"+_u[2],"g")),d=_$1):void 0!==_u[3]&&(d=_$1):d===_$1?">"===_u[0]?(d=null!=h?h:v$1,_c2=-1):void 0===_u[1]?_c2=-2:(_c2=d.lastIndex-_u[2].length,_e4=_u[1],d=void 0===_u[3]?_$1:'"'===_u[3]?p$1:m$1):d===p$1||d===m$1?d=_$1:d===a$2||d===f$1?d=v$1:(d=_$1,h=void 0);var y=d===_$1&&t[_i4+1].startsWith("/>")?" ":"";r+=d===v$1?_s6+l$3:_c2>=0?(n.push(_e4),_s6.slice(0,_c2)+"$lit$"+_s6.slice(_c2)+o$4+y):_s6+o$4+(-2===_c2?(n.push(void 0),_i4):y)}var u=r+(t[s]||"<?>")+(2===i?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==e$4?e$4.createHTML(u):u,n]}(t,i),_E$2=_slicedToArray(_E$,2),v=_E$2[0],a=_E$2[1];if(this.el=C$1.createElement(v,e),A$1.currentNode=this.el.content,2===i){var _t3=this.el.content,_i5=_t3.firstChild;_i5.remove(),_t3.append.apply(_t3,_toConsumableArray(_i5.childNodes))}for(;null!==(l=A$1.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){var _step4,_t4=[],_iterator4=_createForOfIteratorHelper(l.getAttributeNames());try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _i10=_step4.value;if(_i10.endsWith("$lit$")||_i10.startsWith(o$4)){var _s7=a[d++];if(_t4.push(_i10),void 0!==_s7){var _t6=l.getAttribute(_s7.toLowerCase()+"$lit$").split(o$4),_i11=/([.?@])?(.*)/.exec(_s7);c.push({type:1,index:h,name:_i11[2],strings:_t6,ctor:"."===_i11[1]?M$1:"?"===_i11[1]?k$1:"@"===_i11[1]?H$1:S$2})}else c.push({type:6,index:h})}}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}for(var _i8=0,_t5=_t4;_i8<_t5.length;_i8++){var _i9=_t5[_i8];l.removeAttribute(_i9)}}if($$1.test(l.tagName)){var _t7=l.textContent.split(o$4),_i12=_t7.length-1;if(_i12>0){l.textContent=s$4?s$4.emptyScript:"";for(var _s8=0;_s8<_i12;_s8++)l.append(_t7[_s8],r$2()),A$1.nextNode(),c.push({type:2,index:++h});l.append(_t7[_i12],r$2())}}}else if(8===l.nodeType)if(l.data===n$5)c.push({type:2,index:h});else for(var _t8=-1;-1!==(_t8=l.data.indexOf(o$4,_t8+1));)c.push({type:7,index:h}),_t8+=o$4.length-1;h++}}return _createClass(C,null,[{key:"createElement",value:function createElement(t,i){var s=h$2.createElement("template");return s.innerHTML=t,s}}]),C}();function P$1(t,i){var o,n,l,h,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,e=arguments.length>3?arguments[3]:void 0;if(i===x$1)return i;var r=void 0!==e?null===(o=s._$Co)||void 0===o?void 0:o[e]:s._$Cl,u=d$1(i)?void 0:i._$litDirective$;return(null==r?void 0:r.constructor)!==u&&(null===(n=null==r?void 0:r._$AO)||void 0===n||n.call(r,!1),void 0===u?r=void 0:(r=new u(t))._$AT(t,s,e),void 0!==e?(null!==(l=(h=s)._$Co)&&void 0!==l?l:h._$Co=[])[e]=r:s._$Cl=r),void 0!==r&&(i=P$1(t,r._$AS(t,i.values),r,e)),i}var V$1=function(){function V(t,i){_classCallCheck(this,V),this.u=[],this._$AN=void 0,this._$AD=t,this._$AM=i}return _createClass(V,[{key:"parentNode",get:function get(){return this._$AM.parentNode}},{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"v",value:function v(t){var i,_this$_$AD=this._$AD,s=_this$_$AD.el.content,e=_this$_$AD.parts,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:h$2).importNode(s,!0);A$1.currentNode=o;for(var n=A$1.nextNode(),l=0,r=0,d=e[0];void 0!==d;){if(l===d.index){var _i13=void 0;2===d.type?_i13=new N$1(n,n.nextSibling,this,t):1===d.type?_i13=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(_i13=new I$1(n,this,t)),this.u.push(_i13),d=e[++r]}l!==(null==d?void 0:d.index)&&(n=A$1.nextNode(),l++)}return o}},{key:"p",value:function p(t){var _step5,i=0,_iterator5=_createForOfIteratorHelper(this.u);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _s10=_step5.value;void 0!==_s10&&(void 0!==_s10.strings?(_s10._$AI(t,_s10,i),i+=_s10.strings.length-2):_s10._$AI(t[i])),i++}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}}]),V}(),N$1=function(){function N(t,i,s,e){var o;_classCallCheck(this,N),this.type=2,this._$AH=b$1,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cm=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}return _createClass(N,[{key:"_$AU",get:function get(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cm}},{key:"parentNode",get:function get(){var t=this._$AA.parentNode,i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}},{key:"startNode",get:function get(){return this._$AA}},{key:"endNode",get:function get(){return this._$AB}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;t=P$1(this,t,i),d$1(t)?t===b$1||null==t||""===t?(this._$AH!==b$1&&this._$AR(),this._$AH=b$1):t!==this._$AH&&t!==x$1&&this.g(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):c$1(t)?this.k(t):this.g(t)}},{key:"O",value:function O(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(t,i)}},{key:"T",value:function T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}},{key:"g",value:function g(t){this._$AH!==b$1&&d$1(this._$AH)?this._$AA.nextSibling.data=t:this.T(h$2.createTextNode(t)),this._$AH=t}},{key:"$",value:function $(t){var i,s=t.values,e=t._$litType$,o="number"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=C$1.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.p(s);else{var _t9=new V$1(o,this),_i14=_t9.v(this.options);_t9.p(s),this.T(_i14),this._$AH=_t9}}},{key:"_$AC",value:function _$AC(t){var i=T$1.get(t.strings);return void 0===i&&T$1.set(t.strings,i=new C$1(t)),i}},{key:"k",value:function k(t){u$1(this._$AH)||(this._$AH=[],this._$AR());var s,_step6,i=this._$AH,e=0,_iterator6=_createForOfIteratorHelper(t);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _o2=_step6.value;e===i.length?i.push(s=new N$1(this.O(r$2()),this.O(r$2()),this,this.options)):s=i[e],s._$AI(_o2),e++}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}},{key:"_$AR",value:function _$AR(){var s,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,i=arguments.length>1?arguments[1]:void 0;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){var _i15=t.nextSibling;t.remove(),t=_i15}}},{key:"setConnected",value:function setConnected(t){var i;void 0===this._$AM&&(this._$Cm=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}]),N}(),S$2=function(){function S(t,i,s,e,o){_classCallCheck(this,S),this.type=1,this._$AH=b$1,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=b$1}return _createClass(S,[{key:"tagName",get:function get(){return this.element.tagName}},{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,s=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0,o=this.strings,n=!1;if(void 0===o)t=P$1(this,t,i,0),(n=!d$1(t)||t!==this._$AH&&t!==x$1)&&(this._$AH=t);else{var _l,_h3,_e5=t;for(t=o[0],_l=0;_l<o.length-1;_l++)(_h3=P$1(this,_e5[s+_l],i,_l))===x$1&&(_h3=this._$AH[_l]),n||(n=!d$1(_h3)||_h3!==this._$AH[_l]),_h3===b$1?t=b$1:t!==b$1&&(t+=(null!=_h3?_h3:"")+o[_l+1]),this._$AH[_l]=_h3}n&&!e&&this.j(t)}},{key:"j",value:function j(t){t===b$1?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}]),S}(),M$1=function(_S$){_inherits(M,_S$);var _super2=_createSuper(M);function M(){var _this7;return _classCallCheck(this,M),(_this7=_super2.apply(this,arguments)).type=3,_this7}return _createClass(M,[{key:"j",value:function j(t){this.element[this.name]=t===b$1?void 0:t}}]),M}(S$2),R$1=s$4?s$4.emptyScript:"",k$1=function(_S$2){_inherits(k,_S$2);var _super3=_createSuper(k);function k(){var _this8;return _classCallCheck(this,k),(_this8=_super3.apply(this,arguments)).type=4,_this8}return _createClass(k,[{key:"j",value:function j(t){t&&t!==b$1?this.element.setAttribute(this.name,R$1):this.element.removeAttribute(this.name)}}]),k}(S$2),H$1=function(_S$3){_inherits(H,_S$3);var _super4=_createSuper(H);function H(t,i,s,e,o){var _this9;return _classCallCheck(this,H),(_this9=_super4.call(this,t,i,s,e,o)).type=5,_this9}return _createClass(H,[{key:"_$AI",value:function _$AI(t){var s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if((t=null!==(s=P$1(this,t,i,0))&&void 0!==s?s:b$1)!==x$1){var e=this._$AH,o=t===b$1&&e!==b$1||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==b$1&&(e===b$1||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}}},{key:"handleEvent",value:function handleEvent(t){var i,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}]),H}(S$2),I$1=function(){function I(t,i,s){_classCallCheck(this,I),this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}return _createClass(I,[{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"_$AI",value:function _$AI(t){P$1(this,t)}}]),I}(),z$1=i$3.litHtmlPolyfillSupport;null==z$1||z$1(C$1,N$1),(null!==(t$2=i$3.litHtmlVersions)&&void 0!==t$2?t$2:i$3.litHtmlVersions=[]).push("2.4.0");var s$2,t,t$1=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$3=Symbol(),n$4=new WeakMap,s$3=function(){function s(t,n,_s11){if(_classCallCheck(this,s),this._$cssResult$=!0,_s11!==e$3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}return _createClass(s,[{key:"styleSheet",get:function get(){var e=this.o,_s12=this.t;if(t$1&&void 0===e){var _t10=void 0!==_s12&&1===_s12.length;_t10&&(e=n$4.get(_s12)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),_t10&&n$4.set(_s12,e))}return e}},{key:"toString",value:function toString(){return this.cssText}}]),s}(),S$1=t$1?function(t){return t}:function(t){return t instanceof CSSStyleSheet?function(t){var _step7,e="",_iterator7=_createForOfIteratorHelper(t.cssRules);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){e+=_step7.value.cssText}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}return function o$3(t){return new s$3("string"==typeof t?t:t+"",void 0,e$3)}(e)}(t):t},e$2=window.trustedTypes,r$1=e$2?e$2.emptyScript:"",h$1=window.reactiveElementPolyfillSupport,o$2={toAttribute:function toAttribute(t,i){switch(i){case Boolean:t=t?r$1:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute:function fromAttribute(t,i){var s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},n$3=function n$3(t,i){return i!==t&&(i==i||t==t)},l$2={attribute:!0,type:String,converter:o$2,reflect:!1,hasChanged:n$3},a$1=function(_HTMLElement2){_inherits(a,_HTMLElement2);var _$Ej3,_super5=_createSuper(a);function a(){var _this10;return _classCallCheck(this,a),(_this10=_super5.call(this))._$Ei=new Map,_this10.isUpdatePending=!1,_this10.hasUpdated=!1,_this10._$El=null,_this10.u(),_this10}return _createClass(a,[{key:"u",value:function u(){var t,_this11=this;this._$E_=new Promise((function(t){return _this11.enableUpdating=t})),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((function(t){return t(_this11)}))}},{key:"addController",value:function addController(t){var i,s;(null!==(i=this._$ES)&&void 0!==i?i:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}},{key:"removeController",value:function removeController(t){var i;null===(i=this._$ES)||void 0===i||i.splice(this._$ES.indexOf(t)>>>0,1)}},{key:"_$Eg",value:function _$Eg(){var _this12=this;this.constructor.elementProperties.forEach((function(t,i){_this12.hasOwnProperty(i)&&(_this12._$Ei.set(i,_this12[i]),delete _this12[i])}))}},{key:"createRenderRoot",value:function createRenderRoot(){var t,s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return function i$2(e,n){t$1?e.adoptedStyleSheets=n.map((function(t){return t instanceof CSSStyleSheet?t:t.styleSheet})):n.forEach((function(t){var n=document.createElement("style"),s=window.litNonce;void 0!==s&&n.setAttribute("nonce",s),n.textContent=t.cssText,e.appendChild(n)}))}(s,this.constructor.elementStyles),s}},{key:"connectedCallback",value:function connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((function(t){var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}},{key:"enableUpdating",value:function enableUpdating(t){}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((function(t){var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,i,s){this._$AK(t,s)}},{key:"_$EO",value:function _$EO(t,i){var e,r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l$2,h=this.constructor._$Ep(t,s);if(void 0!==h&&!0===s.reflect){var _n4=(null!==(r=null===(e=s.converter)||void 0===e?void 0:e.toAttribute)&&void 0!==r?r:o$2.toAttribute)(i,s.type);this._$El=t,null==_n4?this.removeAttribute(h):this.setAttribute(h,_n4),this._$El=null}}},{key:"_$AK",value:function _$AK(t,i){var s,e,r=this.constructor,h=r._$Ev.get(t);if(void 0!==h&&this._$El!==h){var _t11=r.getPropertyOptions(h),_n5=_t11.converter,_l2=null!==(e=null!==(s=null==_n5?void 0:_n5.fromAttribute)&&void 0!==s?s:"function"==typeof _n5?_n5:null)&&void 0!==e?e:o$2.fromAttribute;this._$El=h,this[h]=_l2(i,_t11.type),this._$El=null}}},{key:"requestUpdate",value:function requestUpdate(t,i,s){var e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||n$3)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(_$Ej3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var t;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.isUpdatePending=!0,_context2.prev=1,_context2.next=4,this._$E_;case 4:_context2.next=9;break;case 6:_context2.prev=6,_context2.t0=_context2.catch(1),Promise.reject(_context2.t0);case 9:if(t=this.scheduleUpdate(),_context2.t1=null!=t,!_context2.t1){_context2.next=14;break}return _context2.next=14,t;case 14:return _context2.abrupt("return",!this.isUpdatePending);case 15:case"end":return _context2.stop()}}),_callee2,this,[[1,6]])}))),function _$Ej(){return _$Ej3.apply(this,arguments)})},{key:"scheduleUpdate",value:function scheduleUpdate(){return this.performUpdate()}},{key:"performUpdate",value:function performUpdate(){var t,_this13=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach((function(t,i){return _this13[i]=t})),this._$Ei=void 0);var i=!1,s=this._$AL;try{(i=this.shouldUpdate(s))?(this.willUpdate(s),null===(t=this._$ES)||void 0===t||t.forEach((function(t){var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$Ek()}catch(t){throw i=!1,this._$Ek(),t}i&&this._$AE(s)}}},{key:"willUpdate",value:function willUpdate(t){}},{key:"_$AE",value:function _$AE(t){var i;null===(i=this._$ES)||void 0===i||i.forEach((function(t){var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}},{key:"_$Ek",value:function _$Ek(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function get(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function getUpdateComplete(){return this._$E_}},{key:"shouldUpdate",value:function shouldUpdate(t){return!0}},{key:"update",value:function update(t){var _this14=this;void 0!==this._$EC&&(this._$EC.forEach((function(t,i){return _this14._$EO(i,_this14[i],t)})),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function updated(t){}},{key:"firstUpdated",value:function firstUpdated(t){}}],[{key:"addInitializer",value:function addInitializer(t){var i;null!==(i=this.h)&&void 0!==i||(this.h=[]),this.h.push(t)}},{key:"observedAttributes",get:function get(){var _this15=this;this.finalize();var t=[];return this.elementProperties.forEach((function(i,s){var e=_this15._$Ep(s,i);void 0!==e&&(_this15._$Ev.set(e,s),t.push(e))})),t}},{key:"createProperty",value:function createProperty(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l$2;if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){var _s13="symbol"==typeof t?Symbol():"__"+t,_e6=this.getPropertyDescriptor(t,_s13,i);void 0!==_e6&&Object.defineProperty(this.prototype,t,_e6)}}},{key:"getPropertyDescriptor",value:function getPropertyDescriptor(t,i,s){return{get:function get(){return this[i]},set:function set(e){var r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function getPropertyOptions(t){return this.elementProperties.get(t)||l$2}},{key:"finalize",value:function finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var _step8,_t12=this.properties,_iterator8=_createForOfIteratorHelper([].concat(_toConsumableArray(Object.getOwnPropertyNames(_t12)),_toConsumableArray(Object.getOwnPropertySymbols(_t12))));try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _s15=_step8.value;this.createProperty(_s15,_t12[_s15])}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function finalizeStyles(i){var s=[];if(Array.isArray(i)){var _step9,_iterator9=_createForOfIteratorHelper(new Set(i.flat(1/0).reverse()));try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _i18=_step9.value;s.unshift(S$1(_i18))}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}}else void 0!==i&&s.push(S$1(i));return s}},{key:"_$Ep",value:function _$Ep(t,i){var s=i.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}}]),a}(_wrapNativeSuper(HTMLElement));a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},null==h$1||h$1({ReactiveElement:a$1}),(null!==(s$2=globalThis.reactiveElementVersions)&&void 0!==s$2?s$2:globalThis.reactiveElementVersions=[]).push("1.3.4");var i$1=globalThis.trustedTypes,s$1=i$1?i$1.createPolicy("lit-html",{createHTML:function createHTML(t){return t}}):void 0,e$1="lit$"+(Math.random()+"").slice(9)+"$",o$1="?"+e$1,n$2="<"+o$1+">",l$1=document,h=function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l$1.createComment(t)},r=function r(t){return null===t||"object"!=typeof t&&"function"!=typeof t},d=Array.isArray,u=function u(t){return d(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator])},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),_=/'/g,g=/"/g,m=/^(?:script|style|textarea|title)$/i,$=function p(t){return function(i){for(var _len=arguments.length,s=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)s[_key-1]=arguments[_key];return{_$litType$:t,strings:i,values:s}}}(1),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),x=new WeakMap,A=l$1.createTreeWalker(l$1,129,null,!1),E=function E(t,i){for(var h,o=t.length-1,l=[],r=2===i?"<svg>":"",d=c,_i19=0;_i19<o;_i19++){for(var _s16=t[_i19],_o3=void 0,_u2=void 0,_p=-1,_$=0;_$<_s16.length&&(d.lastIndex=_$,null!==(_u2=d.exec(_s16)));)_$=d.lastIndex,d===c?"!--"===_u2[1]?d=v:void 0!==_u2[1]?d=a:void 0!==_u2[2]?(m.test(_u2[2])&&(h=RegExp("</"+_u2[2],"g")),d=f):void 0!==_u2[3]&&(d=f):d===f?">"===_u2[0]?(d=null!=h?h:c,_p=-1):void 0===_u2[1]?_p=-2:(_p=d.lastIndex-_u2[2].length,_o3=_u2[1],d=void 0===_u2[3]?f:'"'===_u2[3]?g:_):d===g||d===_?d=f:d===v||d===a?d=c:(d=f,h=void 0);var y=d===f&&t[_i19+1].startsWith("/>")?" ":"";r+=d===c?_s16+n$2:_p>=0?(l.push(_o3),_s16.slice(0,_p)+"$lit$"+_s16.slice(_p)+e$1+y):_s16+e$1+(-2===_p?(l.push(void 0),_i19):y)}var u=r+(t[o]||"<?>")+(2===i?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==s$1?s$1.createHTML(u):u,l]},C=function(){function C(_ref2,n){var l,t=_ref2.strings,s=_ref2._$litType$;_classCallCheck(this,C),this.parts=[];var r=0,d=0,u=t.length-1,c=this.parts,_E2=_slicedToArray(E(t,s),2),v=_E2[0],a=_E2[1];if(this.el=C.createElement(v,n),A.currentNode=this.el.content,2===s){var _t14=this.el.content,_i20=_t14.firstChild;_i20.remove(),_t14.append.apply(_t14,_toConsumableArray(_i20.childNodes))}for(;null!==(l=A.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){var _step10,_t15=[],_iterator10=_createForOfIteratorHelper(l.getAttributeNames());try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _i25=_step10.value;if(_i25.endsWith("$lit$")||_i25.startsWith(e$1)){var _s17=a[d++];if(_t15.push(_i25),void 0!==_s17){var _t17=l.getAttribute(_s17.toLowerCase()+"$lit$").split(e$1),_i26=/([.?@])?(.*)/.exec(_s17);c.push({type:1,index:r,name:_i26[2],strings:_t17,ctor:"."===_i26[1]?M:"?"===_i26[1]?k:"@"===_i26[1]?H:S})}else c.push({type:6,index:r})}}}catch(err){_iterator10.e(err)}finally{_iterator10.f()}for(var _i23=0,_t16=_t15;_i23<_t16.length;_i23++){var _i24=_t16[_i23];l.removeAttribute(_i24)}}if(m.test(l.tagName)){var _t18=l.textContent.split(e$1),_s18=_t18.length-1;if(_s18>0){l.textContent=i$1?i$1.emptyScript:"";for(var _i27=0;_i27<_s18;_i27++)l.append(_t18[_i27],h()),A.nextNode(),c.push({type:2,index:++r});l.append(_t18[_s18],h())}}}else if(8===l.nodeType)if(l.data===o$1)c.push({type:2,index:r});else for(var _t19=-1;-1!==(_t19=l.data.indexOf(e$1,_t19+1));)c.push({type:7,index:r}),_t19+=e$1.length-1;r++}}return _createClass(C,null,[{key:"createElement",value:function createElement(t,i){var s=l$1.createElement("template");return s.innerHTML=t,s}}]),C}();function P(t,i){var o,n,l,h,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,e=arguments.length>3?arguments[3]:void 0;if(i===b)return i;var d=void 0!==e?null===(o=s._$Cl)||void 0===o?void 0:o[e]:s._$Cu,u=r(i)?void 0:i._$litDirective$;return(null==d?void 0:d.constructor)!==u&&(null===(n=null==d?void 0:d._$AO)||void 0===n||n.call(d,!1),void 0===u?d=void 0:(d=new u(t))._$AT(t,s,e),void 0!==e?(null!==(l=(h=s)._$Cl)&&void 0!==l?l:h._$Cl=[])[e]=d:s._$Cu=d),void 0!==d&&(i=P(t,d._$AS(t,i.values),d,e)),i}var l,o,V=function(){function V(t,i){_classCallCheck(this,V),this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=i}return _createClass(V,[{key:"parentNode",get:function get(){return this._$AM.parentNode}},{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"p",value:function p(t){var i,_this$_$AD2=this._$AD,s=_this$_$AD2.el.content,e=_this$_$AD2.parts,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:l$1).importNode(s,!0);A.currentNode=o;for(var n=A.nextNode(),h=0,r=0,d=e[0];void 0!==d;){if(h===d.index){var _i28=void 0;2===d.type?_i28=new N(n,n.nextSibling,this,t):1===d.type?_i28=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(_i28=new I(n,this,t)),this.v.push(_i28),d=e[++r]}h!==(null==d?void 0:d.index)&&(n=A.nextNode(),h++)}return o}},{key:"m",value:function m(t){var _step11,i=0,_iterator11=_createForOfIteratorHelper(this.v);try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _s20=_step11.value;void 0!==_s20&&(void 0!==_s20.strings?(_s20._$AI(t,_s20,i),i+=_s20.strings.length-2):_s20._$AI(t[i])),i++}}catch(err){_iterator11.e(err)}finally{_iterator11.f()}}}]),V}(),N=function(){function N(t,i,s,e){var o;_classCallCheck(this,N),this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$C_=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}return _createClass(N,[{key:"_$AU",get:function get(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$C_}},{key:"parentNode",get:function get(){var t=this._$AA.parentNode,i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}},{key:"startNode",get:function get(){return this._$AA}},{key:"endNode",get:function get(){return this._$AB}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;t=P(this,t,i),r(t)?t===w||null==t||""===t?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.T(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.k(t):u(t)?this.S(t):this.T(t)}},{key:"j",value:function j(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(t,i)}},{key:"k",value:function k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.j(t))}},{key:"T",value:function T(t){this._$AH!==w&&r(this._$AH)?this._$AA.nextSibling.data=t:this.k(l$1.createTextNode(t)),this._$AH=t}},{key:"$",value:function $(t){var i,s=t.values,e=t._$litType$,o="number"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=C.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.m(s);else{var _t20=new V(o,this),_i29=_t20.p(this.options);_t20.m(s),this.k(_i29),this._$AH=_t20}}},{key:"_$AC",value:function _$AC(t){var i=x.get(t.strings);return void 0===i&&x.set(t.strings,i=new C(t)),i}},{key:"S",value:function S(t){d(this._$AH)||(this._$AH=[],this._$AR());var s,_step12,i=this._$AH,e=0,_iterator12=_createForOfIteratorHelper(t);try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _o5=_step12.value;e===i.length?i.push(s=new N(this.j(h()),this.j(h()),this,this.options)):s=i[e],s._$AI(_o5),e++}}catch(err){_iterator12.e(err)}finally{_iterator12.f()}e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}},{key:"_$AR",value:function _$AR(){var s,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,i=arguments.length>1?arguments[1]:void 0;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){var _i30=t.nextSibling;t.remove(),t=_i30}}},{key:"setConnected",value:function setConnected(t){var i;void 0===this._$AM&&(this._$C_=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}]),N}(),S=function(){function S(t,i,s,e,o){_classCallCheck(this,S),this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=w}return _createClass(S,[{key:"tagName",get:function get(){return this.element.tagName}},{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,s=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0,o=this.strings,n=!1;if(void 0===o)t=P(this,t,i,0),(n=!r(t)||t!==this._$AH&&t!==b)&&(this._$AH=t);else{var _l3,_h4,_e8=t;for(t=o[0],_l3=0;_l3<o.length-1;_l3++)(_h4=P(this,_e8[s+_l3],i,_l3))===b&&(_h4=this._$AH[_l3]),n||(n=!r(_h4)||_h4!==this._$AH[_l3]),_h4===w?t=w:t!==w&&(t+=(null!=_h4?_h4:"")+o[_l3+1]),this._$AH[_l3]=_h4}n&&!e&&this.P(t)}},{key:"P",value:function P(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}]),S}(),M=function(_S){_inherits(M,_S);var _super6=_createSuper(M);function M(){var _this16;return _classCallCheck(this,M),(_this16=_super6.apply(this,arguments)).type=3,_this16}return _createClass(M,[{key:"P",value:function P(t){this.element[this.name]=t===w?void 0:t}}]),M}(S),R=i$1?i$1.emptyScript:"",k=function(_S2){_inherits(k,_S2);var _super7=_createSuper(k);function k(){var _this17;return _classCallCheck(this,k),(_this17=_super7.apply(this,arguments)).type=4,_this17}return _createClass(k,[{key:"P",value:function P(t){t&&t!==w?this.element.setAttribute(this.name,R):this.element.removeAttribute(this.name)}}]),k}(S),H=function(_S3){_inherits(H,_S3);var _super8=_createSuper(H);function H(t,i,s,e,o){var _this18;return _classCallCheck(this,H),(_this18=_super8.call(this,t,i,s,e,o)).type=5,_this18}return _createClass(H,[{key:"_$AI",value:function _$AI(t){var s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if((t=null!==(s=P(this,t,i,0))&&void 0!==s?s:w)!==b){var e=this._$AH,o=t===w&&e!==w||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==w&&(e===w||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}}},{key:"handleEvent",value:function handleEvent(t){var i,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}]),H}(S),I=function(){function I(t,i,s){_classCallCheck(this,I),this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}return _createClass(I,[{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"_$AI",value:function _$AI(t){P(this,t)}}]),I}(),z=window.litHtmlPolyfillSupport;null==z||z(C,N),(null!==(t=globalThis.litHtmlVersions)&&void 0!==t?t:globalThis.litHtmlVersions=[]).push("2.2.7");var s=function(_a$){_inherits(s,_a$);var _super9=_createSuper(s);function s(){var _this19;return _classCallCheck(this,s),(_this19=_super9.apply(this,arguments)).renderOptions={host:_assertThisInitialized(_this19)},_this19._$Do=void 0,_this19}return _createClass(s,[{key:"createRenderRoot",value:function createRenderRoot(){var t,e,i=_get(_getPrototypeOf(s.prototype),"createRenderRoot",this).call(this);return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}},{key:"update",value:function update(t){var i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(s.prototype),"update",this).call(this,t),this._$Do=function T(t,i,s){var e,o,n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i,l=n._$litPart$;if(void 0===l){var _t13=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new N(i.insertBefore(h(),_t13),_t13,void 0,null!=s?s:{})}return l._$AI(t),l}(i,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function connectedCallback(){var t;_get(_getPrototypeOf(s.prototype),"connectedCallback",this).call(this),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t;_get(_getPrototypeOf(s.prototype),"disconnectedCallback",this).call(this),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}},{key:"render",value:function render(){return b}}]),s}(a$1);s.finalized=!0,s._$litElement$=!0,null===(l=globalThis.litElementHydrateSupport)||void 0===l||l.call(globalThis,{LitElement:s});var n$1=globalThis.litElementPolyfillSupport;null==n$1||n$1({LitElement:s}),(null!==(o=globalThis.litElementVersions)&&void 0!==o?o:globalThis.litElementVersions=[]).push("3.2.2");var n;function identity$1(x){return x}null===(n=window.HTMLSlotElement)||void 0===n||n.prototype.assignedElements;function translateX(x){return"translate("+x+",0)"}function translateY(y){return"translate(0,"+y+")"}function number(scale){return function(d){return+scale(d)}}function center(scale,offset){return offset=Math.max(0,scale.bandwidth()-2*offset)/2,scale.round()&&(offset=Math.round(offset)),function(d){return+scale(d)+offset}}function entering(){return!this.__axis}function axis(orient,scale){var tickArguments=[],tickValues=null,tickFormat=null,tickSizeInner=6,tickSizeOuter=6,tickPadding=3,offset="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,k=1===orient||4===orient?-1:1,x=4===orient||2===orient?"x":"y",transform=1===orient||3===orient?translateX:translateY;function axis(context){var values=null==tickValues?scale.ticks?scale.ticks.apply(scale,tickArguments):scale.domain():tickValues,format=null==tickFormat?scale.tickFormat?scale.tickFormat.apply(scale,tickArguments):identity$1:tickFormat,spacing=Math.max(tickSizeInner,0)+tickPadding,range=scale.range(),range0=+range[0]+offset,range1=+range[range.length-1]+offset,position=(scale.bandwidth?center:number)(scale.copy(),offset),selection=context.selection?context.selection():context,path=selection.selectAll(".domain").data([null]),tick=selection.selectAll(".tick").data(values,scale).order(),tickExit=tick.exit(),tickEnter=tick.enter().append("g").attr("class","tick"),line=tick.select("line"),text=tick.select("text");path=path.merge(path.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),tick=tick.merge(tickEnter),line=line.merge(tickEnter.append("line").attr("stroke","currentColor").attr(x+"2",k*tickSizeInner)),text=text.merge(tickEnter.append("text").attr("fill","currentColor").attr(x,k*spacing).attr("dy",1===orient?"0em":3===orient?"0.71em":"0.32em")),context!==selection&&(path=path.transition(context),tick=tick.transition(context),line=line.transition(context),text=text.transition(context),tickExit=tickExit.transition(context).attr("opacity",1e-6).attr("transform",(function(d){return isFinite(d=position(d))?transform(d+offset):this.getAttribute("transform")})),tickEnter.attr("opacity",1e-6).attr("transform",(function(d){var p=this.parentNode.__axis;return transform((p&&isFinite(p=p(d))?p:position(d))+offset)}))),tickExit.remove(),path.attr("d",4===orient||2===orient?tickSizeOuter?"M"+k*tickSizeOuter+","+range0+"H"+offset+"V"+range1+"H"+k*tickSizeOuter:"M"+offset+","+range0+"V"+range1:tickSizeOuter?"M"+range0+","+k*tickSizeOuter+"V"+offset+"H"+range1+"V"+k*tickSizeOuter:"M"+range0+","+offset+"H"+range1),tick.attr("opacity",1).attr("transform",(function(d){return transform(position(d)+offset)})),line.attr(x+"2",k*tickSizeInner),text.attr(x,k*spacing).text(format),selection.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===orient?"start":4===orient?"end":"middle"),selection.each((function(){this.__axis=position}))}return axis.scale=function(_){return arguments.length?(scale=_,axis):scale},axis.ticks=function(){return tickArguments=Array.from(arguments),axis},axis.tickArguments=function(_){return arguments.length?(tickArguments=null==_?[]:Array.from(_),axis):tickArguments.slice()},axis.tickValues=function(_){return arguments.length?(tickValues=null==_?null:Array.from(_),axis):tickValues&&tickValues.slice()},axis.tickFormat=function(_){return arguments.length?(tickFormat=_,axis):tickFormat},axis.tickSize=function(_){return arguments.length?(tickSizeInner=tickSizeOuter=+_,axis):tickSizeInner},axis.tickSizeInner=function(_){return arguments.length?(tickSizeInner=+_,axis):tickSizeInner},axis.tickSizeOuter=function(_){return arguments.length?(tickSizeOuter=+_,axis):tickSizeOuter},axis.tickPadding=function(_){return arguments.length?(tickPadding=+_,axis):tickPadding},axis.offset=function(_){return arguments.length?(offset=+_,axis):offset},axis}var noop={value:function value(){}};function dispatch(){for(var t,i=0,n=arguments.length,_={};i<n;++i){if(!(t=arguments[i]+"")||t in _||/[\s.]/.test(t))throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function parseTypenames$1(typenames,types){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");if(i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name}}))}function get$1(type,name){for(var c,i=0,n=type.length;i<n;++i)if((c=type[i]).name===name)return c.value}function set$1(type,name,callback){for(var i=0,n=type.length;i<n;++i)if(type[i].name===name){type[i]=noop,type=type.slice(0,i).concat(type.slice(i+1));break}return null!=callback&&type.push({name,value:callback}),type}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function on(typename,callback){var t,_=this._,T=parseTypenames$1(typename+"",_),i=-1,n=T.length;if(!(arguments.length<2)){if(null!=callback&&"function"!=typeof callback)throw new Error("invalid callback: "+callback);for(;++i<n;)if(t=(typename=T[i]).type)_[t]=set$1(_[t],typename.name,callback);else if(null==callback)for(t in _)_[t]=set$1(_[t],typename.name,null);return this}for(;++i<n;)if((t=(typename=T[i]).type)&&(t=get$1(_[t],typename.name)))return t},copy:function copy(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function call(type,that){if((n=arguments.length-2)>0)for(var n,t,args=new Array(n),i=0;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(i=0,n=(t=this._[type]).length;i<n;++i)t[i].value.apply(that,args)},apply:function apply(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}};var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(name){var prefix=name+="",i=prefix.indexOf(":");return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),namespaces.hasOwnProperty(prefix)?{space:namespaces[prefix],local:name}:name}function creatorInherit(name){return function(){var document=this.ownerDocument,uri=this.namespaceURI;return uri===xhtml&&document.documentElement.namespaceURI===xhtml?document.createElement(name):document.createElementNS(uri,name)}}function creatorFixed(fullname){return function(){return this.ownerDocument.createElementNS(fullname.space,fullname.local)}}function creator(name){var fullname=namespace(name);return(fullname.local?creatorFixed:creatorInherit)(fullname)}function none(){}function selector(selector){return null==selector?none:function(){return this.querySelector(selector)}}function array(x){return null==x?[]:Array.isArray(x)?x:Array.from(x)}function empty(){return[]}function selectorAll(selector){return null==selector?empty:function(){return this.querySelectorAll(selector)}}function matcher(selector){return function(){return this.matches(selector)}}function childMatcher(selector){return function(node){return node.matches(selector)}}var find=Array.prototype.find;function childFirst(){return this.firstElementChild}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function sparse(update){return new Array(update.length)}function EnterNode(parent,datum){this.ownerDocument=parent.ownerDocument,this.namespaceURI=parent.namespaceURI,this._next=null,this._parent=parent,this.__data__=datum}function constant$1(x){return function(){return x}}function bindIndex(parent,group,enter,update,exit,data){for(var node,i=0,groupLength=group.length,dataLength=data.length;i<dataLength;++i)(node=group[i])?(node.__data__=data[i],update[i]=node):enter[i]=new EnterNode(parent,data[i]);for(;i<groupLength;++i)(node=group[i])&&(exit[i]=node)}function bindKey(parent,group,enter,update,exit,data,key){var i,node,keyValue,nodeByKeyValue=new Map,groupLength=group.length,dataLength=data.length,keyValues=new Array(groupLength);for(i=0;i<groupLength;++i)(node=group[i])&&(keyValues[i]=keyValue=key.call(node,node.__data__,i,group)+"",nodeByKeyValue.has(keyValue)?exit[i]=node:nodeByKeyValue.set(keyValue,node));for(i=0;i<dataLength;++i)keyValue=key.call(parent,data[i],i,data)+"",(node=nodeByKeyValue.get(keyValue))?(update[i]=node,node.__data__=data[i],nodeByKeyValue.delete(keyValue)):enter[i]=new EnterNode(parent,data[i]);for(i=0;i<groupLength;++i)(node=group[i])&&nodeByKeyValue.get(keyValues[i])===node&&(exit[i]=node)}function datum(node){return node.__data__}function arraylike(data){return"object"==typeof data&&"length"in data?data:Array.from(data)}function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function attrRemove$1(name){return function(){this.removeAttribute(name)}}function attrRemoveNS$1(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant$1(name,value){return function(){this.setAttribute(name,value)}}function attrConstantNS$1(fullname,value){return function(){this.setAttributeNS(fullname.space,fullname.local,value)}}function attrFunction$1(name,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttribute(name):this.setAttribute(name,v)}}function attrFunctionNS$1(fullname,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttributeNS(fullname.space,fullname.local):this.setAttributeNS(fullname.space,fullname.local,v)}}function defaultView(node){return node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView}function styleRemove$1(name){return function(){this.style.removeProperty(name)}}function styleConstant$1(name,value,priority){return function(){this.style.setProperty(name,value,priority)}}function styleFunction$1(name,value,priority){return function(){var v=value.apply(this,arguments);null==v?this.style.removeProperty(name):this.style.setProperty(name,v,priority)}}function styleValue(node,name){return node.style.getPropertyValue(name)||defaultView(node).getComputedStyle(node,null).getPropertyValue(name)}function propertyRemove(name){return function(){delete this[name]}}function propertyConstant(name,value){return function(){this[name]=value}}function propertyFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?delete this[name]:this[name]=v}}function classArray(string){return string.trim().split(/^|\s+/)}function classList(node){return node.classList||new ClassList(node)}function ClassList(node){this._node=node,this._names=classArray(node.getAttribute("class")||"")}function classedAdd(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.add(names[i])}function classedRemove(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.remove(names[i])}function classedTrue(names){return function(){classedAdd(this,names)}}function classedFalse(names){return function(){classedRemove(this,names)}}function classedFunction(names,value){return function(){(value.apply(this,arguments)?classedAdd:classedRemove)(this,names)}}function textRemove(){this.textContent=""}function textConstant$1(value){return function(){this.textContent=value}}function textFunction$1(value){return function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}}function htmlRemove(){this.innerHTML=""}function htmlConstant(value){return function(){this.innerHTML=value}}function htmlFunction(value){return function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function constantNull(){return null}function remove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function selection_cloneShallow(){var clone=this.cloneNode(!1),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function selection_cloneDeep(){var clone=this.cloneNode(!0),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function parseTypenames(typenames){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");return i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),{type:t,name}}))}function onRemove(typename){return function(){var on=this.__on;if(on){for(var o,j=0,i=-1,m=on.length;j<m;++j)o=on[j],typename.type&&o.type!==typename.type||o.name!==typename.name?on[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?on.length=i:delete this.__on}}}function onAdd(typename,value,options){return function(){var o,on=this.__on,listener=function contextListener(listener){return function(event){listener.call(this,event,this.__data__)}}(value);if(on)for(var j=0,m=on.length;j<m;++j)if((o=on[j]).type===typename.type&&o.name===typename.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=listener,o.options=options),void(o.value=value);this.addEventListener(typename.type,listener,options),o={type:typename.type,name:typename.name,value,listener,options},on?on.push(o):this.__on=[o]}}function dispatchEvent(node,type,params){var window=defaultView(node),event=window.CustomEvent;"function"==typeof event?event=new event(type,params):(event=window.document.createEvent("Event"),params?(event.initEvent(type,params.bubbles,params.cancelable),event.detail=params.detail):event.initEvent(type,!1,!1)),node.dispatchEvent(event)}function dispatchConstant(type,params){return function(){return dispatchEvent(this,type,params)}}function dispatchFunction(type,params){return function(){return dispatchEvent(this,type,params.apply(this,arguments))}}function selection_iterator(){var groups,j,m,group,i,n,node;return _regeneratorRuntime().wrap((function selection_iterator$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:groups=this._groups,j=0,m=groups.length;case 1:if(!(j<m)){_context3.next=13;break}group=groups[j],i=0,n=group.length;case 3:if(!(i<n)){_context3.next=10;break}if(!(node=group[i])){_context3.next=7;break}return _context3.next=7,node;case 7:++i,_context3.next=3;break;case 10:++j,_context3.next=1;break;case 13:case"end":return _context3.stop()}}),_marked,this)}EnterNode.prototype={constructor:EnterNode,appendChild:function appendChild(child){return this._parent.insertBefore(child,this._next)},insertBefore:function insertBefore(child,next){return this._parent.insertBefore(child,next)},querySelector:function querySelector(selector){return this._parent.querySelector(selector)},querySelectorAll:function querySelectorAll(selector){return this._parent.querySelectorAll(selector)}},ClassList.prototype={add:function add(name){this._names.indexOf(name)<0&&(this._names.push(name),this._node.setAttribute("class",this._names.join(" ")))},remove:function remove(name){var i=this._names.indexOf(name);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function contains(name){return this._names.indexOf(name)>=0}};var root=[null];function Selection$1(groups,parents){this._groups=groups,this._parents=parents}function selection(){return new Selection$1([[document.documentElement]],root)}function dist_define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}Selection$1.prototype=selection.prototype=(_selection$prototype={constructor:Selection$1,select:function selection_select(select){"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode);return new Selection$1(subgroups,this._parents)},selectAll:function selection_selectAll(select){select="function"==typeof select?function arrayAll(select){return function(){return array(select.apply(this,arguments))}}(select):selectorAll(select);for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&(subgroups.push(select.call(node,node.__data__,i,group)),parents.push(node));return new Selection$1(subgroups,parents)},selectChild:function selection_selectChild(match){return this.select(null==match?childFirst:function childFind(match){return function(){return find.call(this.children,match)}}("function"==typeof match?match:childMatcher(match)))},selectChildren:function selection_selectChildren(match){return this.selectAll(null==match?children:function childrenFilter(match){return function(){return filter.call(this.children,match)}}("function"==typeof match?match:childMatcher(match)))},filter:function selection_filter(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Selection$1(subgroups,this._parents)},data:function selection_data(value,key){if(!arguments.length)return Array.from(this,datum);var bind=key?bindKey:bindIndex,parents=this._parents,groups=this._groups;"function"!=typeof value&&(value=constant$1(value));for(var m=groups.length,update=new Array(m),enter=new Array(m),exit=new Array(m),j=0;j<m;++j){var parent=parents[j],group=groups[j],groupLength=group.length,data=arraylike(value.call(parent,parent&&parent.__data__,j,parents)),dataLength=data.length,enterGroup=enter[j]=new Array(dataLength),updateGroup=update[j]=new Array(dataLength),exitGroup=exit[j]=new Array(groupLength);bind(parent,group,enterGroup,updateGroup,exitGroup,data,key);for(var previous,next,i0=0,i1=0;i0<dataLength;++i0)if(previous=enterGroup[i0]){for(i0>=i1&&(i1=i0+1);!(next=updateGroup[i1])&&++i1<dataLength;);previous._next=next||null}}return(update=new Selection$1(update,parents))._enter=enter,update._exit=exit,update},enter:function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)},exit:function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)},join:function selection_join(onenter,onupdate,onexit){var enter=this.enter(),update=this,exit=this.exit();return"function"==typeof onenter?(enter=onenter(enter))&&(enter=enter.selection()):enter=enter.append(onenter+""),null!=onupdate&&(update=onupdate(update))&&(update=update.selection()),null==onexit?exit.remove():onexit(exit),enter&&update?enter.merge(update).order():update},merge:function selection_merge(context){for(var selection=context.selection?context.selection():context,groups0=this._groups,groups1=selection._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Selection$1(merges,this._parents)},selection:function selection_selection(){return this},order:function selection_order(){for(var groups=this._groups,j=-1,m=groups.length;++j<m;)for(var node,group=groups[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&4^node.compareDocumentPosition(next)&&next.parentNode.insertBefore(node,next),next=node);return this},sort:function selection_sort(compare){function compareNode(a,b){return a&&b?compare(a.__data__,b.__data__):!a-!b}compare||(compare=ascending);for(var groups=this._groups,m=groups.length,sortgroups=new Array(m),j=0;j<m;++j){for(var node,group=groups[j],n=group.length,sortgroup=sortgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(sortgroup[i]=node);sortgroup.sort(compareNode)}return new Selection$1(sortgroups,this._parents).order()},call:function selection_call(){var callback=arguments[0];return arguments[0]=this,callback.apply(null,arguments),this},nodes:function selection_nodes(){return Array.from(this)},node:function selection_node(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var group=groups[j],i=0,n=group.length;i<n;++i){var node=group[i];if(node)return node}return null},size:function selection_size(){var _step13,size=0,_iterator13=_createForOfIteratorHelper(this);try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){_step13.value;++size}}catch(err){_iterator13.e(err)}finally{_iterator13.f()}return size},empty:function selection_empty(){return!this.node()},each:function selection_each(callback){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&callback.call(node,node.__data__,i,group);return this},attr:function selection_attr(name,value){var fullname=namespace(name);if(arguments.length<2){var node=this.node();return fullname.local?node.getAttributeNS(fullname.space,fullname.local):node.getAttribute(fullname)}return this.each((null==value?fullname.local?attrRemoveNS$1:attrRemove$1:"function"==typeof value?fullname.local?attrFunctionNS$1:attrFunction$1:fullname.local?attrConstantNS$1:attrConstant$1)(fullname,value))},style:function selection_style(name,value,priority){return arguments.length>1?this.each((null==value?styleRemove$1:"function"==typeof value?styleFunction$1:styleConstant$1)(name,value,null==priority?"":priority)):styleValue(this.node(),name)},property:function selection_property(name,value){return arguments.length>1?this.each((null==value?propertyRemove:"function"==typeof value?propertyFunction:propertyConstant)(name,value)):this.node()[name]},classed:function selection_classed(name,value){var names=classArray(name+"");if(arguments.length<2){for(var list=classList(this.node()),i=-1,n=names.length;++i<n;)if(!list.contains(names[i]))return!1;return!0}return this.each(("function"==typeof value?classedFunction:value?classedTrue:classedFalse)(names,value))},text:function selection_text(value){return arguments.length?this.each(null==value?textRemove:("function"==typeof value?textFunction$1:textConstant$1)(value)):this.node().textContent},html:function selection_html(value){return arguments.length?this.each(null==value?htmlRemove:("function"==typeof value?htmlFunction:htmlConstant)(value)):this.node().innerHTML},raise:function selection_raise(){return this.each(raise)},lower:function selection_lower(){return this.each(lower)},append:function selection_append(name){var create="function"==typeof name?name:creator(name);return this.select((function(){return this.appendChild(create.apply(this,arguments))}))},insert:function selection_insert(name,before){var create="function"==typeof name?name:creator(name),select=null==before?constantNull:"function"==typeof before?before:selector(before);return this.select((function(){return this.insertBefore(create.apply(this,arguments),select.apply(this,arguments)||null)}))},remove:function selection_remove(){return this.each(remove)},clone:function selection_clone(deep){return this.select(deep?selection_cloneDeep:selection_cloneShallow)},datum:function selection_datum(value){return arguments.length?this.property("__data__",value):this.node().__data__},on:function selection_on(typename,value,options){var i,t,typenames=parseTypenames(typename+""),n=typenames.length;if(!(arguments.length<2)){for(on=value?onAdd:onRemove,i=0;i<n;++i)this.each(on(typenames[i],value,options));return this}var on=this.node().__on;if(on)for(var o,j=0,m=on.length;j<m;++j)for(i=0,o=on[j];i<n;++i)if((t=typenames[i]).type===o.type&&t.name===o.name)return o.value},dispatch:function selection_dispatch(type,params){return this.each(("function"==typeof params?dispatchFunction:dispatchConstant)(type,params))}},_selection$prototype[Symbol.iterator]=selection_iterator,_selection$prototype);var _brighter=1/.7,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+reI+","+reI+","+reI+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+reP+","+reP+","+reP+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+reI+","+reI+","+reI+","+reN+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+reP+","+reP+","+reP+","+reN+"\\)$"),reHslPercent=new RegExp("^hsl\\("+reN+","+reP+","+reP+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+reN+","+reP+","+reP+","+reN+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format){var m,l;return format=(format+"").trim().toLowerCase(),(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===l?rgba(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===l?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb}function rgb(r,g,b,opacity){return 1===arguments.length?rgbConvert(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var a=clampa(this.opacity);return(1===a?"rgb(":"rgba(")+clampi(this.r)+", "+clampi(this.g)+", "+clampi(this.b)+(1===a?")":", "+a+")")}function clampa(opacity){return isNaN(opacity)?1:Math.max(0,Math.min(1,opacity))}function clampi(value){return Math.max(0,Math.min(255,Math.round(value)||0))}function hex(value){return((value=clampi(value))<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function clamph(value){return(value=(value||0)%360)<0?value+360:value}function clampt(value){return Math.max(0,Math.min(1,value||0))}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}dist_define(Color,color,{copy:function copy(channels){return Object.assign(new this.constructor,this,channels)},displayable:function displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function color_formatHex8(){return this.rgb().formatHex8()},formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),dist_define(Rgb,rgb,extend(Color,{brighter:function brighter(k){return k=null==k?_brighter:Math.pow(_brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function darker(k){return k=null==k?.7:Math.pow(.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function rgb(){return this},clamp:function clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable:function displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function rgb_formatHex8(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)+hex(255*(isNaN(this.opacity)?1:this.opacity))},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),dist_define(Hsl,(function hsl(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}),extend(Color,{brighter:function brighter(k){return k=null==k?_brighter:Math.pow(_brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function darker(k){return k=null==k?.7:Math.pow(.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function rgb(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},clamp:function clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable:function displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function formatHsl(){var a=clampa(this.opacity);return(1===a?"hsl(":"hsla(")+clamph(this.h)+", "+100*clampt(this.s)+"%, "+100*clampt(this.l)+"%"+(1===a?")":", "+a+")")}}));var constant=function constant(x){return function(){return x}};function gamma(y){return 1==(y=+y)?nogamma:function(a,b){return b-a?function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):constant(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?function linear(a,d){return function(t){return a+t*d}}(a,d):constant(isNaN(a)?b:a)}var interpolateRgb=function rgbGamma(y){var color=gamma(y);function rgb$1(start,end){var r=color((start=rgb(start)).r,(end=rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb$1.gamma=rgbGamma,rgb$1}(1);function interpolateNumber(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function interpolateString(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i,x:interpolateNumber(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function one(b){return function(t){return b(t)+""}}(q[0].x):function zero(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}var svgNode,degrees=180/Math.PI,identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX,scaleY}}function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:interpolateNumber(xa,xb)},{i:i-2,x:interpolateNumber(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function rotate(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:interpolateNumber(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}(a.rotate,b.rotate,s,q),function skewX(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:interpolateNumber(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}(a.skewX,b.skewX,s,q),function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:interpolateNumber(xa,xb)},{i:i-2,x:interpolateNumber(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var taskHead,taskTail,interpolateTransformCss=interpolateTransform((function parseCss(value){var m=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(value+"");return m.isIdentity?identity:decompose(m.a,m.b,m.c,m.d,m.e,m.f)}),"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform((function parseSvg(value){return null==value?identity:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?decompose((value=value.matrix).a,value.b,value.c,value.d,value.e,value.f):identity)}),", ",")",")"),dist_frame=0,timeout$1=0,interval=0,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(callback,delay,time){var t=new Timer;return t.restart(callback,delay,time),t}function wake(){clockNow=(clockLast=clock.now())+clockSkew,dist_frame=timeout$1=0;try{!function timerFlush(){now(),++dist_frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(void 0,e),t=t._next;--dist_frame}()}finally{dist_frame=0,function nap(){var t0,t2,t1=taskHead,time=1/0;for(;t1;)t1._call?(time>t1._time&&(time=t1._time),t0=t1,t1=t1._next):(t2=t1._next,t1._next=null,t1=t0?t0._next=t2:taskHead=t2);taskTail=t0,sleep(time)}(),clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;delay>1e3&&(clockSkew-=delay,clockLast=now)}function sleep(time){dist_frame||(timeout$1&&(timeout$1=clearTimeout(timeout$1)),time-clockNow>24?(time<1/0&&(timeout$1=setTimeout(wake,time-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,1e3)),dist_frame=1,setFrame(wake)))}function timeout(callback,delay,time){var t=new Timer;return delay=null==delay?0:+delay,t.restart((function(elapsed){t.stop(),callback(elapsed+delay)}),delay,time),t}Timer.prototype=timer.prototype={constructor:Timer,restart:function restart(callback,delay,time){if("function"!=typeof callback)throw new TypeError("callback is not a function");time=(null==time?now():+time)+(null==delay?0:+delay),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=callback,this._time=time,sleep()},stop:function stop(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[];function schedule(node,name,id,index,group,timing){var schedules=node.__transition;if(schedules){if(id in schedules)return}else node.__transition={};!function create(node,id,self){var tween,schedules=node.__transition;function schedule(elapsed){self.state=1,self.timer.restart(start,self.delay,self.time),self.delay<=elapsed&&start(elapsed-self.delay)}function start(elapsed){var i,j,n,o;if(1!==self.state)return stop();for(i in schedules)if((o=schedules[i]).name===self.name){if(3===o.state)return timeout(start);4===o.state?(o.state=6,o.timer.stop(),o.on.call("interrupt",node,node.__data__,o.index,o.group),delete schedules[i]):+i<id&&(o.state=6,o.timer.stop(),o.on.call("cancel",node,node.__data__,o.index,o.group),delete schedules[i])}if(timeout((function(){3===self.state&&(self.state=4,self.timer.restart(tick,self.delay,self.time),tick(elapsed))})),self.state=2,self.on.call("start",node,node.__data__,self.index,self.group),2===self.state){for(self.state=3,tween=new Array(n=self.tween.length),i=0,j=-1;i<n;++i)(o=self.tween[i].value.call(node,node.__data__,self.index,self.group))&&(tween[++j]=o);tween.length=j+1}}function tick(elapsed){for(var t=elapsed<self.duration?self.ease.call(null,elapsed/self.duration):(self.timer.restart(stop),self.state=5,1),i=-1,n=tween.length;++i<n;)tween[i].call(node,t);5===self.state&&(self.on.call("end",node,node.__data__,self.index,self.group),stop())}function stop(){for(var i in self.state=6,self.timer.stop(),delete schedules[id],schedules)return;delete node.__transition}schedules[id]=self,self.timer=timer(schedule,0,self.time)}(node,id,{name,index,group,on:emptyOn,tween:emptyTween,time:timing.time,delay:timing.delay,duration:timing.duration,ease:timing.ease,timer:null,state:0})}function init(node,id){var schedule=get(node,id);if(schedule.state>0)throw new Error("too late; already scheduled");return schedule}function set(node,id){var schedule=get(node,id);if(schedule.state>3)throw new Error("too late; already running");return schedule}function get(node,id){var schedule=node.__transition;if(!schedule||!(schedule=schedule[id]))throw new Error("transition not found");return schedule}function tweenRemove(id,name){var tween0,tween1;return function(){var schedule=set(this,id),tween=schedule.tween;if(tween!==tween0)for(var i=0,n=(tween1=tween0=tween).length;i<n;++i)if(tween1[i].name===name){(tween1=tween1.slice()).splice(i,1);break}schedule.tween=tween1}}function tweenFunction(id,name,value){var tween0,tween1;if("function"!=typeof value)throw new Error;return function(){var schedule=set(this,id),tween=schedule.tween;if(tween!==tween0){tween1=(tween0=tween).slice();for(var t={name,value},i=0,n=tween1.length;i<n;++i)if(tween1[i].name===name){tween1[i]=t;break}i===n&&tween1.push(t)}schedule.tween=tween1}}function tweenValue(transition,name,value){var id=transition._id;return transition.each((function(){var schedule=set(this,id);(schedule.value||(schedule.value={}))[name]=value.apply(this,arguments)})),function(node){return get(node,id).value[name]}}function interpolate(a,b){var c;return("number"==typeof b?interpolateNumber:b instanceof color?interpolateRgb:(c=color(b))?(b=c,interpolateRgb):interpolateString)(a,b)}function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttribute(name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attrConstantNS(fullname,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttributeNS(fullname.space,fullname.local);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attrFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttribute(name))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttribute(name)}}function attrFunctionNS(fullname,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttributeNS(fullname.space,fullname.local))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttributeNS(fullname.space,fullname.local)}}function attrInterpolate(name,i){return function(t){this.setAttribute(name,i.call(this,t))}}function attrInterpolateNS(fullname,i){return function(t){this.setAttributeNS(fullname.space,fullname.local,i.call(this,t))}}function attrTweenNS(fullname,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&attrInterpolateNS(fullname,i)),t0}return tween._value=value,tween}function attrTween(name,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&attrInterpolate(name,i)),t0}return tween._value=value,tween}function delayFunction(id,value){return function(){init(this,id).delay=+value.apply(this,arguments)}}function delayConstant(id,value){return value=+value,function(){init(this,id).delay=value}}function durationFunction(id,value){return function(){set(this,id).duration=+value.apply(this,arguments)}}function durationConstant(id,value){return value=+value,function(){set(this,id).duration=value}}function easeConstant(id,value){if("function"!=typeof value)throw new Error;return function(){set(this,id).ease=value}}function onFunction(id,name,listener){var on0,on1,sit=function start(name){return(name+"").trim().split(/^|\s+/).every((function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t}))}(name)?init:set;return function(){var schedule=sit(this,id),on=schedule.on;on!==on0&&(on1=(on0=on).copy()).on(name,listener),schedule.on=on1}}var Selection=selection.prototype.constructor;function styleRemove(name){return function(){this.style.removeProperty(name)}}function styleInterpolate(name,i,priority){return function(t){this.style.setProperty(name,i.call(this,t),priority)}}function styleTween(name,value,priority){var t,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t=(i0=i)&&styleInterpolate(name,i,priority)),t}return tween._value=value,tween}function textInterpolate(i){return function(t){this.textContent=i.call(this,t)}}function textTween(value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&textInterpolate(i)),t0}return tween._value=value,tween}var id=0;function Transition(groups,parents,name,id){this._groups=groups,this._parents=parents,this._name=name,this._id=id}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype=(_Transition$prototype={constructor:Transition,select:function transition_select(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode,schedule(subgroup[i],name,id,i,subgroup,get(node,id)));return new Transition(subgroups,this._parents,name,id)},selectAll:function transition_selectAll(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selectorAll(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){for(var child,children=select.call(node,node.__data__,i,group),inherit=get(node,id),k=0,l=children.length;k<l;++k)(child=children[k])&&schedule(child,name,id,k,children,inherit);subgroups.push(children),parents.push(node)}return new Transition(subgroups,parents,name,id)},selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:function transition_filter(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Transition(subgroups,this._parents,this._name,this._id)},merge:function transition_merge(transition){if(transition._id!==this._id)throw new Error;for(var groups0=this._groups,groups1=transition._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Transition(merges,this._parents,this._name,this._id)},selection:function transition_selection(){return new Selection(this._groups,this._parents)},transition:function transition_transition(){for(var name=this._name,id0=this._id,id1=newId(),groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){var inherit=get(node,id0);schedule(node,name,id1,i,group,{time:inherit.time+inherit.delay+inherit.duration,delay:0,duration:inherit.duration,ease:inherit.ease})}return new Transition(groups,this._parents,name,id1)},call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:function transition_on(name,listener){var id=this._id;return arguments.length<2?get(this.node(),id).on.on(name):this.each(onFunction(id,name,listener))},attr:function transition_attr(name,value){var fullname=namespace(name),i="transform"===fullname?interpolateTransformSvg:interpolate;return this.attrTween(name,"function"==typeof value?(fullname.local?attrFunctionNS:attrFunction)(fullname,i,tweenValue(this,"attr."+name,value)):null==value?(fullname.local?attrRemoveNS:attrRemove)(fullname):(fullname.local?attrConstantNS:attrConstant)(fullname,i,value))},attrTween:function transition_attrTween(name,value){var key="attr."+name;if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;var fullname=namespace(name);return this.tween(key,(fullname.local?attrTweenNS:attrTween)(fullname,value))},style:function transition_style(name,value,priority){var i="transform"==(name+="")?interpolateTransformCss:interpolate;return null==value?this.styleTween(name,function styleNull(name,interpolate){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),string1=(this.style.removeProperty(name),styleValue(this,name));return string0===string1?null:string0===string00&&string1===string10?interpolate0:interpolate0=interpolate(string00=string0,string10=string1)}}(name,i)).on("end.style."+name,styleRemove(name)):"function"==typeof value?this.styleTween(name,function styleFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),value1=value(this),string1=value1+"";return null==value1&&(this.style.removeProperty(name),string1=value1=styleValue(this,name)),string0===string1?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1))}}(name,i,tweenValue(this,"style."+name,value))).each(function styleMaybeRemove(id,name){var on0,on1,listener0,remove,key="style."+name,event="end."+key;return function(){var schedule=set(this,id),on=schedule.on,listener=null==schedule.value[key]?remove||(remove=styleRemove(name)):void 0;on===on0&&listener0===listener||(on1=(on0=on).copy()).on(event,listener0=listener),schedule.on=on1}}(this._id,name)):this.styleTween(name,function styleConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=styleValue(this,name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}(name,i,value),priority).on("end.style."+name,null)},styleTween:function transition_styleTween(name,value,priority){var key="style."+(name+="");if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,styleTween(name,value,null==priority?"":priority))},text:function transition_text(value){return this.tween("text","function"==typeof value?function textFunction(value){return function(){var value1=value(this);this.textContent=null==value1?"":value1}}(tweenValue(this,"text",value)):function textConstant(value){return function(){this.textContent=value}}(null==value?"":value+""))},textTween:function transition_textTween(value){var key="text";if(arguments.length<1)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,textTween(value))},remove:function transition_remove(){return this.on("end.remove",function removeFunction(id){return function(){var parent=this.parentNode;for(var i in this.__transition)if(+i!==id)return;parent&&parent.removeChild(this)}}(this._id))},tween:function transition_tween(name,value){var id=this._id;if(name+="",arguments.length<2){for(var t,tween=get(this.node(),id).tween,i=0,n=tween.length;i<n;++i)if((t=tween[i]).name===name)return t.value;return null}return this.each((null==value?tweenRemove:tweenFunction)(id,name,value))},delay:function transition_delay(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?delayFunction:delayConstant)(id,value)):get(this.node(),id).delay},duration:function transition_duration(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?durationFunction:durationConstant)(id,value)):get(this.node(),id).duration},ease:function transition_ease(value){var id=this._id;return arguments.length?this.each(easeConstant(id,value)):get(this.node(),id).ease},easeVarying:function transition_easeVarying(value){if("function"!=typeof value)throw new Error;return this.each(function easeVarying(id,value){return function(){var v=value.apply(this,arguments);if("function"!=typeof v)throw new Error;set(this,id).ease=v}}(this._id,value))},end:function transition_end(){var on0,on1,that=this,id=that._id,size=that.size();return new Promise((function(resolve,reject){var cancel={value:reject},end={value:function value(){0==--size&&resolve()}};that.each((function(){var schedule=set(this,id),on=schedule.on;on!==on0&&((on1=(on0=on).copy())._.cancel.push(cancel),on1._.interrupt.push(cancel),on1._.end.push(end)),schedule.on=on1})),0===size&&resolve()}))}},_Transition$prototype[Symbol.iterator]=selection_prototype[Symbol.iterator],_Transition$prototype);var _NightingaleSequence_seq_bg,_NightingaleSequence_axis,_NightingaleSequence_bases,defaultTiming={time:null,delay:0,duration:250,ease:function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function inherit(node,id){for(var timing;!(timing=node.__transition)||!(timing=timing[id]);)if(!(node=node.parentNode))throw new Error("transition "+id+" not found");return timing}function Transform(k,x,y){this.k=k,this.x=x,this.y=y}selection.prototype.interrupt=function selection_interrupt(name){return this.each((function(){!function interrupt(node,name){var schedule,active,i,schedules=node.__transition,empty=!0;if(schedules){for(i in name=null==name?null:name+"",schedules)(schedule=schedules[i]).name===name?(active=schedule.state>2&&schedule.state<5,schedule.state=6,schedule.timer.stop(),schedule.on.call(active?"interrupt":"cancel",node,node.__data__,schedule.index,schedule.group),delete schedules[i]):empty=!1;empty&&delete node.__transition}}(this,name)}))},selection.prototype.transition=function selection_transition(name){var id,timing;name instanceof Transition?(id=name._id,name=name._name):(id=newId(),(timing=defaultTiming).time=now(),name=null==name?null:name+"");for(var groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&schedule(node,name,id,i,group,timing||inherit(node,id));return new Transition(groups,this._parents,name,id)},Transform.prototype={constructor:Transform,scale:function scale(k){return 1===k?this:new Transform(this.k*k,this.x,this.y)},translate:function translate(x,y){return 0===x&0===y?this:new Transform(this.k,this.x+this.k*x,this.y+this.k*y)},apply:function apply(point){return[point[0]*this.k+this.x,point[1]*this.k+this.y]},applyX:function applyX(x){return x*this.k+this.x},applyY:function applyY(y){return y*this.k+this.y},invert:function invert(location){return[(location[0]-this.x)/this.k,(location[1]-this.y)/this.k]},invertX:function invertX(x){return(x-this.x)/this.k},invertY:function invertY(y){return(y-this.y)/this.k},rescaleX:function rescaleX(x){return x.copy().domain(x.range().map(this.invertX,this).map(x.invert,x))},rescaleY:function rescaleY(y){return y.copy().domain(y.range().map(this.invertY,this).map(y.invert,y))},toString:function toString(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Transform(1,0,0),Transform.prototype;var NightingaleSequence=function(_withManager){_inherits(NightingaleSequence,_withManager);var _super10=_createSuper(NightingaleSequence);function NightingaleSequence(){var _this20;return _classCallCheck(this,NightingaleSequence),_this20=_super10.apply(this,arguments),_NightingaleSequence_seq_bg.set(_assertThisInitialized(_this20),void 0),_NightingaleSequence_axis.set(_assertThisInitialized(_this20),void 0),_NightingaleSequence_bases.set(_assertThisInitialized(_this20),void 0),_this20}return _createClass(NightingaleSequence,[{key:"connectedCallback",value:function connectedCallback(){var _this21=this;_get(_getPrototypeOf(NightingaleSequence.prototype),"connectedCallback",this).call(this);var ticks=parseInt(this.getAttribute("numberofticks")||"",10);this.numberOfTicks=Number.isInteger(ticks)?ticks:3,this.sequence&&this.createSequence(),this.addEventListener("load",(function(e){_this21.data=e.detail.payload}))}},{key:"data",get:function get(){return this.sequence||""},set:function set(data){"string"==typeof data?this.sequence=data:"string"==typeof(null==data?void 0:data.sequence)&&(this.sequence=data.sequence),this.sequence&&!this.svg?this.createSequence():this.renderD3()}},{key:"getCharSize",value:function getCharSize(){var _a,_b;if(this.seq_g){var node=this.seq_g.select("text.base").node();if(node)this.chWidth=.8*node.getBBox().width,this.chHeight=1.6*node.getBBox().height;else{var tempNode=this.seq_g.append("text").attr("class","base").text("T");this.chWidth=.8*((null===(_a=tempNode.node())||void 0===_a?void 0:_a.getBBox().width)||0),this.chHeight=1.6*((null===(_b=tempNode.node())||void 0===_b?void 0:_b.getBBox().height)||0),tempNode.remove()}}}},{key:"createSequence",value:function createSequence(){var _a,_b,_c,_this22=this;this.svg=function dist_select(selector){return"string"==typeof selector?new Selection$1([[document.querySelector(selector)]],[document.documentElement]):new Selection$1([[selector]],root)}(this).selectAll("svg").attr("id","").attr("width",this.width).attr("height",this.height),__classPrivateFieldSet(this,_NightingaleSequence_seq_bg,null===(_a=this.svg)||void 0===_a?void 0:_a.append("g").attr("class","background"),"f"),__classPrivateFieldSet(this,_NightingaleSequence_axis,null===(_b=this.svg)||void 0===_b?void 0:_b.append("g").attr("class","x axis"),"f"),this.seq_g=null===(_c=this.svg)||void 0===_c?void 0:_c.append("g").attr("class","sequence").attr("transform","translate(0,"+(this["margin-top"]+.75*this.getHeightWithMargins())+")"),this.highlighted=this.svg.append("g").attr("class","highlighted"),this.margins=this.svg.append("g").attr("class","margin"),requestAnimationFrame((function(){_this22.renderD3()}))}},{key:"firstUpdated",value:function firstUpdated(){this.createSequence()}},{key:"zoomRefreshed",value:function zoomRefreshed(){this.renderD3()}},{key:"renderD3",value:function renderD3(){var _a,_b,_this23=this;if(this.getCharSize(),__classPrivateFieldGet(this,_NightingaleSequence_axis,"f")){var ftWidth=this.getSingleBaseWidth(),space=ftWidth-(this.chWidth||0),half=ftWidth/2,first=Math.floor(Math.max(0,this.getStart()-1)),last=Math.ceil(Math.min((null===(_a=this.sequence)||void 0===_a?void 0:_a.length)||0,this.getEnd())),bases=space<0?[]:(null===(_b=this.sequence)||void 0===_b?void 0:_b.slice(first,last).split("").map((function(aa,i){return{position:1+first+i,aa}})))||[];if(this.height>(this.chWidth||0)&&this.xScale){var xAxis=function axisBottom(scale){return axis(3,scale)}(this.xScale).tickFormat((function(d){return""+(Number.isInteger(d)?d:"")})).ticks(this.numberOfTicks,"s");__classPrivateFieldGet(this,_NightingaleSequence_axis,"f").call(xAxis)}if(__classPrivateFieldGet(this,_NightingaleSequence_axis,"f").attr("transform","translate("+(this["margin-left"]+half)+","+this["margin-top"]+")"),__classPrivateFieldGet(this,_NightingaleSequence_axis,"f").select(".domain").remove(),__classPrivateFieldGet(this,_NightingaleSequence_axis,"f").selectAll(".tick line").remove(),__classPrivateFieldGet(this,_NightingaleSequence_axis,"f").selectAll(".tick text").attr("y",2),this.seq_g){this.seq_g.attr("transform","translate(0,"+(this["margin-top"]+.75*this.getHeightWithMargins())+")"),__classPrivateFieldSet(this,_NightingaleSequence_bases,this.seq_g.selectAll("text.base"),"f");var textElements=__classPrivateFieldGet(this,_NightingaleSequence_bases,"f").data(bases,(function(d){return d.position}));if(textElements.enter().append("text").attr("class","base").attr("text-anchor","middle").attr("x",(function(d){return _this23.getXFromSeqPosition(d.position)+half})).text((function(d){return d.aa})).style("pointer-events","none").style("font-family","monospace"),textElements.exit().remove(),textElements.attr("x",(function(d){return _this23.getXFromSeqPosition(d.position)+half})),__classPrivateFieldGet(this,_NightingaleSequence_seq_bg,"f")){var background=__classPrivateFieldGet(this,_NightingaleSequence_seq_bg,"f").selectAll("rect.base_bg").data(bases,(function(d){return d.position}));background.enter().append("rect").attr("class","base_bg feature").attr("height",this.getHeightWithMargins()).attr("width",ftWidth).attr("fill",(function(d){return Math.round(d.position)%2?"#ccc":"#eee"})).attr("x",(function(d){return _this23.getXFromSeqPosition(d.position)})).attr("y",this["margin-top"]).call(nightingale_new_core_src.sQ,this),background.attr("width",ftWidth).attr("fill",(function(d){return Math.round(d.position)%2?"#ccc":"#eee"})).attr("height",this.getHeightWithMargins()).attr("x",(function(d){return _this23.getXFromSeqPosition(d.position)})).attr("y",this["margin-top"]),background.exit().remove(),this.seq_g.style("opacity",Math.min(1,space)),background.style("opacity",Math.min(1,space))}}this.updateHighlight(),this.renderMarginOnGroup(this.margins)}}},{key:"getStart",value:function getStart(){return this["display-start"]||1}},{key:"getEnd",value:function getEnd(){return((this["display-end"]||0)>0?this["display-end"]:this.length)||0}},{key:"updateHighlight",value:function updateHighlight(){var _this24=this;if(this.highlighted){var highlighs=this.highlighted.selectAll("rect").data(this.highlightedRegion.segments);highlighs.enter().append("rect").style("pointer-events","none").merge(highlighs).attr("fill",this["highlight-color"]).attr("height",this.height).attr("x",(function(d){return _this24.getXFromSeqPosition(d.start)})).attr("width",(function(d){return _this24.getSingleBaseWidth()*(d.end-d.start+1)})),highlighs.exit().remove()}}},{key:"render",value:function render(){return $(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['<svg class="container"></svg>'])))}}]),NightingaleSequence}((0,nightingale_new_core_src.YD)((0,nightingale_new_core_src._5)((0,nightingale_new_core_src.tG)((0,nightingale_new_core_src.vl)((0,nightingale_new_core_src.Ds)((0,nightingale_new_core_src.U6)((0,nightingale_new_core_src.Rn)(nightingale_new_core_src.ZP))))))));_NightingaleSequence_seq_bg=new WeakMap,_NightingaleSequence_axis=new WeakMap,_NightingaleSequence_bases=new WeakMap,__decorate([function e(e){return function(n,t){return void 0!==t?function(i,e,n){e.constructor.createProperty(n,i)}(e,n,t):function i(_i31,e){return"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?Object.assign({},e,{finisher:function finisher(n){n.createProperty(e.key,_i31)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer:function initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher:function finisher(n){n.createProperty(e.key,_i31)}}}(e,n)}}({type:String})],NightingaleSequence.prototype,"sequence",void 0);var NightingaleSequence$1=NightingaleSequence=__decorate([(0,nightingale_new_core_src.y_)("nightingale-sequence")],NightingaleSequence);__webpack_require__("./node_modules/core-js/modules/es.number.is-nan.js");function isColorValid(color){var fakeElement=document.createElement("div");return fakeElement.style.borderColor="",fakeElement.style.borderColor=color,""!==fakeElement.style.borderColor}var String2Object_identity=function identity(x){return x};const hydrophobicity_interface_scale_namespaceObject=JSON.parse('{"I":-0.31,"L":-0.56,"F":-1.13,"V":0.07,"M":-0.23,"P":0.45,"W":-1.85,"H":0.17,"T":0.14,"E":-0.01,"Q":0.58,"C":-0.24,"Y":-0.94,"A":0.17,"S":0.13,"N":0.42,"D":-0.07,"R":0.81,"G":0.01,"K":0.99}'),hydrophobicity_octanol_scale_namespaceObject=JSON.parse('{"I":-1.12,"L":-1.25,"F":-1.71,"V":-0.46,"M":-0.67,"P":0.14,"W":-2.09,"H":0.11,"T":0.25,"E":0.11,"Q":0.77,"C":-0.02,"Y":-0.71,"A":0.5,"S":0.46,"N":0.85,"D":0.43,"R":1.15,"G":3.63,"K":3.64}'),hydrophobicity_scale_namespaceObject=JSON.parse('{"I":-0.81,"L":-0.69,"F":-0.58,"V":-0.53,"M":-0.44,"P":-0.31,"W":-0.24,"H":-0.06,"T":0.11,"E":0.12,"Q":0.19,"C":0.22,"Y":0.23,"A":0.33,"S":0.33,"N":0.43,"D":0.5,"R":1.14,"G":1.61,"K":2.41}'),isoelectric_point_scale_namespaceObject=JSON.parse('{"I":6.04,"L":6.04,"F":5.91,"V":6.02,"M":5.74,"P":6.3,"W":5.88,"H":7.64,"T":5.6,"E":3.08,"Q":5.65,"C":5.02,"Y":5.63,"A":6.11,"S":5.68,"N":5.41,"D":2.87,"R":10.76,"G":6.06,"K":9.47}');function nightingale_coloured_sequence_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function nightingale_coloured_sequence_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function nightingale_coloured_sequence_get(){return nightingale_coloured_sequence_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=nightingale_coloured_sequence_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},nightingale_coloured_sequence_get.apply(this,arguments)}function nightingale_coloured_sequence_superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=nightingale_coloured_sequence_getPrototypeOf(object)););return object}function nightingale_coloured_sequence_setPrototypeOf(o,p){return nightingale_coloured_sequence_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},nightingale_coloured_sequence_setPrototypeOf(o,p)}function nightingale_coloured_sequence_createSuper(Derived){var hasNativeReflectConstruct=function nightingale_coloured_sequence_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=nightingale_coloured_sequence_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=nightingale_coloured_sequence_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return nightingale_coloured_sequence_possibleConstructorReturn(this,result)}}function nightingale_coloured_sequence_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return nightingale_coloured_sequence_assertThisInitialized(self)}function nightingale_coloured_sequence_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function nightingale_coloured_sequence_getPrototypeOf(o){return nightingale_coloured_sequence_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},nightingale_coloured_sequence_getPrototypeOf(o)}var _NightingaleColouredSequence_uniqueID,_NightingaleColouredSequence_gradient,_NightingaleColouredSequence_seq_bg,_NightingaleColouredSequence_residues,supportedScales=new Map([["hydrophobicity-interface-scale",hydrophobicity_interface_scale_namespaceObject],["hydrophobicity-octanol-scale",hydrophobicity_octanol_scale_namespaceObject],["hydrophobicity-scale",hydrophobicity_scale_namespaceObject],["isoelectric-point-scale",isoelectric_point_scale_namespaceObject]]),defaultScale={domain:[-2,2],range:["#ffdd00","#0000FF"]},nightingale_coloured_sequence_NightingaleColouredSequence=function(_NightingaleSequence){!function nightingale_coloured_sequence_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&nightingale_coloured_sequence_setPrototypeOf(subClass,superClass)}(NightingaleColouredSequence,_NightingaleSequence);var _super=nightingale_coloured_sequence_createSuper(NightingaleColouredSequence);function NightingaleColouredSequence(){var _this;return nightingale_coloured_sequence_classCallCheck(this,NightingaleColouredSequence),(_this=_super.apply(this,arguments)).scale=void 0,_this["color-range"]=void 0,_NightingaleColouredSequence_uniqueID.set(nightingale_coloured_sequence_assertThisInitialized(_this),""),_NightingaleColouredSequence_gradient.set(nightingale_coloured_sequence_assertThisInitialized(_this),void 0),_NightingaleColouredSequence_seq_bg.set(nightingale_coloured_sequence_assertThisInitialized(_this),void 0),_NightingaleColouredSequence_residues.set(nightingale_coloured_sequence_assertThisInitialized(_this),void 0),_this.colorScale=defaultScale,_this}return function nightingale_coloured_sequence_createClass(Constructor,protoProps,staticProps){return protoProps&&nightingale_coloured_sequence_defineProperties(Constructor.prototype,protoProps),staticProps&&nightingale_coloured_sequence_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleColouredSequence,[{key:"createSequence",value:function createSequence(){var _a,_b,_c;nightingale_coloured_sequence_get(nightingale_coloured_sequence_getPrototypeOf(NightingaleColouredSequence.prototype),"createSequence",this).call(this),(0,tslib_es6.YH)(this,_NightingaleColouredSequence_uniqueID,Math.random().toString(36).substring(7),"f"),null===(_a=this.svg)||void 0===_a||_a.select("g.sequence").attr("transform",null),(0,tslib_es6.YH)(this,_NightingaleColouredSequence_gradient,null===(_b=this.svg)||void 0===_b?void 0:_b.append("defs").append("linearGradient").attr("id","scale-gradient-"+(0,tslib_es6.Q_)(this,_NightingaleColouredSequence_uniqueID,"f")),"f"),null===(_c=this.svg)||void 0===_c||_c.append("rect").attr("class","seq-gradient").style("pointer-events","none")}},{key:"getScaleFromAttribute",value:function getScaleFromAttribute(){var scale=null,attributeScale=this.scale||"";if(supportedScales.has(attributeScale))return supportedScales.get(attributeScale);if(/([ILFVMPWHTEQCYASNDRGK]:-?\d+\.?\d*)(,[ILFVMPWHTEQCYASNDRGK]:-?\d+\.?\d*)*/.test(attributeScale))try{scale=function(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,options=arguments.length>1?arguments[1]:void 0;if(null!==text&&"string"!=typeof text)throw new Error("The attribute text has to be of type string");var _keyFormatter$valueFo=Object.assign({keyFormatter:String2Object_identity,valueFormatter:String2Object_identity},options),keyFormatter=_keyFormatter$valueFo.keyFormatter,valueFormatter=_keyFormatter$valueFo.valueFormatter;if(text&&""!==text.trim()){var blocks=text.split(",").map((function(bl){return bl.split(":")})),obj={};return blocks.forEach((function(bl){if(2!==bl.length)throw new Error("Bad block: "+bl.join(":")+"\n The blocks of the string should follow the format KEY:VALUE");obj[keyFormatter(bl[0])]=valueFormatter(bl[1])})),obj}return{}}(attributeScale,{keyFormatter:function keyFormatter(x){return x.toUpperCase()},valueFormatter:function valueFormatter(x){return parseFloat(x)}})}catch(error){console.error("Couldn't parse the given scale \""+attributeScale+'"',error)}return scale}},{key:"renderD3",value:function renderD3(){var _a,_b,_c,_d,_e,_f,_this2=this;if(this.seq_g){var scale=this.getScaleFromAttribute();if(null===scale)return void console.error("The attribute scale is not valid.");var colorScale=(0,src.BYU)();this["color-range"]&&(this.colorScale=function(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,range=[],domain=[];if(null!==text&&"string"!=typeof text)throw new Error("The attribute text has to be of type string");if(text&&""!==text.trim()){var blocks=text.split(",").map((function(bl){return bl.split(":")}));if(blocks.length<2)throw new Error("There should be at least 2 points to create a scale");range=blocks.map((function(bl){var color=bl[0].trim().toUpperCase();if(!isColorValid(color))throw new Error("The color '"+color+" is not valid'");return color})),domain=blocks.map((function(bl,i){var number=parseFloat(bl[1]);if(Number.isNaN(number))throw new Error("The second part of every point should be a number. Error in point "+i+": "+bl);return number}))}return{range,domain}}(this["color-range"])),colorScale.domain(this.colorScale.domain).range(this.colorScale.range);var ftWidth=this.getSingleBaseWidth(),first=Math.round(Math.max(0,this.getStart()-2)),last=Math.round(Math.min((null===(_a=this.sequence)||void 0===_a?void 0:_a.length)||0,this.getEnd()+1)),bases=(null===(_b=this.sequence)||void 0===_b?void 0:_b.slice(first,last).split("").map((function(aa,i){var value=scale&&aa.toUpperCase()in scale?scale[aa.toUpperCase()]:0;return{start:1+first+i,end:1+first+i,aa,value,colour:colorScale(value)}})))||[];(0,tslib_es6.YH)(this,_NightingaleColouredSequence_residues,this.seq_g.selectAll("rect.base_bg").data(ftWidth<8?[]:bases,(function(d){return d.start})),"f"),(0,tslib_es6.Q_)(this,_NightingaleColouredSequence_residues,"f").enter().append("rect").attr("class","base_bg feature").attr("data-base",(function(_ref){return _ref.aa})).attr("data-pos",(function(_ref2){return _ref2.start})).attr("height",this.height).merge((0,tslib_es6.Q_)(this,_NightingaleColouredSequence_residues,"f")).attr("width",ftWidth).attr("fill",(function(_ref3){return _ref3.colour})).attr("x",(function(_ref4){var start=_ref4.start;return _this2.getXFromSeqPosition(start)})).call(nightingale_new_core_src.sQ,this),(0,tslib_es6.Q_)(this,_NightingaleColouredSequence_residues,"f").exit().remove();var stops=null===(_c=(0,tslib_es6.Q_)(this,_NightingaleColouredSequence_gradient,"f"))||void 0===_c?void 0:_c.selectAll("stop").data((this.sequence||"").split(""));stops&&stops.enter().append("stop").merge(stops).attr("offset",(function(_,pos){var _a;return(pos+.5)/((null===(_a=_this2.sequence)||void 0===_a?void 0:_a.length)||1)})).attr("stop-color",(function(base){return colorScale(scale&&base.toUpperCase()in scale?scale[base.toUpperCase()]:0)})),null===(_d=(0,tslib_es6.Q_)(this,_NightingaleColouredSequence_gradient,"f"))||void 0===_d||_d.exit().remove(),null===(_e=this.svg)||void 0===_e||_e.select("rect.seq-gradient").attr("x",this.getXFromSeqPosition(1)).attr("y",0).attr("height",this.height).attr("width",this.getXFromSeqPosition((null===(_f=this.sequence)||void 0===_f?void 0:_f.length)||0)-this.getXFromSeqPosition(0)).style("opacity",ftWidth<8?1:8/ftWidth).attr("fill","url(#scale-gradient-"+(0,tslib_es6.Q_)(this,_NightingaleColouredSequence_uniqueID,"f")+")"),this.updateHighlight(),this.renderMarginOnGroup(this.margins)}}}]),NightingaleColouredSequence}(NightingaleSequence$1);_NightingaleColouredSequence_uniqueID=new WeakMap,_NightingaleColouredSequence_gradient=new WeakMap,_NightingaleColouredSequence_seq_bg=new WeakMap,_NightingaleColouredSequence_residues=new WeakMap,(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],nightingale_coloured_sequence_NightingaleColouredSequence.prototype,"scale",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],nightingale_coloured_sequence_NightingaleColouredSequence.prototype,"color-range",void 0),nightingale_coloured_sequence_NightingaleColouredSequence=(0,tslib_es6.gn)([(0,decorators.Mo)("nightingale-coloured-sequence")],nightingale_coloured_sequence_NightingaleColouredSequence)},"./packages/nightingale-interpro-track/src/index.ts":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");var _selection$prototype,_Transition$prototype,_templateObject,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),get=__webpack_require__("./node_modules/lodash-es/get.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts");__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.every.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-names.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.flat.js"),__webpack_require__("./node_modules/core-js/modules/es.string.ends-with.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.global-this.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-set.js"),__webpack_require__("./node_modules/core-js/modules/es.array.some.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js");function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}var _marked=_regeneratorRuntime().mark(selection_iterator);function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e9){throw _e9},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e10){didErr=!0,err=_e10},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __classPrivateFieldGet(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)}function __classPrivateFieldSet(receiver,state,value,kind,f){if("m"===kind)throw new TypeError("Private method is not writable");if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===kind?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value}var noop={value:function value(){}};function dispatch(){for(var t,i=0,n=arguments.length,_={};i<n;++i){if(!(t=arguments[i]+"")||t in _||/[\s.]/.test(t))throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function parseTypenames$1(typenames,types){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");if(i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name}}))}function get$1(type,name){for(var c,i=0,n=type.length;i<n;++i)if((c=type[i]).name===name)return c.value}function set$1(type,name,callback){for(var i=0,n=type.length;i<n;++i)if(type[i].name===name){type[i]=noop,type=type.slice(0,i).concat(type.slice(i+1));break}return null!=callback&&type.push({name,value:callback}),type}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function on(typename,callback){var t,_=this._,T=parseTypenames$1(typename+"",_),i=-1,n=T.length;if(!(arguments.length<2)){if(null!=callback&&"function"!=typeof callback)throw new Error("invalid callback: "+callback);for(;++i<n;)if(t=(typename=T[i]).type)_[t]=set$1(_[t],typename.name,callback);else if(null==callback)for(t in _)_[t]=set$1(_[t],typename.name,null);return this}for(;++i<n;)if((t=(typename=T[i]).type)&&(t=get$1(_[t],typename.name)))return t},copy:function copy(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function call(type,that){if((n=arguments.length-2)>0)for(var n,t,args=new Array(n),i=0;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(i=0,n=(t=this._[type]).length;i<n;++i)t[i].value.apply(that,args)},apply:function apply(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}};var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(name){var prefix=name+="",i=prefix.indexOf(":");return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),namespaces.hasOwnProperty(prefix)?{space:namespaces[prefix],local:name}:name}function creatorInherit(name){return function(){var document=this.ownerDocument,uri=this.namespaceURI;return uri===xhtml&&document.documentElement.namespaceURI===xhtml?document.createElement(name):document.createElementNS(uri,name)}}function creatorFixed(fullname){return function(){return this.ownerDocument.createElementNS(fullname.space,fullname.local)}}function creator(name){var fullname=namespace(name);return(fullname.local?creatorFixed:creatorInherit)(fullname)}function none(){}function selector(selector){return null==selector?none:function(){return this.querySelector(selector)}}function array(x){return null==x?[]:Array.isArray(x)?x:Array.from(x)}function empty(){return[]}function selectorAll(selector){return null==selector?empty:function(){return this.querySelectorAll(selector)}}function matcher(selector){return function(){return this.matches(selector)}}function childMatcher(selector){return function(node){return node.matches(selector)}}var find=Array.prototype.find;function childFirst(){return this.firstElementChild}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function sparse(update){return new Array(update.length)}function EnterNode(parent,datum){this.ownerDocument=parent.ownerDocument,this.namespaceURI=parent.namespaceURI,this._next=null,this._parent=parent,this.__data__=datum}function constant$1(x){return function(){return x}}function bindIndex(parent,group,enter,update,exit,data){for(var node,i=0,groupLength=group.length,dataLength=data.length;i<dataLength;++i)(node=group[i])?(node.__data__=data[i],update[i]=node):enter[i]=new EnterNode(parent,data[i]);for(;i<groupLength;++i)(node=group[i])&&(exit[i]=node)}function bindKey(parent,group,enter,update,exit,data,key){var i,node,keyValue,nodeByKeyValue=new Map,groupLength=group.length,dataLength=data.length,keyValues=new Array(groupLength);for(i=0;i<groupLength;++i)(node=group[i])&&(keyValues[i]=keyValue=key.call(node,node.__data__,i,group)+"",nodeByKeyValue.has(keyValue)?exit[i]=node:nodeByKeyValue.set(keyValue,node));for(i=0;i<dataLength;++i)keyValue=key.call(parent,data[i],i,data)+"",(node=nodeByKeyValue.get(keyValue))?(update[i]=node,node.__data__=data[i],nodeByKeyValue.delete(keyValue)):enter[i]=new EnterNode(parent,data[i]);for(i=0;i<groupLength;++i)(node=group[i])&&nodeByKeyValue.get(keyValues[i])===node&&(exit[i]=node)}function datum(node){return node.__data__}function arraylike(data){return"object"==typeof data&&"length"in data?data:Array.from(data)}function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function attrRemove$1(name){return function(){this.removeAttribute(name)}}function attrRemoveNS$1(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant$1(name,value){return function(){this.setAttribute(name,value)}}function attrConstantNS$1(fullname,value){return function(){this.setAttributeNS(fullname.space,fullname.local,value)}}function attrFunction$1(name,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttribute(name):this.setAttribute(name,v)}}function attrFunctionNS$1(fullname,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttributeNS(fullname.space,fullname.local):this.setAttributeNS(fullname.space,fullname.local,v)}}function defaultView(node){return node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView}function styleRemove$1(name){return function(){this.style.removeProperty(name)}}function styleConstant$1(name,value,priority){return function(){this.style.setProperty(name,value,priority)}}function styleFunction$1(name,value,priority){return function(){var v=value.apply(this,arguments);null==v?this.style.removeProperty(name):this.style.setProperty(name,v,priority)}}function styleValue(node,name){return node.style.getPropertyValue(name)||defaultView(node).getComputedStyle(node,null).getPropertyValue(name)}function propertyRemove(name){return function(){delete this[name]}}function propertyConstant(name,value){return function(){this[name]=value}}function propertyFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?delete this[name]:this[name]=v}}function classArray(string){return string.trim().split(/^|\s+/)}function classList(node){return node.classList||new ClassList(node)}function ClassList(node){this._node=node,this._names=classArray(node.getAttribute("class")||"")}function classedAdd(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.add(names[i])}function classedRemove(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.remove(names[i])}function classedTrue(names){return function(){classedAdd(this,names)}}function classedFalse(names){return function(){classedRemove(this,names)}}function classedFunction(names,value){return function(){(value.apply(this,arguments)?classedAdd:classedRemove)(this,names)}}function textRemove(){this.textContent=""}function textConstant$1(value){return function(){this.textContent=value}}function textFunction$1(value){return function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}}function htmlRemove(){this.innerHTML=""}function htmlConstant(value){return function(){this.innerHTML=value}}function htmlFunction(value){return function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function constantNull(){return null}function remove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function selection_cloneShallow(){var clone=this.cloneNode(!1),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function selection_cloneDeep(){var clone=this.cloneNode(!0),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function parseTypenames(typenames){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");return i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),{type:t,name}}))}function onRemove(typename){return function(){var on=this.__on;if(on){for(var o,j=0,i=-1,m=on.length;j<m;++j)o=on[j],typename.type&&o.type!==typename.type||o.name!==typename.name?on[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?on.length=i:delete this.__on}}}function onAdd(typename,value,options){return function(){var o,on=this.__on,listener=function contextListener(listener){return function(event){listener.call(this,event,this.__data__)}}(value);if(on)for(var j=0,m=on.length;j<m;++j)if((o=on[j]).type===typename.type&&o.name===typename.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=listener,o.options=options),void(o.value=value);this.addEventListener(typename.type,listener,options),o={type:typename.type,name:typename.name,value,listener,options},on?on.push(o):this.__on=[o]}}function dispatchEvent(node,type,params){var window=defaultView(node),event=window.CustomEvent;"function"==typeof event?event=new event(type,params):(event=window.document.createEvent("Event"),params?(event.initEvent(type,params.bubbles,params.cancelable),event.detail=params.detail):event.initEvent(type,!1,!1)),node.dispatchEvent(event)}function dispatchConstant(type,params){return function(){return dispatchEvent(this,type,params)}}function dispatchFunction(type,params){return function(){return dispatchEvent(this,type,params.apply(this,arguments))}}function selection_iterator(){var groups,j,m,group,i,n,node;return _regeneratorRuntime().wrap((function selection_iterator$(_context){for(;;)switch(_context.prev=_context.next){case 0:groups=this._groups,j=0,m=groups.length;case 1:if(!(j<m)){_context.next=13;break}group=groups[j],i=0,n=group.length;case 3:if(!(i<n)){_context.next=10;break}if(!(node=group[i])){_context.next=7;break}return _context.next=7,node;case 7:++i,_context.next=3;break;case 10:++j,_context.next=1;break;case 13:case"end":return _context.stop()}}),_marked,this)}EnterNode.prototype={constructor:EnterNode,appendChild:function appendChild(child){return this._parent.insertBefore(child,this._next)},insertBefore:function insertBefore(child,next){return this._parent.insertBefore(child,next)},querySelector:function querySelector(selector){return this._parent.querySelector(selector)},querySelectorAll:function querySelectorAll(selector){return this._parent.querySelectorAll(selector)}},ClassList.prototype={add:function add(name){this._names.indexOf(name)<0&&(this._names.push(name),this._node.setAttribute("class",this._names.join(" ")))},remove:function remove(name){var i=this._names.indexOf(name);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function contains(name){return this._names.indexOf(name)>=0}};var root=[null];function Selection$1(groups,parents){this._groups=groups,this._parents=parents}function selection(){return new Selection$1([[document.documentElement]],root)}function dist_define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}Selection$1.prototype=selection.prototype=(_selection$prototype={constructor:Selection$1,select:function selection_select(select){"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode);return new Selection$1(subgroups,this._parents)},selectAll:function selection_selectAll(select){select="function"==typeof select?function arrayAll(select){return function(){return array(select.apply(this,arguments))}}(select):selectorAll(select);for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&(subgroups.push(select.call(node,node.__data__,i,group)),parents.push(node));return new Selection$1(subgroups,parents)},selectChild:function selection_selectChild(match){return this.select(null==match?childFirst:function childFind(match){return function(){return find.call(this.children,match)}}("function"==typeof match?match:childMatcher(match)))},selectChildren:function selection_selectChildren(match){return this.selectAll(null==match?children:function childrenFilter(match){return function(){return filter.call(this.children,match)}}("function"==typeof match?match:childMatcher(match)))},filter:function selection_filter(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Selection$1(subgroups,this._parents)},data:function selection_data(value,key){if(!arguments.length)return Array.from(this,datum);var bind=key?bindKey:bindIndex,parents=this._parents,groups=this._groups;"function"!=typeof value&&(value=constant$1(value));for(var m=groups.length,update=new Array(m),enter=new Array(m),exit=new Array(m),j=0;j<m;++j){var parent=parents[j],group=groups[j],groupLength=group.length,data=arraylike(value.call(parent,parent&&parent.__data__,j,parents)),dataLength=data.length,enterGroup=enter[j]=new Array(dataLength),updateGroup=update[j]=new Array(dataLength),exitGroup=exit[j]=new Array(groupLength);bind(parent,group,enterGroup,updateGroup,exitGroup,data,key);for(var previous,next,i0=0,i1=0;i0<dataLength;++i0)if(previous=enterGroup[i0]){for(i0>=i1&&(i1=i0+1);!(next=updateGroup[i1])&&++i1<dataLength;);previous._next=next||null}}return(update=new Selection$1(update,parents))._enter=enter,update._exit=exit,update},enter:function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)},exit:function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)},join:function selection_join(onenter,onupdate,onexit){var enter=this.enter(),update=this,exit=this.exit();return"function"==typeof onenter?(enter=onenter(enter))&&(enter=enter.selection()):enter=enter.append(onenter+""),null!=onupdate&&(update=onupdate(update))&&(update=update.selection()),null==onexit?exit.remove():onexit(exit),enter&&update?enter.merge(update).order():update},merge:function selection_merge(context){for(var selection=context.selection?context.selection():context,groups0=this._groups,groups1=selection._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Selection$1(merges,this._parents)},selection:function selection_selection(){return this},order:function selection_order(){for(var groups=this._groups,j=-1,m=groups.length;++j<m;)for(var node,group=groups[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&4^node.compareDocumentPosition(next)&&next.parentNode.insertBefore(node,next),next=node);return this},sort:function selection_sort(compare){function compareNode(a,b){return a&&b?compare(a.__data__,b.__data__):!a-!b}compare||(compare=ascending);for(var groups=this._groups,m=groups.length,sortgroups=new Array(m),j=0;j<m;++j){for(var node,group=groups[j],n=group.length,sortgroup=sortgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(sortgroup[i]=node);sortgroup.sort(compareNode)}return new Selection$1(sortgroups,this._parents).order()},call:function selection_call(){var callback=arguments[0];return arguments[0]=this,callback.apply(null,arguments),this},nodes:function selection_nodes(){return Array.from(this)},node:function selection_node(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var group=groups[j],i=0,n=group.length;i<n;++i){var node=group[i];if(node)return node}return null},size:function selection_size(){var _step,size=0,_iterator=_createForOfIteratorHelper(this);try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value;++size}}catch(err){_iterator.e(err)}finally{_iterator.f()}return size},empty:function selection_empty(){return!this.node()},each:function selection_each(callback){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&callback.call(node,node.__data__,i,group);return this},attr:function selection_attr(name,value){var fullname=namespace(name);if(arguments.length<2){var node=this.node();return fullname.local?node.getAttributeNS(fullname.space,fullname.local):node.getAttribute(fullname)}return this.each((null==value?fullname.local?attrRemoveNS$1:attrRemove$1:"function"==typeof value?fullname.local?attrFunctionNS$1:attrFunction$1:fullname.local?attrConstantNS$1:attrConstant$1)(fullname,value))},style:function selection_style(name,value,priority){return arguments.length>1?this.each((null==value?styleRemove$1:"function"==typeof value?styleFunction$1:styleConstant$1)(name,value,null==priority?"":priority)):styleValue(this.node(),name)},property:function selection_property(name,value){return arguments.length>1?this.each((null==value?propertyRemove:"function"==typeof value?propertyFunction:propertyConstant)(name,value)):this.node()[name]},classed:function selection_classed(name,value){var names=classArray(name+"");if(arguments.length<2){for(var list=classList(this.node()),i=-1,n=names.length;++i<n;)if(!list.contains(names[i]))return!1;return!0}return this.each(("function"==typeof value?classedFunction:value?classedTrue:classedFalse)(names,value))},text:function selection_text(value){return arguments.length?this.each(null==value?textRemove:("function"==typeof value?textFunction$1:textConstant$1)(value)):this.node().textContent},html:function selection_html(value){return arguments.length?this.each(null==value?htmlRemove:("function"==typeof value?htmlFunction:htmlConstant)(value)):this.node().innerHTML},raise:function selection_raise(){return this.each(raise)},lower:function selection_lower(){return this.each(lower)},append:function selection_append(name){var create="function"==typeof name?name:creator(name);return this.select((function(){return this.appendChild(create.apply(this,arguments))}))},insert:function selection_insert(name,before){var create="function"==typeof name?name:creator(name),select=null==before?constantNull:"function"==typeof before?before:selector(before);return this.select((function(){return this.insertBefore(create.apply(this,arguments),select.apply(this,arguments)||null)}))},remove:function selection_remove(){return this.each(remove)},clone:function selection_clone(deep){return this.select(deep?selection_cloneDeep:selection_cloneShallow)},datum:function selection_datum(value){return arguments.length?this.property("__data__",value):this.node().__data__},on:function selection_on(typename,value,options){var i,t,typenames=parseTypenames(typename+""),n=typenames.length;if(!(arguments.length<2)){for(on=value?onAdd:onRemove,i=0;i<n;++i)this.each(on(typenames[i],value,options));return this}var on=this.node().__on;if(on)for(var o,j=0,m=on.length;j<m;++j)for(i=0,o=on[j];i<n;++i)if((t=typenames[i]).type===o.type&&t.name===o.name)return o.value},dispatch:function selection_dispatch(type,params){return this.each(("function"==typeof params?dispatchFunction:dispatchConstant)(type,params))}},_selection$prototype[Symbol.iterator]=selection_iterator,_selection$prototype);var _brighter=1/.7,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+reI+","+reI+","+reI+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+reP+","+reP+","+reP+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+reI+","+reI+","+reI+","+reN+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+reP+","+reP+","+reP+","+reN+"\\)$"),reHslPercent=new RegExp("^hsl\\("+reN+","+reP+","+reP+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+reN+","+reP+","+reP+","+reN+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format){var m,l;return format=(format+"").trim().toLowerCase(),(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===l?rgba(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===l?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb}function rgb(r,g,b,opacity){return 1===arguments.length?rgbConvert(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var a=clampa(this.opacity);return(1===a?"rgb(":"rgba(")+clampi(this.r)+", "+clampi(this.g)+", "+clampi(this.b)+(1===a?")":", "+a+")")}function clampa(opacity){return isNaN(opacity)?1:Math.max(0,Math.min(1,opacity))}function clampi(value){return Math.max(0,Math.min(255,Math.round(value)||0))}function hex(value){return((value=clampi(value))<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function clamph(value){return(value=(value||0)%360)<0?value+360:value}function clampt(value){return Math.max(0,Math.min(1,value||0))}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}dist_define(Color,color,{copy:function copy(channels){return Object.assign(new this.constructor,this,channels)},displayable:function displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function color_formatHex8(){return this.rgb().formatHex8()},formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),dist_define(Rgb,rgb,extend(Color,{brighter:function brighter(k){return k=null==k?_brighter:Math.pow(_brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function darker(k){return k=null==k?.7:Math.pow(.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function rgb(){return this},clamp:function clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable:function displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function rgb_formatHex8(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)+hex(255*(isNaN(this.opacity)?1:this.opacity))},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),dist_define(Hsl,(function hsl(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}),extend(Color,{brighter:function brighter(k){return k=null==k?_brighter:Math.pow(_brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function darker(k){return k=null==k?.7:Math.pow(.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function rgb(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},clamp:function clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable:function displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function formatHsl(){var a=clampa(this.opacity);return(1===a?"hsl(":"hsla(")+clamph(this.h)+", "+100*clampt(this.s)+"%, "+100*clampt(this.l)+"%"+(1===a?")":", "+a+")")}}));var constant=function constant(x){return function(){return x}};function gamma(y){return 1==(y=+y)?nogamma:function(a,b){return b-a?function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):constant(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?function linear(a,d){return function(t){return a+t*d}}(a,d):constant(isNaN(a)?b:a)}var interpolateRgb=function rgbGamma(y){var color=gamma(y);function rgb$1(start,end){var r=color((start=rgb(start)).r,(end=rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb$1.gamma=rgbGamma,rgb$1}(1);function interpolateNumber(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function interpolateString(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i,x:interpolateNumber(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function one(b){return function(t){return b(t)+""}}(q[0].x):function zero(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}var svgNode,degrees=180/Math.PI,identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX,scaleY}}function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:interpolateNumber(xa,xb)},{i:i-2,x:interpolateNumber(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function rotate(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:interpolateNumber(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}(a.rotate,b.rotate,s,q),function skewX(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:interpolateNumber(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}(a.skewX,b.skewX,s,q),function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:interpolateNumber(xa,xb)},{i:i-2,x:interpolateNumber(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var taskHead,taskTail,interpolateTransformCss=interpolateTransform((function parseCss(value){var m=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(value+"");return m.isIdentity?identity:decompose(m.a,m.b,m.c,m.d,m.e,m.f)}),"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform((function parseSvg(value){return null==value?identity:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?decompose((value=value.matrix).a,value.b,value.c,value.d,value.e,value.f):identity)}),", ",")",")"),dist_frame=0,timeout$1=0,interval=0,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(callback,delay,time){var t=new Timer;return t.restart(callback,delay,time),t}function wake(){clockNow=(clockLast=clock.now())+clockSkew,dist_frame=timeout$1=0;try{!function timerFlush(){now(),++dist_frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(void 0,e),t=t._next;--dist_frame}()}finally{dist_frame=0,function nap(){var t0,t2,t1=taskHead,time=1/0;for(;t1;)t1._call?(time>t1._time&&(time=t1._time),t0=t1,t1=t1._next):(t2=t1._next,t1._next=null,t1=t0?t0._next=t2:taskHead=t2);taskTail=t0,sleep(time)}(),clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;delay>1e3&&(clockSkew-=delay,clockLast=now)}function sleep(time){dist_frame||(timeout$1&&(timeout$1=clearTimeout(timeout$1)),time-clockNow>24?(time<1/0&&(timeout$1=setTimeout(wake,time-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,1e3)),dist_frame=1,setFrame(wake)))}function timeout(callback,delay,time){var t=new Timer;return delay=null==delay?0:+delay,t.restart((function(elapsed){t.stop(),callback(elapsed+delay)}),delay,time),t}Timer.prototype=timer.prototype={constructor:Timer,restart:function restart(callback,delay,time){if("function"!=typeof callback)throw new TypeError("callback is not a function");time=(null==time?now():+time)+(null==delay?0:+delay),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=callback,this._time=time,sleep()},stop:function stop(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[];function schedule(node,name,id,index,group,timing){var schedules=node.__transition;if(schedules){if(id in schedules)return}else node.__transition={};!function create(node,id,self){var tween,schedules=node.__transition;function schedule(elapsed){self.state=1,self.timer.restart(start,self.delay,self.time),self.delay<=elapsed&&start(elapsed-self.delay)}function start(elapsed){var i,j,n,o;if(1!==self.state)return stop();for(i in schedules)if((o=schedules[i]).name===self.name){if(3===o.state)return timeout(start);4===o.state?(o.state=6,o.timer.stop(),o.on.call("interrupt",node,node.__data__,o.index,o.group),delete schedules[i]):+i<id&&(o.state=6,o.timer.stop(),o.on.call("cancel",node,node.__data__,o.index,o.group),delete schedules[i])}if(timeout((function(){3===self.state&&(self.state=4,self.timer.restart(tick,self.delay,self.time),tick(elapsed))})),self.state=2,self.on.call("start",node,node.__data__,self.index,self.group),2===self.state){for(self.state=3,tween=new Array(n=self.tween.length),i=0,j=-1;i<n;++i)(o=self.tween[i].value.call(node,node.__data__,self.index,self.group))&&(tween[++j]=o);tween.length=j+1}}function tick(elapsed){for(var t=elapsed<self.duration?self.ease.call(null,elapsed/self.duration):(self.timer.restart(stop),self.state=5,1),i=-1,n=tween.length;++i<n;)tween[i].call(node,t);5===self.state&&(self.on.call("end",node,node.__data__,self.index,self.group),stop())}function stop(){for(var i in self.state=6,self.timer.stop(),delete schedules[id],schedules)return;delete node.__transition}schedules[id]=self,self.timer=timer(schedule,0,self.time)}(node,id,{name,index,group,on:emptyOn,tween:emptyTween,time:timing.time,delay:timing.delay,duration:timing.duration,ease:timing.ease,timer:null,state:0})}function init(node,id){var schedule=dist_get(node,id);if(schedule.state>0)throw new Error("too late; already scheduled");return schedule}function set(node,id){var schedule=dist_get(node,id);if(schedule.state>3)throw new Error("too late; already running");return schedule}function dist_get(node,id){var schedule=node.__transition;if(!schedule||!(schedule=schedule[id]))throw new Error("transition not found");return schedule}function tweenRemove(id,name){var tween0,tween1;return function(){var schedule=set(this,id),tween=schedule.tween;if(tween!==tween0)for(var i=0,n=(tween1=tween0=tween).length;i<n;++i)if(tween1[i].name===name){(tween1=tween1.slice()).splice(i,1);break}schedule.tween=tween1}}function tweenFunction(id,name,value){var tween0,tween1;if("function"!=typeof value)throw new Error;return function(){var schedule=set(this,id),tween=schedule.tween;if(tween!==tween0){tween1=(tween0=tween).slice();for(var t={name,value},i=0,n=tween1.length;i<n;++i)if(tween1[i].name===name){tween1[i]=t;break}i===n&&tween1.push(t)}schedule.tween=tween1}}function tweenValue(transition,name,value){var id=transition._id;return transition.each((function(){var schedule=set(this,id);(schedule.value||(schedule.value={}))[name]=value.apply(this,arguments)})),function(node){return dist_get(node,id).value[name]}}function interpolate(a,b){var c;return("number"==typeof b?interpolateNumber:b instanceof color?interpolateRgb:(c=color(b))?(b=c,interpolateRgb):interpolateString)(a,b)}function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttribute(name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attrConstantNS(fullname,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttributeNS(fullname.space,fullname.local);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attrFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttribute(name))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttribute(name)}}function attrFunctionNS(fullname,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttributeNS(fullname.space,fullname.local))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttributeNS(fullname.space,fullname.local)}}function attrInterpolate(name,i){return function(t){this.setAttribute(name,i.call(this,t))}}function attrInterpolateNS(fullname,i){return function(t){this.setAttributeNS(fullname.space,fullname.local,i.call(this,t))}}function attrTweenNS(fullname,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&attrInterpolateNS(fullname,i)),t0}return tween._value=value,tween}function attrTween(name,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&attrInterpolate(name,i)),t0}return tween._value=value,tween}function delayFunction(id,value){return function(){init(this,id).delay=+value.apply(this,arguments)}}function delayConstant(id,value){return value=+value,function(){init(this,id).delay=value}}function durationFunction(id,value){return function(){set(this,id).duration=+value.apply(this,arguments)}}function durationConstant(id,value){return value=+value,function(){set(this,id).duration=value}}function easeConstant(id,value){if("function"!=typeof value)throw new Error;return function(){set(this,id).ease=value}}function onFunction(id,name,listener){var on0,on1,sit=function start(name){return(name+"").trim().split(/^|\s+/).every((function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t}))}(name)?init:set;return function(){var schedule=sit(this,id),on=schedule.on;on!==on0&&(on1=(on0=on).copy()).on(name,listener),schedule.on=on1}}var Selection=selection.prototype.constructor;function styleRemove(name){return function(){this.style.removeProperty(name)}}function styleInterpolate(name,i,priority){return function(t){this.style.setProperty(name,i.call(this,t),priority)}}function styleTween(name,value,priority){var t,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t=(i0=i)&&styleInterpolate(name,i,priority)),t}return tween._value=value,tween}function textInterpolate(i){return function(t){this.textContent=i.call(this,t)}}function textTween(value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&textInterpolate(i)),t0}return tween._value=value,tween}var id=0;function Transition(groups,parents,name,id){this._groups=groups,this._parents=parents,this._name=name,this._id=id}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype=(_Transition$prototype={constructor:Transition,select:function transition_select(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode,schedule(subgroup[i],name,id,i,subgroup,dist_get(node,id)));return new Transition(subgroups,this._parents,name,id)},selectAll:function transition_selectAll(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selectorAll(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){for(var child,children=select.call(node,node.__data__,i,group),inherit=dist_get(node,id),k=0,l=children.length;k<l;++k)(child=children[k])&&schedule(child,name,id,k,children,inherit);subgroups.push(children),parents.push(node)}return new Transition(subgroups,parents,name,id)},selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:function transition_filter(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Transition(subgroups,this._parents,this._name,this._id)},merge:function transition_merge(transition){if(transition._id!==this._id)throw new Error;for(var groups0=this._groups,groups1=transition._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Transition(merges,this._parents,this._name,this._id)},selection:function transition_selection(){return new Selection(this._groups,this._parents)},transition:function transition_transition(){for(var name=this._name,id0=this._id,id1=newId(),groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){var inherit=dist_get(node,id0);schedule(node,name,id1,i,group,{time:inherit.time+inherit.delay+inherit.duration,delay:0,duration:inherit.duration,ease:inherit.ease})}return new Transition(groups,this._parents,name,id1)},call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:function transition_on(name,listener){var id=this._id;return arguments.length<2?dist_get(this.node(),id).on.on(name):this.each(onFunction(id,name,listener))},attr:function transition_attr(name,value){var fullname=namespace(name),i="transform"===fullname?interpolateTransformSvg:interpolate;return this.attrTween(name,"function"==typeof value?(fullname.local?attrFunctionNS:attrFunction)(fullname,i,tweenValue(this,"attr."+name,value)):null==value?(fullname.local?attrRemoveNS:attrRemove)(fullname):(fullname.local?attrConstantNS:attrConstant)(fullname,i,value))},attrTween:function transition_attrTween(name,value){var key="attr."+name;if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;var fullname=namespace(name);return this.tween(key,(fullname.local?attrTweenNS:attrTween)(fullname,value))},style:function transition_style(name,value,priority){var i="transform"==(name+="")?interpolateTransformCss:interpolate;return null==value?this.styleTween(name,function styleNull(name,interpolate){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),string1=(this.style.removeProperty(name),styleValue(this,name));return string0===string1?null:string0===string00&&string1===string10?interpolate0:interpolate0=interpolate(string00=string0,string10=string1)}}(name,i)).on("end.style."+name,styleRemove(name)):"function"==typeof value?this.styleTween(name,function styleFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),value1=value(this),string1=value1+"";return null==value1&&(this.style.removeProperty(name),string1=value1=styleValue(this,name)),string0===string1?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1))}}(name,i,tweenValue(this,"style."+name,value))).each(function styleMaybeRemove(id,name){var on0,on1,listener0,remove,key="style."+name,event="end."+key;return function(){var schedule=set(this,id),on=schedule.on,listener=null==schedule.value[key]?remove||(remove=styleRemove(name)):void 0;on===on0&&listener0===listener||(on1=(on0=on).copy()).on(event,listener0=listener),schedule.on=on1}}(this._id,name)):this.styleTween(name,function styleConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=styleValue(this,name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}(name,i,value),priority).on("end.style."+name,null)},styleTween:function transition_styleTween(name,value,priority){var key="style."+(name+="");if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,styleTween(name,value,null==priority?"":priority))},text:function transition_text(value){return this.tween("text","function"==typeof value?function textFunction(value){return function(){var value1=value(this);this.textContent=null==value1?"":value1}}(tweenValue(this,"text",value)):function textConstant(value){return function(){this.textContent=value}}(null==value?"":value+""))},textTween:function transition_textTween(value){var key="text";if(arguments.length<1)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,textTween(value))},remove:function transition_remove(){return this.on("end.remove",function removeFunction(id){return function(){var parent=this.parentNode;for(var i in this.__transition)if(+i!==id)return;parent&&parent.removeChild(this)}}(this._id))},tween:function transition_tween(name,value){var id=this._id;if(name+="",arguments.length<2){for(var t,tween=dist_get(this.node(),id).tween,i=0,n=tween.length;i<n;++i)if((t=tween[i]).name===name)return t.value;return null}return this.each((null==value?tweenRemove:tweenFunction)(id,name,value))},delay:function transition_delay(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?delayFunction:delayConstant)(id,value)):dist_get(this.node(),id).delay},duration:function transition_duration(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?durationFunction:durationConstant)(id,value)):dist_get(this.node(),id).duration},ease:function transition_ease(value){var id=this._id;return arguments.length?this.each(easeConstant(id,value)):dist_get(this.node(),id).ease},easeVarying:function transition_easeVarying(value){if("function"!=typeof value)throw new Error;return this.each(function easeVarying(id,value){return function(){var v=value.apply(this,arguments);if("function"!=typeof v)throw new Error;set(this,id).ease=v}}(this._id,value))},end:function transition_end(){var on0,on1,that=this,id=that._id,size=that.size();return new Promise((function(resolve,reject){var cancel={value:reject},end={value:function value(){0==--size&&resolve()}};that.each((function(){var schedule=set(this,id),on=schedule.on;on!==on0&&((on1=(on0=on).copy())._.cancel.push(cancel),on1._.interrupt.push(cancel),on1._.end.push(end)),schedule.on=on1})),0===size&&resolve()}))}},_Transition$prototype[Symbol.iterator]=selection_prototype[Symbol.iterator],_Transition$prototype);var defaultTiming={time:null,delay:0,duration:250,ease:function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function inherit(node,id){for(var timing;!(timing=node.__transition)||!(timing=timing[id]);)if(!(node=node.parentNode))throw new Error("transition "+id+" not found");return timing}function Transform(k,x,y){this.k=k,this.x=x,this.y=y}selection.prototype.interrupt=function selection_interrupt(name){return this.each((function(){!function interrupt(node,name){var schedule,active,i,schedules=node.__transition,empty=!0;if(schedules){for(i in name=null==name?null:name+"",schedules)(schedule=schedules[i]).name===name?(active=schedule.state>2&&schedule.state<5,schedule.state=6,schedule.timer.stop(),schedule.on.call(active?"interrupt":"cancel",node,node.__data__,schedule.index,schedule.group),delete schedules[i]):empty=!1;empty&&delete node.__transition}}(this,name)}))},selection.prototype.transition=function selection_transition(name){var id,timing;name instanceof Transition?(id=name._id,name=name._name):(id=newId(),(timing=defaultTiming).time=now(),name=null==name?null:name+"");for(var groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&schedule(node,name,id,i,group,timing||inherit(node,id));return new Transition(groups,this._parents,name,id)},Transform.prototype={constructor:Transform,scale:function scale(k){return 1===k?this:new Transform(this.k*k,this.x,this.y)},translate:function translate(x,y){return 0===x&0===y?this:new Transform(this.k,this.x+this.k*x,this.y+this.k*y)},apply:function apply(point){return[point[0]*this.k+this.x,point[1]*this.k+this.y]},applyX:function applyX(x){return x*this.k+this.x},applyY:function applyY(y){return y*this.k+this.y},invert:function invert(location){return[(location[0]-this.x)/this.k,(location[1]-this.y)/this.k]},invertX:function invertX(x){return(x-this.x)/this.k},invertY:function invertY(y){return(y-this.y)/this.k},rescaleX:function rescaleX(x){return x.copy().domain(x.range().map(this.invertX,this).map(x.invert,x))},rescaleY:function rescaleY(y){return y.copy().domain(y.range().map(this.invertY,this).map(y.invert,y))},toString:function toString(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Transform(1,0,0),Transform.prototype;var s$5,t$2,t$3=window,e$6=t$3.ShadowRoot&&(void 0===t$3.ShadyCSS||t$3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$6=Symbol(),n$7=new WeakMap,o$6=function(){function o(t,e,n){if(_classCallCheck(this,o),this._$cssResult$=!0,n!==s$6)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}return _createClass(o,[{key:"styleSheet",get:function get(){var t=this.o,s=this.t;if(e$6&&void 0===t){var _e=void 0!==s&&1===s.length;_e&&(t=n$7.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),_e&&n$7.set(s,t))}return t}},{key:"toString",value:function toString(){return this.cssText}}]),o}(),c$2=e$6?function(t){return t}:function(t){return t instanceof CSSStyleSheet?function(t){var _step2,e="",_iterator2=_createForOfIteratorHelper(t.cssRules);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){e+=_step2.value.cssText}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return function r$4(t){return new o$6("string"==typeof t?t:t+"",void 0,s$6)}(e)}(t):t},e$5=window,r$3=e$5.trustedTypes,h$3=r$3?r$3.emptyScript:"",o$5=e$5.reactiveElementPolyfillSupport,n$6={toAttribute:function toAttribute(t,i){switch(i){case Boolean:t=t?h$3:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute:function fromAttribute(t,i){var s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},a$3=function a$3(t,i){return i!==t&&(i==i||t==t)},l$4={attribute:!0,type:String,converter:n$6,reflect:!1,hasChanged:a$3},d$2=function(_HTMLElement){_inherits(d,_HTMLElement);var _$Ej2,_super=_createSuper(d);function d(){var _this;return _classCallCheck(this,d),(_this=_super.call(this))._$Ei=new Map,_this.isUpdatePending=!1,_this.hasUpdated=!1,_this._$El=null,_this.u(),_this}return _createClass(d,[{key:"u",value:function u(){var t,_this2=this;this._$E_=new Promise((function(t){return _this2.enableUpdating=t})),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((function(t){return t(_this2)}))}},{key:"addController",value:function addController(t){var i,s;(null!==(i=this._$ES)&&void 0!==i?i:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}},{key:"removeController",value:function removeController(t){var i;null===(i=this._$ES)||void 0===i||i.splice(this._$ES.indexOf(t)>>>0,1)}},{key:"_$Eg",value:function _$Eg(){var _this3=this;this.constructor.elementProperties.forEach((function(t,i){_this3.hasOwnProperty(i)&&(_this3._$Ei.set(i,_this3[i]),delete _this3[i])}))}},{key:"createRenderRoot",value:function createRenderRoot(){var t,s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return function S$3(s,n){e$6?s.adoptedStyleSheets=n.map((function(t){return t instanceof CSSStyleSheet?t:t.styleSheet})):n.forEach((function(e){var n=document.createElement("style"),o=t$3.litNonce;void 0!==o&&n.setAttribute("nonce",o),n.textContent=e.cssText,s.appendChild(n)}))}(s,this.constructor.elementStyles),s}},{key:"connectedCallback",value:function connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((function(t){var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}},{key:"enableUpdating",value:function enableUpdating(t){}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((function(t){var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,i,s){this._$AK(t,s)}},{key:"_$EO",value:function _$EO(t,i){var e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l$4,r=this.constructor._$Ep(t,s);if(void 0!==r&&!0===s.reflect){var _h=(void 0!==(null===(e=s.converter)||void 0===e?void 0:e.toAttribute)?s.converter:n$6).toAttribute(i,s.type);this._$El=t,null==_h?this.removeAttribute(r):this.setAttribute(r,_h),this._$El=null}}},{key:"_$AK",value:function _$AK(t,i){var s,e=this.constructor,r=e._$Ev.get(t);if(void 0!==r&&this._$El!==r){var _t=e.getPropertyOptions(r),_h2="function"==typeof _t.converter?{fromAttribute:_t.converter}:void 0!==(null===(s=_t.converter)||void 0===s?void 0:s.fromAttribute)?_t.converter:n$6;this._$El=r,this[r]=_h2.fromAttribute(i,_t.type),this._$El=null}}},{key:"requestUpdate",value:function requestUpdate(t,i,s){var e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||a$3)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(_$Ej2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t;return _regeneratorRuntime().wrap((function _callee$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.isUpdatePending=!0,_context2.prev=1,_context2.next=4,this._$E_;case 4:_context2.next=9;break;case 6:_context2.prev=6,_context2.t0=_context2.catch(1),Promise.reject(_context2.t0);case 9:if(t=this.scheduleUpdate(),_context2.t1=null!=t,!_context2.t1){_context2.next=14;break}return _context2.next=14,t;case 14:return _context2.abrupt("return",!this.isUpdatePending);case 15:case"end":return _context2.stop()}}),_callee,this,[[1,6]])}))),function _$Ej(){return _$Ej2.apply(this,arguments)})},{key:"scheduleUpdate",value:function scheduleUpdate(){return this.performUpdate()}},{key:"performUpdate",value:function performUpdate(){var t,_this4=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach((function(t,i){return _this4[i]=t})),this._$Ei=void 0);var i=!1,s=this._$AL;try{(i=this.shouldUpdate(s))?(this.willUpdate(s),null===(t=this._$ES)||void 0===t||t.forEach((function(t){var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$Ek()}catch(t){throw i=!1,this._$Ek(),t}i&&this._$AE(s)}}},{key:"willUpdate",value:function willUpdate(t){}},{key:"_$AE",value:function _$AE(t){var i;null===(i=this._$ES)||void 0===i||i.forEach((function(t){var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}},{key:"_$Ek",value:function _$Ek(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function get(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function getUpdateComplete(){return this._$E_}},{key:"shouldUpdate",value:function shouldUpdate(t){return!0}},{key:"update",value:function update(t){var _this5=this;void 0!==this._$EC&&(this._$EC.forEach((function(t,i){return _this5._$EO(i,_this5[i],t)})),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function updated(t){}},{key:"firstUpdated",value:function firstUpdated(t){}}],[{key:"addInitializer",value:function addInitializer(t){var i;null!==(i=this.h)&&void 0!==i||(this.h=[]),this.h.push(t)}},{key:"observedAttributes",get:function get(){var _this6=this;this.finalize();var t=[];return this.elementProperties.forEach((function(i,s){var e=_this6._$Ep(s,i);void 0!==e&&(_this6._$Ev.set(e,s),t.push(e))})),t}},{key:"createProperty",value:function createProperty(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l$4;if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){var _s3="symbol"==typeof t?Symbol():"__"+t,_e2=this.getPropertyDescriptor(t,_s3,i);void 0!==_e2&&Object.defineProperty(this.prototype,t,_e2)}}},{key:"getPropertyDescriptor",value:function getPropertyDescriptor(t,i,s){return{get:function get(){return this[i]},set:function set(e){var r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function getPropertyOptions(t){return this.elementProperties.get(t)||l$4}},{key:"finalize",value:function finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var _step3,_t2=this.properties,_iterator3=_createForOfIteratorHelper([].concat(_toConsumableArray(Object.getOwnPropertyNames(_t2)),_toConsumableArray(Object.getOwnPropertySymbols(_t2))));try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _s5=_step3.value;this.createProperty(_s5,_t2[_s5])}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function finalizeStyles(i){var s=[];if(Array.isArray(i)){var _step4,_iterator4=_createForOfIteratorHelper(new Set(i.flat(1/0).reverse()));try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _i3=_step4.value;s.unshift(c$2(_i3))}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}else void 0!==i&&s.push(c$2(i));return s}},{key:"_$Ep",value:function _$Ep(t,i){var s=i.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}}]),d}(_wrapNativeSuper(HTMLElement));d$2.finalized=!0,d$2.elementProperties=new Map,d$2.elementStyles=[],d$2.shadowRootOptions={mode:"open"},null==o$5||o$5({ReactiveElement:d$2}),(null!==(s$5=e$5.reactiveElementVersions)&&void 0!==s$5?s$5:e$5.reactiveElementVersions=[]).push("1.4.1");var i$3=window,s$4=i$3.trustedTypes,e$4=s$4?s$4.createPolicy("lit-html",{createHTML:function createHTML(t){return t}}):void 0,o$4="lit$"+(Math.random()+"").slice(9)+"$",n$5="?"+o$4,l$3="<"+n$5+">",h$2=document,r$2=function r$2(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return h$2.createComment(t)},d$1=function d$1(t){return null===t||"object"!=typeof t&&"function"!=typeof t},u$1=Array.isArray,c$1=function c$1(t){return u$1(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator])},v$1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,a$2=/-->/g,f$1=/>/g,_$1=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),m$1=/'/g,p$1=/"/g,$$1=/^(?:script|style|textarea|title)$/i,x$1=Symbol.for("lit-noChange"),b$1=Symbol.for("lit-nothing"),T$1=new WeakMap,A$1=h$2.createTreeWalker(h$2,129,null,!1),C$1=function(){function C(_ref,e){var l,t=_ref.strings,i=_ref._$litType$;_classCallCheck(this,C),this.parts=[];var h=0,d=0,u=t.length-1,c=this.parts,_E$=function E$1(t,i){for(var h,s=t.length-1,n=[],r=2===i?"<svg>":"",d=v$1,_i4=0;_i4<s;_i4++){for(var _s6=t[_i4],_e4=void 0,_u=void 0,_c2=-1,_g=0;_g<_s6.length&&(d.lastIndex=_g,null!==(_u=d.exec(_s6)));)_g=d.lastIndex,d===v$1?"!--"===_u[1]?d=a$2:void 0!==_u[1]?d=f$1:void 0!==_u[2]?($$1.test(_u[2])&&(h=RegExp("</"+_u[2],"g")),d=_$1):void 0!==_u[3]&&(d=_$1):d===_$1?">"===_u[0]?(d=null!=h?h:v$1,_c2=-1):void 0===_u[1]?_c2=-2:(_c2=d.lastIndex-_u[2].length,_e4=_u[1],d=void 0===_u[3]?_$1:'"'===_u[3]?p$1:m$1):d===p$1||d===m$1?d=_$1:d===a$2||d===f$1?d=v$1:(d=_$1,h=void 0);var y=d===_$1&&t[_i4+1].startsWith("/>")?" ":"";r+=d===v$1?_s6+l$3:_c2>=0?(n.push(_e4),_s6.slice(0,_c2)+"$lit$"+_s6.slice(_c2)+o$4+y):_s6+o$4+(-2===_c2?(n.push(void 0),_i4):y)}var u=r+(t[s]||"<?>")+(2===i?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==e$4?e$4.createHTML(u):u,n]}(t,i),_E$2=_slicedToArray(_E$,2),v=_E$2[0],a=_E$2[1];if(this.el=C$1.createElement(v,e),A$1.currentNode=this.el.content,2===i){var _t3=this.el.content,_i5=_t3.firstChild;_i5.remove(),_t3.append.apply(_t3,_toConsumableArray(_i5.childNodes))}for(;null!==(l=A$1.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){var _step5,_t4=[],_iterator5=_createForOfIteratorHelper(l.getAttributeNames());try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _i10=_step5.value;if(_i10.endsWith("$lit$")||_i10.startsWith(o$4)){var _s7=a[d++];if(_t4.push(_i10),void 0!==_s7){var _t6=l.getAttribute(_s7.toLowerCase()+"$lit$").split(o$4),_i11=/([.?@])?(.*)/.exec(_s7);c.push({type:1,index:h,name:_i11[2],strings:_t6,ctor:"."===_i11[1]?M$1:"?"===_i11[1]?k$1:"@"===_i11[1]?H$1:S$2})}else c.push({type:6,index:h})}}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}for(var _i8=0,_t5=_t4;_i8<_t5.length;_i8++){var _i9=_t5[_i8];l.removeAttribute(_i9)}}if($$1.test(l.tagName)){var _t7=l.textContent.split(o$4),_i12=_t7.length-1;if(_i12>0){l.textContent=s$4?s$4.emptyScript:"";for(var _s8=0;_s8<_i12;_s8++)l.append(_t7[_s8],r$2()),A$1.nextNode(),c.push({type:2,index:++h});l.append(_t7[_i12],r$2())}}}else if(8===l.nodeType)if(l.data===n$5)c.push({type:2,index:h});else for(var _t8=-1;-1!==(_t8=l.data.indexOf(o$4,_t8+1));)c.push({type:7,index:h}),_t8+=o$4.length-1;h++}}return _createClass(C,null,[{key:"createElement",value:function createElement(t,i){var s=h$2.createElement("template");return s.innerHTML=t,s}}]),C}();function P$1(t,i){var o,n,l,h,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,e=arguments.length>3?arguments[3]:void 0;if(i===x$1)return i;var r=void 0!==e?null===(o=s._$Co)||void 0===o?void 0:o[e]:s._$Cl,u=d$1(i)?void 0:i._$litDirective$;return(null==r?void 0:r.constructor)!==u&&(null===(n=null==r?void 0:r._$AO)||void 0===n||n.call(r,!1),void 0===u?r=void 0:(r=new u(t))._$AT(t,s,e),void 0!==e?(null!==(l=(h=s)._$Co)&&void 0!==l?l:h._$Co=[])[e]=r:s._$Cl=r),void 0!==r&&(i=P$1(t,r._$AS(t,i.values),r,e)),i}var V$1=function(){function V(t,i){_classCallCheck(this,V),this.u=[],this._$AN=void 0,this._$AD=t,this._$AM=i}return _createClass(V,[{key:"parentNode",get:function get(){return this._$AM.parentNode}},{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"v",value:function v(t){var i,_this$_$AD=this._$AD,s=_this$_$AD.el.content,e=_this$_$AD.parts,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:h$2).importNode(s,!0);A$1.currentNode=o;for(var n=A$1.nextNode(),l=0,r=0,d=e[0];void 0!==d;){if(l===d.index){var _i13=void 0;2===d.type?_i13=new N$1(n,n.nextSibling,this,t):1===d.type?_i13=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(_i13=new I$1(n,this,t)),this.u.push(_i13),d=e[++r]}l!==(null==d?void 0:d.index)&&(n=A$1.nextNode(),l++)}return o}},{key:"p",value:function p(t){var _step6,i=0,_iterator6=_createForOfIteratorHelper(this.u);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _s10=_step6.value;void 0!==_s10&&(void 0!==_s10.strings?(_s10._$AI(t,_s10,i),i+=_s10.strings.length-2):_s10._$AI(t[i])),i++}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}}}]),V}(),N$1=function(){function N(t,i,s,e){var o;_classCallCheck(this,N),this.type=2,this._$AH=b$1,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cm=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}return _createClass(N,[{key:"_$AU",get:function get(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cm}},{key:"parentNode",get:function get(){var t=this._$AA.parentNode,i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}},{key:"startNode",get:function get(){return this._$AA}},{key:"endNode",get:function get(){return this._$AB}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;t=P$1(this,t,i),d$1(t)?t===b$1||null==t||""===t?(this._$AH!==b$1&&this._$AR(),this._$AH=b$1):t!==this._$AH&&t!==x$1&&this.g(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):c$1(t)?this.k(t):this.g(t)}},{key:"O",value:function O(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(t,i)}},{key:"T",value:function T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}},{key:"g",value:function g(t){this._$AH!==b$1&&d$1(this._$AH)?this._$AA.nextSibling.data=t:this.T(h$2.createTextNode(t)),this._$AH=t}},{key:"$",value:function $(t){var i,s=t.values,e=t._$litType$,o="number"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=C$1.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.p(s);else{var _t9=new V$1(o,this),_i14=_t9.v(this.options);_t9.p(s),this.T(_i14),this._$AH=_t9}}},{key:"_$AC",value:function _$AC(t){var i=T$1.get(t.strings);return void 0===i&&T$1.set(t.strings,i=new C$1(t)),i}},{key:"k",value:function k(t){u$1(this._$AH)||(this._$AH=[],this._$AR());var s,_step7,i=this._$AH,e=0,_iterator7=_createForOfIteratorHelper(t);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _o2=_step7.value;e===i.length?i.push(s=new N$1(this.O(r$2()),this.O(r$2()),this,this.options)):s=i[e],s._$AI(_o2),e++}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}},{key:"_$AR",value:function _$AR(){var s,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,i=arguments.length>1?arguments[1]:void 0;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){var _i15=t.nextSibling;t.remove(),t=_i15}}},{key:"setConnected",value:function setConnected(t){var i;void 0===this._$AM&&(this._$Cm=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}]),N}(),S$2=function(){function S(t,i,s,e,o){_classCallCheck(this,S),this.type=1,this._$AH=b$1,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=b$1}return _createClass(S,[{key:"tagName",get:function get(){return this.element.tagName}},{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,s=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0,o=this.strings,n=!1;if(void 0===o)t=P$1(this,t,i,0),(n=!d$1(t)||t!==this._$AH&&t!==x$1)&&(this._$AH=t);else{var _l,_h3,_e5=t;for(t=o[0],_l=0;_l<o.length-1;_l++)(_h3=P$1(this,_e5[s+_l],i,_l))===x$1&&(_h3=this._$AH[_l]),n||(n=!d$1(_h3)||_h3!==this._$AH[_l]),_h3===b$1?t=b$1:t!==b$1&&(t+=(null!=_h3?_h3:"")+o[_l+1]),this._$AH[_l]=_h3}n&&!e&&this.j(t)}},{key:"j",value:function j(t){t===b$1?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}]),S}(),M$1=function(_S$){_inherits(M,_S$);var _super2=_createSuper(M);function M(){var _this7;return _classCallCheck(this,M),(_this7=_super2.apply(this,arguments)).type=3,_this7}return _createClass(M,[{key:"j",value:function j(t){this.element[this.name]=t===b$1?void 0:t}}]),M}(S$2),R$1=s$4?s$4.emptyScript:"",k$1=function(_S$2){_inherits(k,_S$2);var _super3=_createSuper(k);function k(){var _this8;return _classCallCheck(this,k),(_this8=_super3.apply(this,arguments)).type=4,_this8}return _createClass(k,[{key:"j",value:function j(t){t&&t!==b$1?this.element.setAttribute(this.name,R$1):this.element.removeAttribute(this.name)}}]),k}(S$2),H$1=function(_S$3){_inherits(H,_S$3);var _super4=_createSuper(H);function H(t,i,s,e,o){var _this9;return _classCallCheck(this,H),(_this9=_super4.call(this,t,i,s,e,o)).type=5,_this9}return _createClass(H,[{key:"_$AI",value:function _$AI(t){var s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if((t=null!==(s=P$1(this,t,i,0))&&void 0!==s?s:b$1)!==x$1){var e=this._$AH,o=t===b$1&&e!==b$1||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==b$1&&(e===b$1||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}}},{key:"handleEvent",value:function handleEvent(t){var i,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}]),H}(S$2),I$1=function(){function I(t,i,s){_classCallCheck(this,I),this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}return _createClass(I,[{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"_$AI",value:function _$AI(t){P$1(this,t)}}]),I}(),z$1=i$3.litHtmlPolyfillSupport;null==z$1||z$1(C$1,N$1),(null!==(t$2=i$3.litHtmlVersions)&&void 0!==t$2?t$2:i$3.litHtmlVersions=[]).push("2.4.0");var s$2,t,t$1=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$3=Symbol(),n$4=new WeakMap,s$3=function(){function s(t,n,_s11){if(_classCallCheck(this,s),this._$cssResult$=!0,_s11!==e$3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}return _createClass(s,[{key:"styleSheet",get:function get(){var e=this.o,_s12=this.t;if(t$1&&void 0===e){var _t10=void 0!==_s12&&1===_s12.length;_t10&&(e=n$4.get(_s12)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),_t10&&n$4.set(_s12,e))}return e}},{key:"toString",value:function toString(){return this.cssText}}]),s}(),S$1=t$1?function(t){return t}:function(t){return t instanceof CSSStyleSheet?function(t){var _step8,e="",_iterator8=_createForOfIteratorHelper(t.cssRules);try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){e+=_step8.value.cssText}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}return function o$3(t){return new s$3("string"==typeof t?t:t+"",void 0,e$3)}(e)}(t):t},e$2=window.trustedTypes,r$1=e$2?e$2.emptyScript:"",h$1=window.reactiveElementPolyfillSupport,o$2={toAttribute:function toAttribute(t,i){switch(i){case Boolean:t=t?r$1:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute:function fromAttribute(t,i){var s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},n$3=function n$3(t,i){return i!==t&&(i==i||t==t)},l$2={attribute:!0,type:String,converter:o$2,reflect:!1,hasChanged:n$3},a$1=function(_HTMLElement2){_inherits(a,_HTMLElement2);var _$Ej3,_super5=_createSuper(a);function a(){var _this10;return _classCallCheck(this,a),(_this10=_super5.call(this))._$Ei=new Map,_this10.isUpdatePending=!1,_this10.hasUpdated=!1,_this10._$El=null,_this10.u(),_this10}return _createClass(a,[{key:"u",value:function u(){var t,_this11=this;this._$E_=new Promise((function(t){return _this11.enableUpdating=t})),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((function(t){return t(_this11)}))}},{key:"addController",value:function addController(t){var i,s;(null!==(i=this._$ES)&&void 0!==i?i:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}},{key:"removeController",value:function removeController(t){var i;null===(i=this._$ES)||void 0===i||i.splice(this._$ES.indexOf(t)>>>0,1)}},{key:"_$Eg",value:function _$Eg(){var _this12=this;this.constructor.elementProperties.forEach((function(t,i){_this12.hasOwnProperty(i)&&(_this12._$Ei.set(i,_this12[i]),delete _this12[i])}))}},{key:"createRenderRoot",value:function createRenderRoot(){var t,s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return function i$2(e,n){t$1?e.adoptedStyleSheets=n.map((function(t){return t instanceof CSSStyleSheet?t:t.styleSheet})):n.forEach((function(t){var n=document.createElement("style"),s=window.litNonce;void 0!==s&&n.setAttribute("nonce",s),n.textContent=t.cssText,e.appendChild(n)}))}(s,this.constructor.elementStyles),s}},{key:"connectedCallback",value:function connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((function(t){var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}},{key:"enableUpdating",value:function enableUpdating(t){}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((function(t){var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,i,s){this._$AK(t,s)}},{key:"_$EO",value:function _$EO(t,i){var e,r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l$2,h=this.constructor._$Ep(t,s);if(void 0!==h&&!0===s.reflect){var _n4=(null!==(r=null===(e=s.converter)||void 0===e?void 0:e.toAttribute)&&void 0!==r?r:o$2.toAttribute)(i,s.type);this._$El=t,null==_n4?this.removeAttribute(h):this.setAttribute(h,_n4),this._$El=null}}},{key:"_$AK",value:function _$AK(t,i){var s,e,r=this.constructor,h=r._$Ev.get(t);if(void 0!==h&&this._$El!==h){var _t11=r.getPropertyOptions(h),_n5=_t11.converter,_l2=null!==(e=null!==(s=null==_n5?void 0:_n5.fromAttribute)&&void 0!==s?s:"function"==typeof _n5?_n5:null)&&void 0!==e?e:o$2.fromAttribute;this._$El=h,this[h]=_l2(i,_t11.type),this._$El=null}}},{key:"requestUpdate",value:function requestUpdate(t,i,s){var e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||n$3)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(_$Ej3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var t;return _regeneratorRuntime().wrap((function _callee2$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return this.isUpdatePending=!0,_context3.prev=1,_context3.next=4,this._$E_;case 4:_context3.next=9;break;case 6:_context3.prev=6,_context3.t0=_context3.catch(1),Promise.reject(_context3.t0);case 9:if(t=this.scheduleUpdate(),_context3.t1=null!=t,!_context3.t1){_context3.next=14;break}return _context3.next=14,t;case 14:return _context3.abrupt("return",!this.isUpdatePending);case 15:case"end":return _context3.stop()}}),_callee2,this,[[1,6]])}))),function _$Ej(){return _$Ej3.apply(this,arguments)})},{key:"scheduleUpdate",value:function scheduleUpdate(){return this.performUpdate()}},{key:"performUpdate",value:function performUpdate(){var t,_this13=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach((function(t,i){return _this13[i]=t})),this._$Ei=void 0);var i=!1,s=this._$AL;try{(i=this.shouldUpdate(s))?(this.willUpdate(s),null===(t=this._$ES)||void 0===t||t.forEach((function(t){var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$Ek()}catch(t){throw i=!1,this._$Ek(),t}i&&this._$AE(s)}}},{key:"willUpdate",value:function willUpdate(t){}},{key:"_$AE",value:function _$AE(t){var i;null===(i=this._$ES)||void 0===i||i.forEach((function(t){var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}},{key:"_$Ek",value:function _$Ek(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function get(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function getUpdateComplete(){return this._$E_}},{key:"shouldUpdate",value:function shouldUpdate(t){return!0}},{key:"update",value:function update(t){var _this14=this;void 0!==this._$EC&&(this._$EC.forEach((function(t,i){return _this14._$EO(i,_this14[i],t)})),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function updated(t){}},{key:"firstUpdated",value:function firstUpdated(t){}}],[{key:"addInitializer",value:function addInitializer(t){var i;null!==(i=this.h)&&void 0!==i||(this.h=[]),this.h.push(t)}},{key:"observedAttributes",get:function get(){var _this15=this;this.finalize();var t=[];return this.elementProperties.forEach((function(i,s){var e=_this15._$Ep(s,i);void 0!==e&&(_this15._$Ev.set(e,s),t.push(e))})),t}},{key:"createProperty",value:function createProperty(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l$2;if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){var _s13="symbol"==typeof t?Symbol():"__"+t,_e6=this.getPropertyDescriptor(t,_s13,i);void 0!==_e6&&Object.defineProperty(this.prototype,t,_e6)}}},{key:"getPropertyDescriptor",value:function getPropertyDescriptor(t,i,s){return{get:function get(){return this[i]},set:function set(e){var r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function getPropertyOptions(t){return this.elementProperties.get(t)||l$2}},{key:"finalize",value:function finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var _step9,_t12=this.properties,_iterator9=_createForOfIteratorHelper([].concat(_toConsumableArray(Object.getOwnPropertyNames(_t12)),_toConsumableArray(Object.getOwnPropertySymbols(_t12))));try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _s15=_step9.value;this.createProperty(_s15,_t12[_s15])}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function finalizeStyles(i){var s=[];if(Array.isArray(i)){var _step10,_iterator10=_createForOfIteratorHelper(new Set(i.flat(1/0).reverse()));try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _i18=_step10.value;s.unshift(S$1(_i18))}}catch(err){_iterator10.e(err)}finally{_iterator10.f()}}else void 0!==i&&s.push(S$1(i));return s}},{key:"_$Ep",value:function _$Ep(t,i){var s=i.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}}]),a}(_wrapNativeSuper(HTMLElement));a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},null==h$1||h$1({ReactiveElement:a$1}),(null!==(s$2=globalThis.reactiveElementVersions)&&void 0!==s$2?s$2:globalThis.reactiveElementVersions=[]).push("1.3.4");var i$1=globalThis.trustedTypes,s$1=i$1?i$1.createPolicy("lit-html",{createHTML:function createHTML(t){return t}}):void 0,e$1="lit$"+(Math.random()+"").slice(9)+"$",o$1="?"+e$1,n$2="<"+o$1+">",l$1=document,h=function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l$1.createComment(t)},r=function r(t){return null===t||"object"!=typeof t&&"function"!=typeof t},d=Array.isArray,u=function u(t){return d(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator])},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),_=/'/g,g=/"/g,m=/^(?:script|style|textarea|title)$/i,$=function p(t){return function(i){for(var _len=arguments.length,s=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)s[_key-1]=arguments[_key];return{_$litType$:t,strings:i,values:s}}}(1),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),x=new WeakMap,A=l$1.createTreeWalker(l$1,129,null,!1),E=function E(t,i){for(var h,o=t.length-1,l=[],r=2===i?"<svg>":"",d=c,_i19=0;_i19<o;_i19++){for(var _s16=t[_i19],_o3=void 0,_u2=void 0,_p=-1,_$=0;_$<_s16.length&&(d.lastIndex=_$,null!==(_u2=d.exec(_s16)));)_$=d.lastIndex,d===c?"!--"===_u2[1]?d=v:void 0!==_u2[1]?d=a:void 0!==_u2[2]?(m.test(_u2[2])&&(h=RegExp("</"+_u2[2],"g")),d=f):void 0!==_u2[3]&&(d=f):d===f?">"===_u2[0]?(d=null!=h?h:c,_p=-1):void 0===_u2[1]?_p=-2:(_p=d.lastIndex-_u2[2].length,_o3=_u2[1],d=void 0===_u2[3]?f:'"'===_u2[3]?g:_):d===g||d===_?d=f:d===v||d===a?d=c:(d=f,h=void 0);var y=d===f&&t[_i19+1].startsWith("/>")?" ":"";r+=d===c?_s16+n$2:_p>=0?(l.push(_o3),_s16.slice(0,_p)+"$lit$"+_s16.slice(_p)+e$1+y):_s16+e$1+(-2===_p?(l.push(void 0),_i19):y)}var u=r+(t[o]||"<?>")+(2===i?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==s$1?s$1.createHTML(u):u,l]},C=function(){function C(_ref2,n){var l,t=_ref2.strings,s=_ref2._$litType$;_classCallCheck(this,C),this.parts=[];var r=0,d=0,u=t.length-1,c=this.parts,_E2=_slicedToArray(E(t,s),2),v=_E2[0],a=_E2[1];if(this.el=C.createElement(v,n),A.currentNode=this.el.content,2===s){var _t14=this.el.content,_i20=_t14.firstChild;_i20.remove(),_t14.append.apply(_t14,_toConsumableArray(_i20.childNodes))}for(;null!==(l=A.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){var _step11,_t15=[],_iterator11=_createForOfIteratorHelper(l.getAttributeNames());try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _i25=_step11.value;if(_i25.endsWith("$lit$")||_i25.startsWith(e$1)){var _s17=a[d++];if(_t15.push(_i25),void 0!==_s17){var _t17=l.getAttribute(_s17.toLowerCase()+"$lit$").split(e$1),_i26=/([.?@])?(.*)/.exec(_s17);c.push({type:1,index:r,name:_i26[2],strings:_t17,ctor:"."===_i26[1]?M:"?"===_i26[1]?k:"@"===_i26[1]?H:S})}else c.push({type:6,index:r})}}}catch(err){_iterator11.e(err)}finally{_iterator11.f()}for(var _i23=0,_t16=_t15;_i23<_t16.length;_i23++){var _i24=_t16[_i23];l.removeAttribute(_i24)}}if(m.test(l.tagName)){var _t18=l.textContent.split(e$1),_s18=_t18.length-1;if(_s18>0){l.textContent=i$1?i$1.emptyScript:"";for(var _i27=0;_i27<_s18;_i27++)l.append(_t18[_i27],h()),A.nextNode(),c.push({type:2,index:++r});l.append(_t18[_s18],h())}}}else if(8===l.nodeType)if(l.data===o$1)c.push({type:2,index:r});else for(var _t19=-1;-1!==(_t19=l.data.indexOf(e$1,_t19+1));)c.push({type:7,index:r}),_t19+=e$1.length-1;r++}}return _createClass(C,null,[{key:"createElement",value:function createElement(t,i){var s=l$1.createElement("template");return s.innerHTML=t,s}}]),C}();function P(t,i){var o,n,l,h,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,e=arguments.length>3?arguments[3]:void 0;if(i===b)return i;var d=void 0!==e?null===(o=s._$Cl)||void 0===o?void 0:o[e]:s._$Cu,u=r(i)?void 0:i._$litDirective$;return(null==d?void 0:d.constructor)!==u&&(null===(n=null==d?void 0:d._$AO)||void 0===n||n.call(d,!1),void 0===u?d=void 0:(d=new u(t))._$AT(t,s,e),void 0!==e?(null!==(l=(h=s)._$Cl)&&void 0!==l?l:h._$Cl=[])[e]=d:s._$Cu=d),void 0!==d&&(i=P(t,d._$AS(t,i.values),d,e)),i}var l,o,V=function(){function V(t,i){_classCallCheck(this,V),this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=i}return _createClass(V,[{key:"parentNode",get:function get(){return this._$AM.parentNode}},{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"p",value:function p(t){var i,_this$_$AD2=this._$AD,s=_this$_$AD2.el.content,e=_this$_$AD2.parts,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:l$1).importNode(s,!0);A.currentNode=o;for(var n=A.nextNode(),h=0,r=0,d=e[0];void 0!==d;){if(h===d.index){var _i28=void 0;2===d.type?_i28=new N(n,n.nextSibling,this,t):1===d.type?_i28=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(_i28=new I(n,this,t)),this.v.push(_i28),d=e[++r]}h!==(null==d?void 0:d.index)&&(n=A.nextNode(),h++)}return o}},{key:"m",value:function m(t){var _step12,i=0,_iterator12=_createForOfIteratorHelper(this.v);try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _s20=_step12.value;void 0!==_s20&&(void 0!==_s20.strings?(_s20._$AI(t,_s20,i),i+=_s20.strings.length-2):_s20._$AI(t[i])),i++}}catch(err){_iterator12.e(err)}finally{_iterator12.f()}}}]),V}(),N=function(){function N(t,i,s,e){var o;_classCallCheck(this,N),this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$C_=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}return _createClass(N,[{key:"_$AU",get:function get(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$C_}},{key:"parentNode",get:function get(){var t=this._$AA.parentNode,i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}},{key:"startNode",get:function get(){return this._$AA}},{key:"endNode",get:function get(){return this._$AB}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;t=P(this,t,i),r(t)?t===w||null==t||""===t?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.T(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.k(t):u(t)?this.S(t):this.T(t)}},{key:"j",value:function j(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(t,i)}},{key:"k",value:function k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.j(t))}},{key:"T",value:function T(t){this._$AH!==w&&r(this._$AH)?this._$AA.nextSibling.data=t:this.k(l$1.createTextNode(t)),this._$AH=t}},{key:"$",value:function $(t){var i,s=t.values,e=t._$litType$,o="number"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=C.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.m(s);else{var _t20=new V(o,this),_i29=_t20.p(this.options);_t20.m(s),this.k(_i29),this._$AH=_t20}}},{key:"_$AC",value:function _$AC(t){var i=x.get(t.strings);return void 0===i&&x.set(t.strings,i=new C(t)),i}},{key:"S",value:function S(t){d(this._$AH)||(this._$AH=[],this._$AR());var s,_step13,i=this._$AH,e=0,_iterator13=_createForOfIteratorHelper(t);try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var _o5=_step13.value;e===i.length?i.push(s=new N(this.j(h()),this.j(h()),this,this.options)):s=i[e],s._$AI(_o5),e++}}catch(err){_iterator13.e(err)}finally{_iterator13.f()}e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}},{key:"_$AR",value:function _$AR(){var s,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,i=arguments.length>1?arguments[1]:void 0;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){var _i30=t.nextSibling;t.remove(),t=_i30}}},{key:"setConnected",value:function setConnected(t){var i;void 0===this._$AM&&(this._$C_=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}]),N}(),S=function(){function S(t,i,s,e,o){_classCallCheck(this,S),this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=w}return _createClass(S,[{key:"tagName",get:function get(){return this.element.tagName}},{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,s=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0,o=this.strings,n=!1;if(void 0===o)t=P(this,t,i,0),(n=!r(t)||t!==this._$AH&&t!==b)&&(this._$AH=t);else{var _l3,_h4,_e8=t;for(t=o[0],_l3=0;_l3<o.length-1;_l3++)(_h4=P(this,_e8[s+_l3],i,_l3))===b&&(_h4=this._$AH[_l3]),n||(n=!r(_h4)||_h4!==this._$AH[_l3]),_h4===w?t=w:t!==w&&(t+=(null!=_h4?_h4:"")+o[_l3+1]),this._$AH[_l3]=_h4}n&&!e&&this.P(t)}},{key:"P",value:function P(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}]),S}(),M=function(_S){_inherits(M,_S);var _super6=_createSuper(M);function M(){var _this16;return _classCallCheck(this,M),(_this16=_super6.apply(this,arguments)).type=3,_this16}return _createClass(M,[{key:"P",value:function P(t){this.element[this.name]=t===w?void 0:t}}]),M}(S),R=i$1?i$1.emptyScript:"",k=function(_S2){_inherits(k,_S2);var _super7=_createSuper(k);function k(){var _this17;return _classCallCheck(this,k),(_this17=_super7.apply(this,arguments)).type=4,_this17}return _createClass(k,[{key:"P",value:function P(t){t&&t!==w?this.element.setAttribute(this.name,R):this.element.removeAttribute(this.name)}}]),k}(S),H=function(_S3){_inherits(H,_S3);var _super8=_createSuper(H);function H(t,i,s,e,o){var _this18;return _classCallCheck(this,H),(_this18=_super8.call(this,t,i,s,e,o)).type=5,_this18}return _createClass(H,[{key:"_$AI",value:function _$AI(t){var s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if((t=null!==(s=P(this,t,i,0))&&void 0!==s?s:w)!==b){var e=this._$AH,o=t===w&&e!==w||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==w&&(e===w||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}}},{key:"handleEvent",value:function handleEvent(t){var i,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}]),H}(S),I=function(){function I(t,i,s){_classCallCheck(this,I),this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}return _createClass(I,[{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"_$AI",value:function _$AI(t){P(this,t)}}]),I}(),z=window.litHtmlPolyfillSupport;null==z||z(C,N),(null!==(t=globalThis.litHtmlVersions)&&void 0!==t?t:globalThis.litHtmlVersions=[]).push("2.2.7");var s=function(_a$){_inherits(s,_a$);var _super9=_createSuper(s);function s(){var _this19;return _classCallCheck(this,s),(_this19=_super9.apply(this,arguments)).renderOptions={host:_assertThisInitialized(_this19)},_this19._$Do=void 0,_this19}return _createClass(s,[{key:"createRenderRoot",value:function createRenderRoot(){var t,e,i=_get(_getPrototypeOf(s.prototype),"createRenderRoot",this).call(this);return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}},{key:"update",value:function update(t){var i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(s.prototype),"update",this).call(this,t),this._$Do=function T(t,i,s){var e,o,n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i,l=n._$litPart$;if(void 0===l){var _t13=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new N(i.insertBefore(h(),_t13),_t13,void 0,null!=s?s:{})}return l._$AI(t),l}(i,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function connectedCallback(){var t;_get(_getPrototypeOf(s.prototype),"connectedCallback",this).call(this),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t;_get(_getPrototypeOf(s.prototype),"disconnectedCallback",this).call(this),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}},{key:"render",value:function render(){return b}}]),s}(a$1);s.finalized=!0,s._$litElement$=!0,null===(l=globalThis.litElementHydrateSupport)||void 0===l||l.call(globalThis,{LitElement:s});var n$1=globalThis.litElementPolyfillSupport;null==n$1||n$1({LitElement:s}),(null!==(o=globalThis.litElementVersions)&&void 0!==o?o:globalThis.litElementVersions=[]).push("3.2.2");var n,_FeatureShape_instances,_FeatureShape_ftLength,_FeatureShape_ftHeight,_FeatureShape_ftWidth,_FeatureShape_getMiddleLine,_FeatureShape_getBrokenEnd,_FeatureShape_getBrokenStart;function e(e){return function(n,t){return void 0!==t?function(i,e,n){e.constructor.createProperty(n,i)}(e,n,t):function i(_i31,e){return"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?Object.assign({},e,{finisher:function finisher(n){n.createProperty(e.key,_i31)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer:function initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher:function finisher(n){n.createProperty(e.key,_i31)}}}(e,n)}}null===(n=window.HTMLSlotElement)||void 0===n||n.prototype.assignedElements;var FeatureShape=function(){function FeatureShape(){_classCallCheck(this,FeatureShape),_FeatureShape_instances.add(this),_FeatureShape_ftLength.set(this,1),_FeatureShape_ftHeight.set(this,1),_FeatureShape_ftWidth.set(this,1)}return _createClass(FeatureShape,[{key:"shape2function",value:function shape2function(shape){var _this20=this;switch(shape){case"rectangle":default:return function(){return _this20.rectangle()};case"roundRectangle":return function(){return _this20.roundRectangle()};case"line":return function(){return _this20.line()};case"bridge":return function(){return _this20.bridge()};case"diamond":return function(){return _this20.diamond()};case"chevron":return function(){return _this20.chevron()};case"catFace":return function(){return _this20.catFace()};case"triangle":return function(){return _this20.triangle()};case"wave":return function(){return _this20.wave()};case"hexagon":return function(){return _this20.hexagon()};case"pentagon":return function(){return _this20.pentagon()};case"circle":return function(){return _this20.circle()};case"arrow":return function(){return _this20.arrow()};case"doubleBar":return function(){return _this20.doubleBar()};case"discontinuosStart":return function(){return _this20.discontinuosStart()};case"discontinuos":return function(){return _this20.discontinuos()};case"discontinuosEnd":return function(){return _this20.discontinuosEnd()};case"helix":return function(){return _this20.helix()};case"strand":return function(){return _this20.strand()}}}},{key:"getFeatureShape",value:function getFeatureShape(aaWidth,ftHeight,ftLength,shape){return shape=shape||"rectangle",__classPrivateFieldSet(this,_FeatureShape_ftLength,ftLength,"f"),__classPrivateFieldSet(this,_FeatureShape_ftHeight,ftHeight,"f"),__classPrivateFieldSet(this,_FeatureShape_ftWidth,aaWidth*ftLength,"f"),this.shape2function(shape)()}},{key:"rectangle",value:function rectangle(){return"M0,0L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+",0L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+"L0,"+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+"Z"}},{key:"roundRectangle",value:function roundRectangle(){return"M6,0h"+(__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")-12)+",0a6,6 0 0 1 6,6v"+(__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")-12)+"a6,6 0 0 1 "+"-6,6h"+(12-__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f"))+"a6,6 0 0 1 "+"-6,"+"-6v"+(12-__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f"))+"a6,6 0 0 1 6,"+"-6Z"}},{key:"line",value:function line(){return"M0,"+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")/2+" L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")/2}},{key:"bridge",value:function bridge(){return 1!==__classPrivateFieldGet(this,_FeatureShape_ftLength,"f")?"M0,"+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+"L0,0L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+",0L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+"L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+",2L0,2Z":"M0,"+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+"L0,"+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")/2+"L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/2+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")/2+"L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/2+",0L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/2+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")/2+"L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")/2+"L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+"Z"}},{key:"diamond",value:function diamond(){var m=__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",0L"+(m+5)+",5L"+m+",10L"+(m-5)+",5";return 1!==__classPrivateFieldGet(this,_FeatureShape_ftLength,"f")?shape+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5):shape+"Z"}},{key:"chevron",value:function chevron(){var m=__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",5L"+(5+m)+",0L"+(5+m)+",5L"+m+",10L"+(-5+m)+",5L"+(-5+m)+",0";return 1!==__classPrivateFieldGet(this,_FeatureShape_ftLength,"f")?shape+"L"+m+",5"+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"catFace",value:function catFace(){var m=__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/2,shape="M"+(-5+m)+",0L"+(-5+m)+",6L"+(-2+m)+",10L"+(2+m)+",10L"+(5+m)+",6L"+(5+m)+",0L"+(2+m)+",4L"+(-2+m)+",4";return 1!==__classPrivateFieldGet(this,_FeatureShape_ftLength,"f")?shape+"M"+m+",0"+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"triangle",value:function triangle(){var m=__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",0L"+(5+m)+",10L"+(-5+m)+",10";return 1!==__classPrivateFieldGet(this,_FeatureShape_ftLength,"f")?shape+"L"+m+",0"+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"wave",value:function wave(){var m=__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/2,shape="M"+(-5+m)+",5A2.5,5 0 1,1 "+m+",5A2.5,5 0 1,0 "+(5+m)+",5";return 1!==__classPrivateFieldGet(this,_FeatureShape_ftLength,"f")?shape+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"getPolygon",value:function getPolygon(sidesNumber){for(var polygon="M ",m=__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/2,_i32=0;_i32<sidesNumber;_i32++)polygon+=5*Math.cos(2*Math.PI*_i32/sidesNumber)+m+","+(5*Math.sin(2*Math.PI*_i32/sidesNumber)+5)+" ";return 1!==__classPrivateFieldGet(this,_FeatureShape_ftLength,"f")?polygon+" "+(5*Math.cos(0)+m)+","+(5*Math.sin(0)+5)+" "+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":polygon+"Z"}},{key:"hexagon",value:function hexagon(){return this.getPolygon(6)}},{key:"pentagon",value:function pentagon(){return this.getPolygon(5)}},{key:"circle",value:function circle(){var m=__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/2,r=Math.sqrt(10/Math.PI),shape="M"+m+",0A"+r+","+r+" 0 1,1 "+m+",10A"+r+","+r+" 0 1,1 "+m+",0";return 1!==__classPrivateFieldGet(this,_FeatureShape_ftLength,"f")?shape+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"arrow",value:function arrow(){var m=__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",0L"+(-1+m)+",0L"+(-5+m)+",4L"+(-1+m)+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+"L"+m+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+"L"+(4+m)+",4";return 1!==__classPrivateFieldGet(this,_FeatureShape_ftLength,"f")?shape+"L"+m+",0"+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"doubleBar",value:function doubleBar(){var m=__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",0L"+(-5+m)+",10L"+m+",10L"+(5+m)+",0";return 1!==__classPrivateFieldGet(this,_FeatureShape_ftLength,"f")?shape+"L"+m+",0"+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"discontinuosStart",value:function discontinuosStart(){return"M0,0L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+",0L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+"L0,"+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getBrokenStart).call(this)+"Z"}},{key:"discontinuos",value:function discontinuos(){return"M0,0L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+",0"+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getBrokenEnd).call(this)+"L0,"+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getBrokenStart).call(this)+"Z"}},{key:"discontinuosEnd",value:function discontinuosEnd(){return"M0,0L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+",0"+__classPrivateFieldGet(this,_FeatureShape_instances,"m",_FeatureShape_getBrokenEnd).call(this)+"L0,"+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+"Z"}},{key:"helix",value:function helix(){for(var y=2.5,center=2.5,nw=Math.round(__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")/5),loop="",_i33=0;_i33<nw;_i33++){loop+="M"+(-2.5+center)+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+" C"+(center+y)+",7.5 "+(2.5+center)+","+y+" "+center+", 0 C"+(center-y)+","+y+" "+center+",7.5 "+(2.5+center)+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f"),center+=5}return loop}},{key:"strand",value:function strand(){var rl=0;__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")>5&&(rl=__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")-5);var qh=__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")/4;return"M0,"+qh+"L"+rl+","+qh+"L"+rl+","+3*qh+"L0,"+3*qh+"L0,"+qh+("M"+rl+",0L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+","+2*qh+"L"+rl+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")+"Z")}}],[{key:"isContinuous",value:function isContinuous(shape){return"bridge"!==shape.toLowerCase()}}]),FeatureShape}();_FeatureShape_ftLength=new WeakMap,_FeatureShape_ftHeight=new WeakMap,_FeatureShape_ftWidth=new WeakMap,_FeatureShape_instances=new WeakSet,_FeatureShape_getMiddleLine=function _FeatureShape_getMiddleLine(centerx){return"M0,"+centerx+"L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+","+centerx+"Z"},_FeatureShape_getBrokenEnd=function _FeatureShape_getBrokenEnd(){var qh=__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")/4;return"L"+(__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")-qh)+","+qh+"L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+","+2*qh+"L"+(__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")-qh)+","+3*qh+"L"+__classPrivateFieldGet(this,_FeatureShape_ftWidth,"f")+","+__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")},_FeatureShape_getBrokenStart=function _FeatureShape_getBrokenStart(){var qh=__classPrivateFieldGet(this,_FeatureShape_ftHeight,"f")/4;return"L"+qh+","+3*qh+"L0,"+2*qh+"L"+qh+","+qh};var _NonOverlappingLayout_rows,DefaultLayout=function(){function DefaultLayout(_ref3){var layoutHeight=_ref3.layoutHeight,_ref3$margin=_ref3.margin,margin=void 0===_ref3$margin?{top:1,bottom:1,left:0,right:0}:_ref3$margin,_ref3$minHeight=_ref3.minHeight,minHeight=void 0===_ref3$minHeight?17:_ref3$minHeight;_classCallCheck(this,DefaultLayout),this.margin=margin,this.minHeight=minHeight,this.layoutHeight=layoutHeight,this.features=[]}return _createClass(DefaultLayout,[{key:"init",value:function init(features){this.features=features}},{key:"getFeatureYPos",value:function getFeatureYPos(feature){var featureHeight=this.getFeatureHeight();return this.margin.top+(this.layoutHeight-this.margin.top-this.margin.bottom)/2-featureHeight/2}},{key:"getFeatureHeight",value:function getFeatureHeight(){return Math.max(this.minHeight,this.layoutHeight-this.margin.top-this.margin.bottom)}}]),DefaultLayout}(),featureOvelapsInRow=function featureOvelapsInRow(feature,row){return row.some((function(rowFeature){return function featuresOverlap(feature1,feature2){return!(Number(feature2.start)>Number(feature1.end)||Number(feature2.end)<Number(feature1.start))}(feature,rowFeature)}))},NonOverlappingLayout=function(_DefaultLayout){_inherits(NonOverlappingLayout,_DefaultLayout);var _super10=_createSuper(NonOverlappingLayout);function NonOverlappingLayout(options){var _this21;return _classCallCheck(this,NonOverlappingLayout),(_this21=_super10.call(this,options)).featuresMap=new Map,_NonOverlappingLayout_rows.set(_assertThisInitialized(_this21),void 0),_this21.rowHeight=0,_this21.minHeight=15,__classPrivateFieldSet(_assertThisInitialized(_this21),_NonOverlappingLayout_rows,[],"f"),_this21}return _createClass(NonOverlappingLayout,[{key:"init",value:function init(features){var _this22=this;features.forEach((function(feature){var rowIndex=__classPrivateFieldGet(_this22,_NonOverlappingLayout_rows,"f").findIndex((function(row){return!featureOvelapsInRow(feature,row)}));rowIndex>=0?(__classPrivateFieldGet(_this22,_NonOverlappingLayout_rows,"f")[rowIndex].push(feature),_this22.featuresMap.set(feature,rowIndex)):(__classPrivateFieldGet(_this22,_NonOverlappingLayout_rows,"f").push([feature]),_this22.featuresMap.set(feature,__classPrivateFieldGet(_this22,_NonOverlappingLayout_rows,"f").length-1))})),this.rowHeight=Math.min(this.layoutHeight/__classPrivateFieldGet(this,_NonOverlappingLayout_rows,"f").length,this.minHeight)}},{key:"getOffset",value:function getOffset(){return __classPrivateFieldGet(this,_NonOverlappingLayout_rows,"f").length*this.rowHeight<this.layoutHeight?this.layoutHeight/2-__classPrivateFieldGet(this,_NonOverlappingLayout_rows,"f").length*this.rowHeight/2:0}},{key:"getFeatureYPos",value:function getFeatureYPos(feature){var rowNumber=this.featuresMap.get(feature);return this.getOffset()+this.rowHeight*rowNumber+this.margin.top+this.margin.bottom}},{key:"getFeatureHeight",value:function getFeatureHeight(){return this.rowHeight-this.margin.top-this.margin.bottom}}]),NonOverlappingLayout}(DefaultLayout);_NonOverlappingLayout_rows=new WeakMap;var _NightingaleTrack_originalData,_NightingaleTrack_data,_NightingaleTrack_highlighted,NightingaleTrack_1,config={CHAIN:{name:"chain",label:"Chain",tooltip:"(aka mature region). This describes the extent of a polypeptide chain in the mature protein following processing",shape:"rectangle",color:"#CC9933"},TRANSIT:{name:"transit peptide",label:"Transit peptide",tooltip:"This describes the extent of a transit peptide",shape:"rectangle",color:"#009966"},INIT_MET:{name:"initiator methionine",label:"Initiator methionine",tooltip:"This indicates that the initiator methionine is cleaved from the mature protein",shape:"arrow",color:"#996633"},PROPEP:{name:"propeptide",label:"Propeptide",tooltip:"Part of a protein that is cleaved during maturation or activation",shape:"rectangle",color:"#99CCCC"},PEPTIDE:{name:"peptide",label:"Peptide",tooltip:"The position and length of an active peptide in the mature protein",shape:"rectangle",color:"#006699"},SIGNAL:{name:"signal peptide",label:"Signal peptide",tooltip:"N-terminal signal peptide",shape:"rectangle",color:"#CC0033"},HELIX:{name:"helix",label:"Helix",tooltip:"The positions of experimentally determined helical regions",shape:"rectangle",color:"#FF0066"},STRAND:{name:"strand",label:"Beta strand",tooltip:"The positions of experimentally determined beta strands",shape:"rectangle",color:"#FFCC00"},TURN:{name:"turn",label:"Turn",tooltip:"The positions of experimentally determined hydrogen-bonded turns",shape:"rectangle",color:"#0571AF"},DISULFID:{name:"disulfide bond",label:"Disulfide bond",tooltip:"The positions of cysteine residues participating in disulphide bonds",shape:"bridge",color:"#23B14D"},CROSSLNK:{name:"cross-link",label:"Cross-link",tooltip:"Covalent linkages of various types formed between two proteins or between two parts of the same protein",shape:"bridge",color:"#FF6600"},REGION:{name:"region of interest",label:"Region of interest",tooltip:"Regions in multifunctional enzymes or fusion proteins, or characteristics of a region, e.g., protein-protein interactions mediation",shape:"rectangle",color:"#B33E00"},COILED:{name:"coiled-coil region",label:"Coiled-coil region",tooltip:"Coiled coils are built by two or more alpha-helices that wind around each other to form a supercoil",shape:"rectangle",color:"#006699"},MOTIF:{name:"short sequence motif",label:"Short sequence motif",tooltip:"Short conserved sequence motif of biological significance",shape:"rectangle",color:"#402060"},REPEAT:{name:"repeat",label:"Repeat",tooltip:"Repeated sequence motifs or repeated domains within the protein",shape:"rectangle",color:"#9900FF"},CA_BIND:{name:"calcium-binding region",label:"Calcium-binding region",tooltip:"Calcium-binding regions, such as the EF-hand motif",shape:"rectangle",color:"#FF3399"},DNA_BIND:{name:"DNA-binding region",label:"DNA binding",tooltip:"DNA-binding domains such as AP2/ERF domain, the ETS domain, the Fork-Head domain, the HMG box and the Myb domain",shape:"rectangle",color:"#009933"},DOMAIN:{name:"other domain of interest",label:"Other domain of interest",tooltip:"Specific combination of secondary structures organized into a characteristic three-dimensional structure or fold",shape:"rectangle",color:"#9999FF"},ZN_FING:{name:"zinc finger region",label:"Zinc finger",tooltip:"Small, functional, independently folded domain that coordinates one or more zinc ions",shape:"rectangle",color:"#990066"},NP_BIND:{name:"nucleotide-binding region",label:"Nucleotide-binding region",tooltip:"(aka flavin-binding). Region in the protein which binds nucleotide phosphates",shape:"rectangle",color:"#FF9900"},METAL:{name:"metal ion-binding site",label:"Metal ion-binding site",tooltip:"Binding site for a metal ion",shape:"diamond",color:"#009900"},SITE:{name:"other site of interest",label:"Other site of interest",tooltip:"Any interesting single amino acid site on the sequence",shape:"chevron",color:"#660033"},BINDING:{name:"other binding site",label:"Other binding site",tooltip:"Binding site for any chemical group (co-enzyme, prosthetic group, etc.)",shape:"rectangle",color:"#catFace"},ACT_SITE:{name:"active site",label:"Active site",tooltip:"Amino acid(s) directly involved in the activity of an enzyme",shape:"circle",color:"#FF6666"},MOD_RES:{name:"Post-translationally modified residue",label:"Modified residue",tooltip:"Modified residues such as phosphorylation, acetylation, acylation, methylation",shape:"triangle",color:"#000066"},LIPID:{name:"lipid moiety-binding region",label:"Lipidation",tooltip:"Covalently attached lipid group(s)",shape:"wave",color:"#99CC33"},CARBOHYD:{name:"glycosylation site",label:"Glycosylation",tooltip:"Covalently attached glycan group(s)",shape:"hexagon",color:"#CC3366"},COMPBIAS:{name:"compositionally biased region",label:"Compositionally biased region",tooltip:"Position of regions of compositional bias within the protein and the particular amino acids that are over-represented within those regions",shape:"rectangle",color:"#FF3366"},CONFLICT:{name:"sequence conflict",label:"Sequence conflict",tooltip:"Sequence discrepancies of unknown origin",shape:"rectangle",color:"#6633CC"},NON_CONS:{name:"non-consecutive residues",label:"Non-adjacent residues",tooltip:"Indicates that two residues in a sequence are not consecutive and that there is an undetermined number of unsequenced residues between them",shape:"doubleBar",color:"#FF0033"},NON_TER:{name:"non-terminal residue",label:"Non-terminal residue",tooltip:"The sequence is incomplete. The residue is not the terminal residue of the complete protein",shape:"doubleBar",color:"#339933"},UNSURE:{name:"unsure residue",label:"Sequence uncertainty",tooltip:"Regions of a sequence for which the authors are unsure about the sequence assignment",shape:"rectangle",color:"#33FF00"},NON_STD:{name:"non-standard amino acid",label:"Non-standard residue",tooltip:"Non-standard amino acids (selenocysteine and pyrrolysine)",shape:"pentagon",color:"#330066"},MUTAGEN:{name:"mutagenesis site",label:"Mutagenesis",tooltip:"Site which has been experimentally altered by mutagenesis",shape:"rectangle",color:"#FF9900"},TOPO_DOM:{name:"topological domain",label:"Topological domain",tooltip:"Location of non-membrane regions of membrane-spanning proteins",shape:"rectangle",color:"#CC0000"},TRANSMEM:{name:"transmembrane region",label:"Transmembrane",tooltip:"Extent of a membrane-spanning region",shape:"rectangle",color:"#CC00CC"},INTRAMEM:{name:"intramembrane region",label:"Intramembrane",tooltip:"Extent of a region located in a membrane without crossing it",shape:"rectangle",color:"#0000CC"},VAR_SEQ:{name:"splice variant",label:"Splice variant",tooltip:"",shape:"rectangle",color:"#CC11CC"},VARIANT:{name:"sequence variant",label:"Natural variant",tooltip:"Natural variant of the protein, including polymorphisms, variations between strains, isolates or cultivars, disease-associated mutations and RNA editing events",shape:"circle",color:"black"},UNIQUE:{name:"unique",label:"Unique peptide",tooltip:"",shape:"rectangle",color:"#fc3133"},NON_UNIQUE:{name:"non-unique",label:"Non-unique peptide",tooltip:"",shape:"rectangle",color:"#8585fc"},ANTIGEN:{name:"antigen",label:"Antibody binding sequences",tooltip:"",shape:"rectangle",color:"#996699"},PDBE_COVER:{name:"pdbe coverage",label:"PDBe 3D structure coverage",tooltip:"",shape:"rectangle",color:"#669966"}},getShapeByType=function getShapeByType(type){if(type.toUpperCase()in config)return config[type.toUpperCase()].shape;var info=Object.values(config).find((function(typeInfo){return typeInfo.name.toUpperCase()===type.toUpperCase()}));return info?info.shape:"rectangle"},getColorByType=function getColorByType(type){if(type.toUpperCase()in config)return config[type.toUpperCase()].color;var info=Object.values(config).find((function(typeInfo){return typeInfo.name.toUpperCase()===type.toUpperCase()}));return info||console.log(type),info?info.color:"black"},ATTRIBUTES_THAT_TRIGGER_REFRESH=["length","width","height"],NightingaleTrack=NightingaleTrack_1=function(_withManager){_inherits(NightingaleTrack,_withManager);var _super11=_createSuper(NightingaleTrack);function NightingaleTrack(){var _this23;return _classCallCheck(this,NightingaleTrack),(_this23=_super11.apply(this,arguments)).featureShape=new FeatureShape,_NightingaleTrack_originalData.set(_assertThisInitialized(_this23),[]),_NightingaleTrack_data.set(_assertThisInitialized(_this23),[]),_this23.filters=null,_NightingaleTrack_highlighted.set(_assertThisInitialized(_this23),void 0),_this23}return _createClass(NightingaleTrack,[{key:"getLayout",value:function getLayout(){return"non-overlapping"===String(this.layout).toLowerCase()?new NonOverlappingLayout({layoutHeight:this.height}):new DefaultLayout({layoutHeight:this.height,margin:{top:this["margin-top"],bottom:this["margin-bottom"],left:this["margin-left"],right:this["margin-right"]}})}},{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(NightingaleTrack.prototype),"connectedCallback",this).call(this),this.layoutObj=this.getLayout(),__classPrivateFieldGet(this,_NightingaleTrack_data,"f")&&this.createTrack()}},{key:"processData",value:function processData(data){__classPrivateFieldSet(this,_NightingaleTrack_originalData,NightingaleTrack_1.normalizeLocations(data),"f")}},{key:"data",get:function get(){return __classPrivateFieldGet(this,_NightingaleTrack_data,"f")},set:function set(data){this.processData(data),this.applyFilters(),this.layoutObj=this.getLayout(),this.createTrack()}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){_get(_getPrototypeOf(NightingaleTrack.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue),(ATTRIBUTES_THAT_TRIGGER_REFRESH.includes(name)||name.startsWith("margin-"))&&(this.applyFilters(),this.layoutObj=this.getLayout(),this.createTrack())}},{key:"getFeatureColor",value:function getFeatureColor(f){var _a,_b,_c;return f.color?f.color||"gray":(null===(_a=null==f?void 0:f.feature)||void 0===_a?void 0:_a.color)?(null===(_b=null==f?void 0:f.feature)||void 0===_b?void 0:_b.color)||"gray":this.color?this.color:f.type?getColorByType(f.type):(null===(_c=null==f?void 0:f.feature)||void 0===_c?void 0:_c.type)?getColorByType(f.feature.type):"gray"}},{key:"getFeatureFillColor",value:function getFeatureFillColor(f){var _a;return f.fill?f.fill||"gray":(null===(_a=null==f?void 0:f.feature)||void 0===_a?void 0:_a.fill)?f.feature.fill||"gray":this.getFeatureColor(f)}},{key:"getShape",value:function getShape(f){var _a,_b;return f.shape?f.shape||"rectangle":(null===(_a=null==f?void 0:f.feature)||void 0===_a?void 0:_a.shape)?f.feature.shape||"rectangle":this.shape?this.shape:f.type?getShapeByType(f.type):(null===(_b=f.feature)||void 0===_b?void 0:_b.type)?getShapeByType(f.feature.type):"rectangle"}},{key:"createTrack",value:function createTrack(){var _a,_b;__classPrivateFieldGet(this,_NightingaleTrack_data,"f")&&(null===(_a=this.layoutObj)||void 0===_a||_a.init(__classPrivateFieldGet(this,_NightingaleTrack_data,"f")),null===(_b=this.svg)||void 0===_b||_b.selectAll("g").remove(),this.svg=function dist_select(selector){return"string"==typeof selector?new Selection$1([[document.querySelector(selector)]],[document.documentElement]):new Selection$1([[selector]],root)}(this).selectAll("svg").attr("width",this.width).attr("height",this.height),this.svg&&(this.seqG=this.svg.append("g").attr("class","sequence-features"),this.createFeatures(),__classPrivateFieldSet(this,_NightingaleTrack_highlighted,this.svg.append("g").attr("class","highlighted"),"f"),this.margins=this.svg.append("g").attr("class","margin")))}},{key:"createFeatures",value:function createFeatures(){var _a,_this24=this;if(this.seqG){var locationsG=this.seqG.selectAll("g.feature-group").data(__classPrivateFieldGet(this,_NightingaleTrack_data,"f")).enter().append("g").attr("class","feature-group").attr("id",(function(d){return"g_"+d.accession})).selectAll("g.location-group").data((function(d){return(d.locations||[]).map((function(loc){return Object.assign({},loc,{feature:d})}))})).enter().append("g").attr("class","location-group"),fragmentGroup=locationsG.selectAll("g.fragment-group").data((function(d){return d.fragments.map((function(loc){return Object.assign({},loc,{feature:d.feature})}))})).enter().append("g").attr("class","fragment-group");fragmentGroup.append("path").attr("class",(function(f){return _this24.getShape(f)+" feature"})).attr("d",(function(f){var _a;return _this24.featureShape.getFeatureShape(_this24.getSingleBaseWidth(),(null===(_a=_this24.layoutObj)||void 0===_a?void 0:_a.getFeatureHeight())||0,f.end?f.end-f.start+1:1,_this24.getShape(f))})).attr("transform",(function(f){var _a;return"translate("+_this24.getXFromSeqPosition(f.start)+","+((null===(_a=_this24.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0)+")"})).attr("fill",(function(f){return _this24.getFeatureFillColor(f)})).attr("stroke",(function(f){return _this24.getFeatureColor(f)})).style("fill-opacity",(function(_ref4){var feature=_ref4.feature;return feature.opacity?feature.opacity:.9})).style("stroke-opacity",(function(_ref5){var feature=_ref5.feature;return feature.opacity?feature.opacity:.9})),fragmentGroup.append("rect").attr("class","outer-rectangle feature").attr("width",(function(f){return _this24.getSingleBaseWidth()*(f.end?f.end-f.start+1:1)})).attr("height",(null===(_a=this.layoutObj)||void 0===_a?void 0:_a.getFeatureHeight())||0).attr("transform",(function(f){var _a;return"translate("+_this24.getXFromSeqPosition(f.start)+","+((null===(_a=_this24.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0)+")"})).attr("fill","transparent").attr("stroke","transparent").call(nightingale_new_core_src.sQ,this)}}},{key:"applyFilters",value:function applyFilters(){(this.filters||[]).length<=0&&__classPrivateFieldSet(this,_NightingaleTrack_data,__classPrivateFieldGet(this,_NightingaleTrack_originalData,"f"),"f")}},{key:"refresh",value:function refresh(){var _a,_this25=this;if(this.xScale&&this.seqG){var fragmentG=this.seqG.selectAll("g.fragment-group").data(__classPrivateFieldGet(this,_NightingaleTrack_data,"f").reduce((function(acc,f){return acc.concat((f.locations||[]).reduce((function(acc2,e){return acc2.concat(e.fragments.map((function(loc){return Object.assign({},loc,{feature:f})})))}),[]))}),[]));fragmentG.selectAll("path.feature").attr("d",(function(f){var _a;return _this25.featureShape.getFeatureShape(_this25.getSingleBaseWidth(),(null===(_a=_this25.layoutObj)||void 0===_a?void 0:_a.getFeatureHeight())||0,(null==f?void 0:f.end)&&(null==f?void 0:f.start)?f.end-f.start+1:1,_this25.getShape(f))})).attr("transform",(function(f){var _a;return"translate("+_this25.getXFromSeqPosition(f.start||0)+","+(null===(_a=_this25.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.feature))+")"})),fragmentG.selectAll("rect.outer-rectangle").attr("width",(function(f){return _this25.getSingleBaseWidth()*((null==f?void 0:f.end)&&(null==f?void 0:f.start)?f.end-f.start+1:1)})).attr("height",(null===(_a=this.layoutObj)||void 0===_a?void 0:_a.getFeatureHeight())||0).attr("transform",(function(f){var _a;return"translate("+_this25.getXFromSeqPosition(f.start||0)+","+((null===(_a=_this25.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0)+")"}))}this.updateHighlight(),this.renderMarginOnGroup(this.margins)}},{key:"updateHighlight",value:function updateHighlight(){var _this26=this;if(__classPrivateFieldGet(this,_NightingaleTrack_highlighted,"f")){var highlighs=__classPrivateFieldGet(this,_NightingaleTrack_highlighted,"f").selectAll("rect").data(this.highlightedRegion.segments);highlighs.enter().append("rect").style("pointer-events","none").merge(highlighs).attr("fill",this["highlight-color"]).attr("height",this.height).attr("x",(function(d){return _this26.getXFromSeqPosition(d.start)})).attr("width",(function(d){return _this26.getSingleBaseWidth()*(d.end-d.start+1)})),highlighs.exit().remove()}}},{key:"zoomRefreshed",value:function zoomRefreshed(){this.refresh()}},{key:"firstUpdated",value:function firstUpdated(){this.createTrack()}},{key:"render",value:function render(){return $(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['<svg class="container"></svg>'])))}}],[{key:"normalizeLocations",value:function normalizeLocations(data){return data.map((function(obj){var locations=obj.locations,start=obj.start,end=obj.end;return locations?obj:Object.assign(obj,{locations:[{fragments:[{start,end}]}]})}))}}]),NightingaleTrack}((0,nightingale_new_core_src.YD)((0,nightingale_new_core_src._5)((0,nightingale_new_core_src.tG)((0,nightingale_new_core_src.vl)((0,nightingale_new_core_src.Ds)((0,nightingale_new_core_src.U6)((0,nightingale_new_core_src.Rn)(nightingale_new_core_src.ZP))))))));_NightingaleTrack_originalData=new WeakMap,_NightingaleTrack_data=new WeakMap,_NightingaleTrack_highlighted=new WeakMap,__decorate([e({type:String})],NightingaleTrack.prototype,"color",void 0),__decorate([e({type:String})],NightingaleTrack.prototype,"shape",void 0),__decorate([e({type:String})],NightingaleTrack.prototype,"layout",void 0);var _InterproEntryLayout_instances,_InterproEntryLayout_heightMap,_InterproEntryLayout_yPositionMap,_InterproEntryLayout_initResidues,NightingaleTrack$1=NightingaleTrack=NightingaleTrack_1=__decorate([(0,nightingale_new_core_src.y_)("nightingale-track")],NightingaleTrack),_excluded=(__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),["expanded","padding"]);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function InterproEntryLayout_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function InterproEntryLayout_setPrototypeOf(o,p){return InterproEntryLayout_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},InterproEntryLayout_setPrototypeOf(o,p)}function InterproEntryLayout_createSuper(Derived){var hasNativeReflectConstruct=function InterproEntryLayout_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=InterproEntryLayout_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=InterproEntryLayout_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return InterproEntryLayout_possibleConstructorReturn(this,result)}}function InterproEntryLayout_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return InterproEntryLayout_assertThisInitialized(self)}function InterproEntryLayout_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function InterproEntryLayout_getPrototypeOf(o){return InterproEntryLayout_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},InterproEntryLayout_getPrototypeOf(o)}var InterproEntryLayout=function(_DefaultLayout){!function InterproEntryLayout_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&InterproEntryLayout_setPrototypeOf(subClass,superClass)}(InterproEntryLayout,_DefaultLayout);var _super=InterproEntryLayout_createSuper(InterproEntryLayout);function InterproEntryLayout(_ref){var _this,expanded=_ref.expanded,padding=_ref.padding,otherOptions=_objectWithoutProperties(_ref,_excluded);return function InterproEntryLayout_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InterproEntryLayout),_this=_super.call(this,otherOptions),_InterproEntryLayout_instances.add(InterproEntryLayout_assertThisInitialized(_this)),_InterproEntryLayout_heightMap.set(InterproEntryLayout_assertThisInitialized(_this),new Map),_InterproEntryLayout_yPositionMap.set(InterproEntryLayout_assertThisInitialized(_this),new Map),_this.maxYPos=0,_this.expanded=!1,_this.padding=1,_this.expanded=expanded,_this.padding=padding,_this}return function InterproEntryLayout_createClass(Constructor,protoProps,staticProps){return protoProps&&InterproEntryLayout_defineProperties(Constructor.prototype,protoProps),staticProps&&InterproEntryLayout_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(InterproEntryLayout,[{key:"init",value:function init(features,children){var _a,yPos=0;if((0,tslib_es6.YH)(this,_InterproEntryLayout_heightMap,new Map,"f"),(0,tslib_es6.YH)(this,_InterproEntryLayout_yPositionMap,new Map,"f"),this.maxYPos=0,features){for(var residuesPos={},k=0;k<features.length;k++){var feature=features[k],isCollapsible=(null===(_a=null==feature?void 0:feature.residues)||void 0===_a?void 0:_a.length)||(null==children?void 0:children.length);(0,tslib_es6.Q_)(this,_InterproEntryLayout_heightMap,"f").set(feature.accession,isCollapsible&&!this.expanded?16:14),(0,tslib_es6.Q_)(this,_InterproEntryLayout_yPositionMap,"f").set(feature.accession,this.padding),yPos=((0,tslib_es6.Q_)(this,_InterproEntryLayout_heightMap,"f").get(feature.accession)||0)+2*this.padding,this.maxYPos=Math.max(this.maxYPos,yPos),feature.accession in residuesPos||(residuesPos[feature.accession]={}),feature.residues&&(yPos=(0,tslib_es6.Q_)(this,_InterproEntryLayout_instances,"m",_InterproEntryLayout_initResidues).call(this,feature.residues,feature.accession,this.expanded?yPos:(0,tslib_es6.Q_)(this,_InterproEntryLayout_yPositionMap,"f").get(feature.accession)||0,k,3,feature.locations,residuesPos,this.expanded))}if(children)for(var _k=0;_k<children.length;_k++){var child=children[_k];(0,tslib_es6.Q_)(this,_InterproEntryLayout_heightMap,"f").has(child.accession)||((0,tslib_es6.Q_)(this,_InterproEntryLayout_heightMap,"f").set(child.accession,10),(0,tslib_es6.Q_)(this,_InterproEntryLayout_yPositionMap,"f").set(child.accession,(this.expanded?this.maxYPos:3)+this.padding),yPos+=this.expanded?2*this.padding+((0,tslib_es6.Q_)(this,_InterproEntryLayout_heightMap,"f").get(child.accession)||14):0,this.maxYPos=Math.max(this.maxYPos,yPos)),child.accession in residuesPos||(residuesPos[child.accession]={}),child.residues&&(yPos=(0,tslib_es6.Q_)(this,_InterproEntryLayout_instances,"m",_InterproEntryLayout_initResidues).call(this,child.residues,child.accession,child.expanded?yPos:(0,tslib_es6.Q_)(this,_InterproEntryLayout_yPositionMap,"f").get(child.accession)||0,_k,3,child.locations,residuesPos,this.expanded&&child.expanded))}this.maxYPos+=this.padding}}},{key:"getFeatureYPos",value:function getFeatureYPos(feature){var acc=InterproEntryLayout.getAccFromFeature(feature);return(0,tslib_es6.Q_)(this,_InterproEntryLayout_yPositionMap,"f").get(acc)||0}},{key:"getFeatureHeight",value:function getFeatureHeight(feature){var acc=InterproEntryLayout.getAccFromFeature(feature);return(0,tslib_es6.Q_)(this,_InterproEntryLayout_heightMap,"f").get(acc)||0}}],[{key:"filterOutResidueFragmentsOutOfLocation",value:function filterOutResidueFragmentsOutOfLocation(residue,featureLocations){residue.locations.forEach((function(locRes){return locRes.fragments=locRes.fragments.filter((function(fragRes){return featureLocations.some((function(loc){return loc.fragments.some((function(frag){return fragRes.start>=frag.start&&fragRes.end<=frag.end}))}))}))})),residue.locations=residue.locations.filter((function(locRes){return locRes.fragments.length}))}},{key:"getAccFromFeature",value:function getAccFromFeature(feature){var acc="";return"string"==typeof feature?acc=feature:feature.accession&&(acc=feature.accession),acc}}]),InterproEntryLayout}(DefaultLayout);function coverage_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function coverage_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return coverage_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return coverage_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function coverage_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}_InterproEntryLayout_heightMap=new WeakMap,_InterproEntryLayout_yPositionMap=new WeakMap,_InterproEntryLayout_instances=new WeakSet,_InterproEntryLayout_initResidues=function _InterproEntryLayout_initResidues(residues,featureAcc,yPos,k,innerPadding,locs){for(var residuesPos=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},expanded=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],i=0;i<residues.length;i++){var resGroup=residues[i];InterproEntryLayout.filterOutResidueFragmentsOutOfLocation(resGroup,locs||[]),resGroup.accession in residuesPos[featureAcc]||(residuesPos[featureAcc][resGroup.accession]={});for(var j=0;j<resGroup.locations.length;j++){var desc=resGroup.locations[j].description;desc in residuesPos[featureAcc][resGroup.accession]||(residuesPos[featureAcc][resGroup.accession][desc]={height:expanded?10:((0,tslib_es6.Q_)(this,_InterproEntryLayout_heightMap,"f").get(featureAcc)||14)-2*innerPadding,yPos:expanded?this.maxYPos+this.padding:yPos+innerPadding},yPos=expanded?this.maxYPos+2*this.padding+10:yPos),(0,tslib_es6.Q_)(this,_InterproEntryLayout_heightMap,"f").set(resGroup.accession+"_"+k+"_"+i+"_"+j,residuesPos[featureAcc][resGroup.accession][desc].height),(0,tslib_es6.Q_)(this,_InterproEntryLayout_yPositionMap,"f").set(resGroup.accession+"_"+k+"_"+i+"_"+j,residuesPos[featureAcc][resGroup.accession][desc].yPos),this.maxYPos=Math.max(this.maxYPos,yPos)}}return expanded?yPos:this.maxYPos+2*this.padding};var _NightingaleInterproTrack_contributors,_NightingaleInterproTrack_coverage,_NightingaleInterproTrack_haveCreatedFeatures,_NightingaleInterproTrack_childrenG,_NightingaleInterproTrack_featuresG,_NightingaleInterproTrack_residuesG,_NightingaleInterproTrack_childResiduesG,NightingaleInterproTrack_1,addContributor=function addContributor(contributor,coverage){var _step,toContribute=Object.assign({value:1},contributor),newCoverage=[],_iterator=coverage_createForOfIteratorHelper(coverage);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _segment=_step.value;toContribute?toContribute.end<_segment.start?(newCoverage.push(toContribute),toContribute=null,newCoverage.push(_segment)):toContribute.start<_segment.start&&toContribute.end>=_segment.end?(newCoverage.push({start:toContribute.start,end:_segment.start-1,value:toContribute.value}),newCoverage.push({start:_segment.start,end:_segment.end,value:(_segment.value||0)+((null==toContribute?void 0:toContribute.value)||0)}),toContribute=_segment.end===toContribute.end?null:{start:_segment.end+1,end:toContribute.end,value:toContribute.value}):_segment.start<toContribute.start&&_segment.end>toContribute.end?(newCoverage.push({start:_segment.start,end:toContribute.start-1,value:_segment.value}),newCoverage.push({start:toContribute.start,end:toContribute.end,value:(_segment.value||0)+((null==toContribute?void 0:toContribute.value)||0)}),newCoverage.push({start:toContribute.end+1,end:_segment.end,value:_segment.value}),toContribute=null):_segment.end>=toContribute.start&&_segment.end<=toContribute.end?(_segment.start<toContribute.start&&newCoverage.push({start:_segment.start,end:toContribute.start-1,value:_segment.value}),newCoverage.push({start:toContribute.start,end:_segment.end,value:(_segment.value||0)+((null==toContribute?void 0:toContribute.value)||0)}),toContribute=_segment.end<toContribute.end?{start:_segment.end+1,end:toContribute.end,value:toContribute.value}:null):toContribute.end>=_segment.start&&toContribute.end<_segment.end?(newCoverage.push({start:toContribute.start,end:_segment.start-1,value:toContribute.value}),newCoverage.push({start:_segment.start,end:toContribute.end,value:(_segment.value||0)+((null==toContribute?void 0:toContribute.value)||0)}),newCoverage.push({start:toContribute.end+1,end:_segment.end,value:_segment.value}),toContribute=null):newCoverage.push(_segment):newCoverage.push(_segment)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return toContribute&&newCoverage.push(toContribute),newCoverage},createResidueGroup=function createResidueGroup(baseG){return baseG.selectAll("g.residues-group").data((function(d){var _a;return(null===(_a=d.residues)||void 0===_a?void 0:_a.map((function(r,i){return Object.assign({},r,{feature:d,i})})))||[]})).enter().append("g").attr("class","residues-group").selectAll("g.residues-locations").data((function(d){return d.locations.map((function(loc,j){return Object.assign({},loc,{accession:d.accession,feature:d.feature,location:loc,i:d.i,j})}))})).enter().append("g").attr("class","residues-locations")},createResiduePaths=function createResiduePaths(_ref){var baseG=_ref.baseG,getResidueShape=_ref.getResidueShape,getResidueTransform=_ref.getResidueTransform,getResidueFill=_ref.getResidueFill,element=_ref.element;return baseG.selectAll("path.residue").data((function(d){return d.fragments.map((function(loc){return Object.assign({},loc,{accession:d.accession,feature:Object.assign({},d.feature,{currentResidue:Object.assign({},loc,{description:d.location.description})}),location:d.location,k:d.feature.k,i:d.i,j:d.j})}))})).enter().append("path").attr("class","feature rectangle residue").attr("d",getResidueShape).attr("transform",getResidueTransform).attr("fill",getResidueFill).attr("stroke","transparent").call(nightingale_new_core_src.sQ,element)},refreshResiduePaths=function refreshResiduePaths(_ref2){var baseG=_ref2.baseG,expanded=_ref2.expanded,getResidueShape=_ref2.getResidueShape,getResidueTransform=_ref2.getResidueTransform,getResidueFill=_ref2.getResidueFill,paths=baseG.selectAll("path.residue"),numberOfSibillings=new Set(paths.data().map((function(f){var _a,_b;return(null===(_a=f.feature)||void 0===_a?void 0:_a.accession)+"-"+(null===(_b=f.location)||void 0===_b?void 0:_b.description)}))).size;paths.attr("d",getResidueShape).attr("transform",getResidueTransform).style("pointer-events",(function(f){return expanded||f.feature&&f.feature.expanded?"auto":"none"})).style("stroke",(function(){return expanded?null:"none"})).style("opacity",(function(){return expanded?null:.8/numberOfSibillings})).attr("fill",getResidueFill)};function nightingale_interpro_track_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function nightingale_interpro_track_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return nightingale_interpro_track_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nightingale_interpro_track_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function nightingale_interpro_track_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function nightingale_interpro_track_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get2(){return _get2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=nightingale_interpro_track_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get2.apply(this,arguments)}function nightingale_interpro_track_superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=nightingale_interpro_track_getPrototypeOf(object)););return object}function nightingale_interpro_track_setPrototypeOf(o,p){return nightingale_interpro_track_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},nightingale_interpro_track_setPrototypeOf(o,p)}function nightingale_interpro_track_createSuper(Derived){var hasNativeReflectConstruct=function nightingale_interpro_track_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=nightingale_interpro_track_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=nightingale_interpro_track_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return nightingale_interpro_track_possibleConstructorReturn(this,result)}}function nightingale_interpro_track_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return nightingale_interpro_track_assertThisInitialized(self)}function nightingale_interpro_track_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function nightingale_interpro_track_getPrototypeOf(o){return nightingale_interpro_track_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},nightingale_interpro_track_getPrototypeOf(o)}var nightingale_interpro_track_NightingaleInterproTrack=NightingaleInterproTrack_1=function(_NightingaleTrack){!function nightingale_interpro_track_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&nightingale_interpro_track_setPrototypeOf(subClass,superClass)}(NightingaleInterproTrack,_NightingaleTrack);var _super=nightingale_interpro_track_createSuper(NightingaleInterproTrack);function NightingaleInterproTrack(){var _this;return function nightingale_interpro_track_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NightingaleInterproTrack),(_this=_super.call(this)).expanded=!1,_this["show-label"]=!1,_this.label=null,_this.layout=void 0,_NightingaleInterproTrack_contributors.set(nightingale_interpro_track_assertThisInitialized(_this),void 0),_NightingaleInterproTrack_coverage.set(nightingale_interpro_track_assertThisInitialized(_this),void 0),_NightingaleInterproTrack_haveCreatedFeatures.set(nightingale_interpro_track_assertThisInitialized(_this),!1),_NightingaleInterproTrack_childrenG.set(nightingale_interpro_track_assertThisInitialized(_this),void 0),_NightingaleInterproTrack_featuresG.set(nightingale_interpro_track_assertThisInitialized(_this),void 0),_NightingaleInterproTrack_residuesG.set(nightingale_interpro_track_assertThisInitialized(_this),void 0),_NightingaleInterproTrack_childResiduesG.set(nightingale_interpro_track_assertThisInitialized(_this),void 0),_this["margin-top"]=2,_this["margin-bottom"]=2,_this}return function nightingale_interpro_track_createClass(Constructor,protoProps,staticProps){return protoProps&&nightingale_interpro_track_defineProperties(Constructor.prototype,protoProps),staticProps&&nightingale_interpro_track_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleInterproTrack,[{key:"createTrack",value:function createTrack(){this.layoutObj&&(this.layoutObj.expanded=this.expanded,(0,tslib_es6.YH)(this,_NightingaleInterproTrack_childrenG,void 0,"f"),_get2(nightingale_interpro_track_getPrototypeOf(NightingaleInterproTrack.prototype),"createTrack",this).call(this))}},{key:"connectedCallback",value:function connectedCallback(){_get2(nightingale_interpro_track_getPrototypeOf(NightingaleInterproTrack.prototype),"connectedCallback",this).call(this),(0,tslib_es6.YH)(this,_NightingaleInterproTrack_haveCreatedFeatures,!1,"f")}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){if(_get2(nightingale_interpro_track_getPrototypeOf(NightingaleInterproTrack.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue),"expanded"===name&&oldValue!==newValue&&(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_contributors,"f")){var _step,_iterator=nightingale_interpro_track_createForOfIteratorHelper((0,tslib_es6.Q_)(this,_NightingaleInterproTrack_contributors,"f"));try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.expanded=!oldValue}}catch(err){_iterator.e(err)}finally{_iterator.f()}}}},{key:"contributors",set:function set(contributors){(0,tslib_es6.YH)(this,_NightingaleInterproTrack_contributors,NightingaleInterproTrack_1.normalizeLocations(contributors),"f"),(0,tslib_es6.YH)(this,_NightingaleInterproTrack_coverage,function getCoverage(contributors){var length=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,coverage=[];return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(coverage=addContributor({start:1,end:length,value:0},coverage)),contributors.forEach((function(f){var _a;return null===(_a=f.locations)||void 0===_a?void 0:_a.forEach((function(loc){return loc.fragments.forEach((function(fr){coverage=addContributor(fr,coverage)}))}))})),coverage}((0,tslib_es6.Q_)(this,_NightingaleInterproTrack_contributors,"f"),this.length),"f"),this.data&&this.createTrack()}},{key:"getLayout",value:function getLayout(){return new InterproEntryLayout({layoutHeight:this.height,expanded:this.expanded,padding:(this["margin-top"]+this["margin-bottom"])/2})}},{key:"createFeatures",value:function createFeatures(){var _a,_b,_c,_d,_e,_g,_this2=this;if(this.seqG){null===(_a=this.layoutObj)||void 0===_a||_a.init(this.data,(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_contributors,"f")),this.data.forEach((function(d,i){return d.k=i})),(0,tslib_es6.YH)(this,_NightingaleInterproTrack_featuresG,this.seqG.selectAll("g.feature-group").data(this.data).enter().append("g").attr("class","feature-group").attr("id",(function(d){return"g_"+d.accession})),"f");var locations=(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_featuresG,"f").selectAll("g.location-group").data((function(d){var _a;return(null===(_a=d.locations)||void 0===_a?void 0:_a.map((function(loc){return Object.assign({},loc,{feature:d})})))||[]})).enter().append("g").attr("class","location-group").style("cursor",(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_contributors,"f")?"pointer":"default");if(locations.selectAll("line.cover").data((function(d){return[d.fragments.reduce((function(agg,v){return{start:Math.min(agg.start,v.start),end:Math.max(agg.end,v.end),feature:d.feature}}),{start:1/0,end:-1/0})]})).enter().append("line").attr("class","cover"),locations.selectAll("path.feature").data((function(d){return d.fragments.map((function(loc){return Object.assign({},loc,{feature:d.feature,fragments:d.fragments})}))})).enter().append("path").attr("class",(function(f){return _this2.getShape(f)+" feature"})).on("click.expanded",(function(){_this2.expanded?_this2.removeAttribute("expanded"):_this2.setAttribute("expanded","expanded")})).call(nightingale_new_core_src.sQ,this),locations.selectAll("text.feature-label").data((function(d){return d.fragments.map((function(loc){return Object.assign({},loc,{feature:d.feature,fragments:d.fragments})}))})).enter().append("text").attr("class","feature-label").attr("dominant-baseline","middle").attr("text-anchor","middle").style("cursor","inherit").style("pointer-events","none"),(0,tslib_es6.YH)(this,_NightingaleInterproTrack_residuesG,createResidueGroup((0,tslib_es6.Q_)(this,_NightingaleInterproTrack_featuresG,"f")),"f"),createResiduePaths({baseG:(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_residuesG,"f"),getResidueShape:function getResidueShape(d){return _this2.getResidueShape(d)},getResidueTransform:function getResidueTransform(d){return _this2.getResidueTransform(d)},getResidueFill:function getResidueFill(d){return _this2.getResidueFill(d,_this2.expanded)},element:this}),(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_contributors,"f")){(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_contributors,"f").forEach((function(d,i){return d.k=i})),(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_childrenG,"f")||(0,tslib_es6.YH)(this,_NightingaleInterproTrack_childrenG,null===(_b=this.svg)||void 0===_b?void 0:_b.append("g").attr("class","children-features"),"f");var childrenGroup=null===(_c=(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_childrenG,"f"))||void 0===_c?void 0:_c.append("g").attr("class","children-group"),childGroup=null==childrenGroup?void 0:childrenGroup.selectAll("g.child-group").data((0,tslib_es6.Q_)(this,_NightingaleInterproTrack_contributors,"f")).enter().append("g").attr("class","child-group");if(!childGroup)return;var locationChildrenG=childGroup.selectAll("g.child-location-group").data((function(d){return d.expanded=_this2.expanded,(d.locations||[]).map((function(loc){return Object.assign({},loc,{feature:d})}))})).enter().append("g").attr("class",(function(_,i){return"child-location-group clg-"+i}));null==locationChildrenG||locationChildrenG.selectAll("line.cover").data((function(d){return[d.fragments.reduce((function(agg,v){return{start:Math.min(agg.start,v.start),end:Math.max(agg.end,v.end),feature:d.feature}}),{start:1/0,end:-1/0})]})).enter().append("line").attr("class","cover"),null==locationChildrenG||locationChildrenG.selectAll("path.child-fragment").data((function(d){return d.fragments.map((function(fragment){return Object.assign({},fragment,{feature:d.feature,fragments:d.fragments})}))})).enter().append("path").attr("class",(function(f){return _this2.getShape(f)+" child-fragment feature"})).call(nightingale_new_core_src.sQ,this).on("click.expanded",(function(_event,f){f.feature.expanded=!f.feature.expanded,_this2.refresh()})),locationChildrenG.selectAll("text.child-label").data((function(d){return d.fragments.map((function(fragment){return Object.assign({},fragment,{feature:d.feature,fragments:d.fragments})}))})).enter().append("text").attr("class","child-label").attr("dominant-baseline","middle").attr("text-anchor","middle").style("cursor","default").style("pointer-events","none"),(0,tslib_es6.YH)(this,_NightingaleInterproTrack_childResiduesG,createResidueGroup(childGroup),"f"),createResiduePaths({baseG:(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_childResiduesG,"f"),getResidueShape:function getResidueShape(d){return _this2.getResidueShape(d)},getResidueTransform:function getResidueTransform(d){return _this2.getResidueTransform(d)},getResidueFill:function getResidueFill(d){var _a;return _this2.getResidueFill(d,null===(_a=d.feature)||void 0===_a?void 0:_a.expanded)},element:this}),(null===(_d=(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_coverage,"f"))||void 0===_d?void 0:_d.length)&&function createCoverage(_ref){var _a,_b,_c,element=_ref.element,coverage=_ref.coverage;element.accession=(null===(_b=null===(_a=null==element?void 0:element.data)||void 0===_a?void 0:_a[0])||void 0===_b?void 0:_b.accession)||"_";var mask=null===(_c=element.svg)||void 0===_c?void 0:_c.append("defs").append("mask").attr("id","mask-"+element.accession);null==mask||mask.selectAll("rect").data(coverage).enter().append("rect").attr("y",0).attr("height",element.height)}({element:this,coverage:(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_coverage,"f")})}null===(_e=this.svg)||void 0===_e||_e.attr("height",(null===(_g=this.layoutObj)||void 0===_g?void 0:_g.maxYPos)||0),(0,tslib_es6.YH)(this,_NightingaleInterproTrack_haveCreatedFeatures,!0,"f")}}},{key:"getResidueShape",value:function getResidueShape(f){var _a;return this.featureShape.getFeatureShape(this.getSingleBaseWidth(),(null===(_a=this.layoutObj)||void 0===_a?void 0:_a.getFeatureHeight(f.accession+"_"+f.k+"_"+f.i+"_"+f.j))||0,f.end&&f.start?f.end-f.start+1:1,"rectangle")}},{key:"getResidueTransform",value:function getResidueTransform(f){var _a;return"translate("+this.getXFromSeqPosition(f.start||1)+","+(this["margin-top"]+((null===(_a=this.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.accession+"_"+f.k+"_"+f.i+"_"+f.j))||0))+")"}},{key:"getResidueFill",value:function getResidueFill(f,expanded){return expanded?this.getFeatureColor(f):"white"}},{key:"getTextLabel",value:function getTextLabel(datum){var _a,_b;return(null===(_a=this.label)||void 0===_a?void 0:_a.length)?this.label.startsWith(".")?(0,get.Z)(datum,this.label.slice(1),null):this.label:(null===(_b=null==datum?void 0:datum.feature)||void 0===_b?void 0:_b.accession)||null}},{key:"refreshLabels",value:function refreshLabels(base){var _this3=this,padding=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;base.attr("x",(function(f){var start=getVisibleStart(_this3["display-start"],f.start),end=getVisibleEnd(_this3["display-end"],f.end,_this3.length);return _this3.getXFromSeqPosition(start+(end-start)/2||1)})).attr("y",(function(f){var _a,_b;return _this3["margin-top"]+((null===(_a=_this3.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0)+((null===(_b=_this3.layoutObj)||void 0===_b?void 0:_b.getFeatureHeight(f.feature))||0)/2})).attr("fill",(function(_f,i,nodes){var _a,firstPath=null===(_a=nodes[i].parentElement)||void 0===_a?void 0:_a.querySelector("path.feature");return firstPath?(0,nightingale_new_core_src.en)((0,nightingale_new_core_src.Lq)(firstPath,"fill")):null})).attr("font-size",(function(f){var _a;return((null===(_a=_this3.layoutObj)||void 0===_a?void 0:_a.getFeatureHeight(f.feature))||2)-padding})).text((function(d){return _this3["show-label"]?_this3.getTextLabel(d):null})).each(wrap(this["display-start"],this["display-end"],this.length,(function(n){return _this3.getXFromSeqPosition(n)}),(function(feature){var _a;return(null===(_a=_this3.layoutObj)||void 0===_a?void 0:_a.getFeatureHeight(feature))||0})))}},{key:"refreshFeatures",value:function refreshFeatures(base){var _this4=this,expanded=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],numberOfSibillings=new Set(base.data().map((function(f){var _a;return null===(_a=f.feature)||void 0===_a?void 0:_a.accession}))).size;base.attr("d",(function(f){var _a;return _this4.featureShape.getFeatureShape(_this4.getSingleBaseWidth(),(null===(_a=_this4.layoutObj)||void 0===_a?void 0:_a.getFeatureHeight(f.feature||""))||0,f.end&&f.start?f.end-f.start+1:1,expanded?_this4.getShape(f.shape?f:f.feature):"rectangle")})).attr("fill",(function(f){return expanded?_this4.getFeatureColor(f.feature):"white"})).attr("opacity",expanded?1:.8/numberOfSibillings).style("stroke",(function(f){return expanded?_this4.getFeatureColor(f.feature):"none"})).attr("transform",(function(f){var _a;return"translate("+_this4.getXFromSeqPosition(f.start||1)+","+(_this4["margin-top"]+((null===(_a=_this4.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0))+")"})).style("pointer-events",expanded?"auto":"none")}},{key:"refreshCoverLine",value:function refreshCoverLine(base){var _this5=this,expanded=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];base.attr("x1",(function(f){return _this5.getXFromSeqPosition(f.start||1)})).attr("x2",(function(f){return _this5.getXFromSeqPosition((f.end||0)+1)})).attr("y1",(function(f){var _a,_b;return _this5["margin-top"]+((null===(_a=_this5.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0)+((null===(_b=_this5.layoutObj)||void 0===_b?void 0:_b.getFeatureHeight(f.feature))||0)/2})).attr("y2",(function(f){var _a,_b;return _this5["margin-top"]+((null===(_a=_this5.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0)+((null===(_b=_this5.layoutObj)||void 0===_b?void 0:_b.getFeatureHeight(f.feature))||0)/2})).attr("stroke",(function(f){return _this5.getFeatureColor(f.feature)})).attr("visibility",expanded?"visible":"hidden")}},{key:"refresh",value:function refresh(){var _a,_b,_c,_d,_e,_g,_h,_j,_this6=this;if((0,tslib_es6.Q_)(this,_NightingaleInterproTrack_haveCreatedFeatures,"f")&&this.layoutObj){if(this.layoutObj.expanded=this.expanded,this.layoutObj.init(this.data,(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_contributors,"f")),this.height=this.layoutObj.maxYPos,this.refreshCoverLine(null===(_a=(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_featuresG,"f"))||void 0===_a?void 0:_a.selectAll("g.location-group line.cover")),this.refreshFeatures(null===(_b=(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_featuresG,"f"))||void 0===_b?void 0:_b.selectAll("g.location-group path.feature")),this.refreshLabels(null===(_c=(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_featuresG,"f"))||void 0===_c?void 0:_c.selectAll("g.location-group text.feature-label")),(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_residuesG,"f")&&refreshResiduePaths({baseG:(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_residuesG,"f"),expanded:this.expanded,getResidueShape:function getResidueShape(d){return _this6.getResidueShape(d)},getResidueTransform:function getResidueTransform(d){return _this6.getResidueTransform(d)},getResidueFill:function getResidueFill(d){return _this6.getResidueFill(d,_this6.expanded)}}),(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_contributors,"f")){var childrenGroup=null===(_d=(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_childrenG,"f"))||void 0===_d?void 0:_d.select("g.children-group");null==childrenGroup||childrenGroup.attr("visibility",this.expanded?"visible":"hidden");var childGroup=null==childrenGroup?void 0:childrenGroup.selectAll("g.child-group"),locationChildrenG=null==childGroup?void 0:childGroup.selectAll("g.child-location-group"),coverLinesChildren=null==locationChildrenG?void 0:locationChildrenG.selectAll("line.cover"),featureChildren=null==locationChildrenG?void 0:locationChildrenG.selectAll("path.child-fragment");this.refreshCoverLine(coverLinesChildren,this.expanded),this.refreshFeatures(featureChildren,this.expanded),this.refreshLabels(null==childGroup?void 0:childGroup.selectAll("g.child-location-group text.child-label"),0),null===(_e=(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_childResiduesG,"f"))||void 0===_e||_e.attr("visibility",(function(){return _this6.expanded?"visible":"hidden"})),(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_childResiduesG,"f")&&refreshResiduePaths({baseG:(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_childResiduesG,"f"),expanded:this.expanded,getResidueShape:function getResidueShape(d){return _this6.getResidueShape(d)},getResidueTransform:function getResidueTransform(d){return _this6.getResidueTransform(d)},getResidueFill:function getResidueFill(d){var _a;return _this6.getResidueFill(d,null===(_a=d.feature)||void 0===_a?void 0:_a.expanded)}}),(null===(_g=(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_coverage,"f"))||void 0===_g?void 0:_g.length)&&function refreshCoverage(_ref2){var _a,element=_ref2.element,featuresG=_ref2.featuresG,contributorsLength=_ref2.contributorsLength;null==featuresG||featuresG.attr("mask",element.expanded?null:"url(#mask-"+element.accession+")"),null===(_a=element.svg)||void 0===_a||_a.selectAll("defs mask rect").attr("x",(function(f){return element.getXFromSeqPosition(f.start)})).attr("width",(function(f){return element.getSingleBaseWidth()*(f.end-f.start+1)})).attr("fill","white").attr("opacity",(function(f){return function cheapScale(x){return(x+.3)/1.3}((f.value||0)/(contributorsLength||1))}))}({element:this,featuresG:(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_featuresG,"f"),contributorsLength:null===(_h=(0,tslib_es6.Q_)(this,_NightingaleInterproTrack_contributors,"f"))||void 0===_h?void 0:_h.length})}null===(_j=this.svg)||void 0===_j||_j.attr("height",this.layoutObj.maxYPos),this.updateHighlight(),this.renderMarginOnGroup(this.margins)}}}]),NightingaleInterproTrack}(NightingaleTrack$1);function wrap(displayStart,displayEnd,length,getXFromSeqPosition,getFeatureHeight){return function wrapFn(feature){for(var _a,_b,_c,self=(0,src.Ys)(this),start=getVisibleStart(displayStart,feature.start),end=getVisibleEnd(displayEnd,feature.end,length),width=getXFromSeqPosition(end)-getXFromSeqPosition(start),padding=getFeatureHeight(feature.feature)/2,textLength=(null===(_b=null===(_a=self.node())||void 0===_a?void 0:_a.getComputedTextLength)||void 0===_b?void 0:_b.call(_a))||0,text=self.text();textLength>width-2*padding&&text.length>0;)text=text.slice(0,-1),self.text(text.length?text+"":""),textLength=(null===(_c=self.node())||void 0===_c?void 0:_c.getComputedTextLength())||0}}function getVisibleStart(displayStart,featureStart){var dStart=displayStart&&displayStart>0?displayStart:0;return Math.max(featureStart||0,dStart)}function getVisibleEnd(displayEnd,featureEnd,length){var dEnd=displayEnd&&displayEnd>0?displayEnd:length||0;return Math.min(featureEnd||0,dEnd)}_NightingaleInterproTrack_contributors=new WeakMap,_NightingaleInterproTrack_coverage=new WeakMap,_NightingaleInterproTrack_haveCreatedFeatures=new WeakMap,_NightingaleInterproTrack_childrenG=new WeakMap,_NightingaleInterproTrack_featuresG=new WeakMap,_NightingaleInterproTrack_residuesG=new WeakMap,_NightingaleInterproTrack_childResiduesG=new WeakMap,(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],nightingale_interpro_track_NightingaleInterproTrack.prototype,"expanded",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],nightingale_interpro_track_NightingaleInterproTrack.prototype,"show-label",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],nightingale_interpro_track_NightingaleInterproTrack.prototype,"label",void 0),nightingale_interpro_track_NightingaleInterproTrack=NightingaleInterproTrack_1=(0,tslib_es6.gn)([(0,decorators.Mo)("nightingale-interpro-track")],nightingale_interpro_track_NightingaleInterproTrack)},"./packages/nightingale-navigation/src/index.ts":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js");var _templateObject,_NightingaleNavigation_x,_NightingaleNavigation_dontDispatch,_NightingaleNavigation_svg,_NightingaleNavigation_displaystartLabel,_NightingaleNavigation_displayendLabel,_NightingaleNavigation_axis,_NightingaleNavigation_brushG,_NightingaleNavigation_polygon,_NightingaleNavigation_xAxis,_NightingaleNavigation_viewport,_NightingaleNavigation_highlighted,_NightingaleNavigation_margins,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),lit=__webpack_require__("./node_modules/lit/index.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var nightingale_navigation_NightingaleNavigation=function(_withManager){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NightingaleNavigation,_withManager);var _super=_createSuper(NightingaleNavigation);function NightingaleNavigation(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NightingaleNavigation),_this=_super.call(this),_NightingaleNavigation_x.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_dontDispatch.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_svg.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_displaystartLabel.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_displayendLabel.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_axis.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_brushG.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_polygon.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_xAxis.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_viewport.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_highlighted.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_margins.set(_assertThisInitialized(_this),void 0),_this.rulerstart=1,_this["show-highlight"]=!1,(0,tslib_es6.YH)(_assertThisInitialized(_this),_NightingaleNavigation_x,null,"f"),(0,tslib_es6.YH)(_assertThisInitialized(_this),_NightingaleNavigation_dontDispatch,!1,"f"),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleNavigation,[{key:"createNavRuler",value:function createNavRuler(){var _this2=this;(0,tslib_es6.YH)(this,_NightingaleNavigation_x,(0,src.BYU)().range([this["margin-left"],this.width-this["margin-right"]]).domain([this.rulerstart,this.rulerstart+(this.length||1)]),"f"),(0,tslib_es6.YH)(this,_NightingaleNavigation_svg,(0,src.Ys)(this).selectAll("svg").attr("id","").attr("width",this.width).attr("height",this.height),"f"),(0,tslib_es6.YH)(this,_NightingaleNavigation_xAxis,(0,src.LLu)((0,tslib_es6.Q_)(this,_NightingaleNavigation_x,"f")),"f"),(0,tslib_es6.YH)(this,_NightingaleNavigation_displaystartLabel,(0,tslib_es6.Q_)(this,_NightingaleNavigation_svg,"f").append("text").attr("class","start-label").attr("x",this["margin-left"]).attr("y",this.height-this["margin-bottom"]-2).style("font-family","sans-serif").style("font-size",12),"f"),(0,tslib_es6.YH)(this,_NightingaleNavigation_displayendLabel,(0,tslib_es6.Q_)(this,_NightingaleNavigation_svg,"f").append("text").attr("class","end-label").attr("x",this.width-this["margin-right"]).attr("y",this.height-this["margin-bottom"]-2).attr("text-anchor","end").style("font-family","sans-serif").style("font-size",12),"f"),(0,tslib_es6.YH)(this,_NightingaleNavigation_axis,(0,tslib_es6.Q_)(this,_NightingaleNavigation_svg,"f").append("g").attr("class","x axis").call((0,tslib_es6.Q_)(this,_NightingaleNavigation_xAxis,"f")),"f"),(0,tslib_es6.YH)(this,_NightingaleNavigation_viewport,(0,src.Yud)().extent([[this["margin-left"],0],[this.width-this["margin-right"],.51*this.height]]).on("brush",(function(_ref){var selection=_ref.selection,transform=_ref.transform;selection&&(0,tslib_es6.Q_)(_this2,_NightingaleNavigation_x,"f")&&(_this2["display-start"]=Math.round(100*(0,tslib_es6.Q_)(_this2,_NightingaleNavigation_x,"f").invert(selection[0]))/100,_this2["display-end"]=Math.round(100*(0,tslib_es6.Q_)(_this2,_NightingaleNavigation_x,"f").invert(selection[1]))/100,(0,tslib_es6.Q_)(_this2,_NightingaleNavigation_dontDispatch,"f")||_this2.dispatchEvent(new CustomEvent("change",{detail:{"display-end":_this2["display-end"],"display-start":_this2["display-start"],extra:{transform}},bubbles:!0,cancelable:!0})),_this2.updateLabels(),_this2.updatePolygon())})),"f"),(0,tslib_es6.YH)(this,_NightingaleNavigation_brushG,(0,tslib_es6.Q_)(this,_NightingaleNavigation_svg,"f").append("g").attr("class","brush").call((0,tslib_es6.Q_)(this,_NightingaleNavigation_viewport,"f")),"f"),(0,tslib_es6.Q_)(this,_NightingaleNavigation_brushG,"f").call((0,tslib_es6.Q_)(this,_NightingaleNavigation_viewport,"f").move,[(0,tslib_es6.Q_)(this,_NightingaleNavigation_x,"f").call(this,this.getStart()),(0,tslib_es6.Q_)(this,_NightingaleNavigation_x,"f").call(this,this.getEnd())]),(0,tslib_es6.YH)(this,_NightingaleNavigation_polygon,(0,tslib_es6.Q_)(this,_NightingaleNavigation_svg,"f").append("polygon").attr("class","zoom-polygon").attr("fill","#777").attr("fill-opacity","0.3"),"f"),(0,tslib_es6.YH)(this,_NightingaleNavigation_margins,(0,tslib_es6.Q_)(this,_NightingaleNavigation_svg,"f").append("g").attr("class","margin"),"f"),this.createHighlight(),this.renderD3()}},{key:"createHighlight",value:function createHighlight(){(0,tslib_es6.Q_)(this,_NightingaleNavigation_svg,"f")&&((0,tslib_es6.YH)(this,_NightingaleNavigation_highlighted,(0,tslib_es6.Q_)(this,_NightingaleNavigation_svg,"f").append("g").attr("class","highlighted"),"f"),this.updateHighlight())}},{key:"onWidthChange",value:function onWidthChange(){var _a,_b,_c;(0,tslib_es6.Q_)(this,_NightingaleNavigation_x,"f")&&((0,tslib_es6.Q_)(this,_NightingaleNavigation_x,"f").range([this["margin-left"],this.width-this["margin-right"]]),null===(_a=(0,tslib_es6.Q_)(this,_NightingaleNavigation_svg,"f"))||void 0===_a||_a.attr("width",this.width),null===(_b=(0,tslib_es6.Q_)(this,_NightingaleNavigation_viewport,"f"))||void 0===_b||_b.extent([[this["margin-left"],0],[this.width-this["margin-right"],.51*this.height]]),(0,tslib_es6.Q_)(this,_NightingaleNavigation_viewport,"f")&&(null===(_c=(0,tslib_es6.Q_)(this,_NightingaleNavigation_brushG,"f"))||void 0===_c||_c.call((0,tslib_es6.Q_)(this,_NightingaleNavigation_viewport,"f"))))}},{key:"render",value:function render(){return(0,lit.dy)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['<svg class="container"></svg>'])))}},{key:"updated",value:function updated(changedProperties){changedProperties.has("width")&&this.onWidthChange(),this.renderD3(),_get(_getPrototypeOf(NightingaleNavigation.prototype),"updated",this).call(this,changedProperties)}},{key:"firstUpdated",value:function firstUpdated(){this.createNavRuler()}},{key:"renderD3",value:function renderD3(){(0,tslib_es6.Q_)(this,_NightingaleNavigation_x,"f")&&(0,tslib_es6.Q_)(this,_NightingaleNavigation_axis,"f")&&(0,tslib_es6.Q_)(this,_NightingaleNavigation_xAxis,"f")&&(0,tslib_es6.Q_)(this,_NightingaleNavigation_viewport,"f")&&((0,tslib_es6.Q_)(this,_NightingaleNavigation_x,"f").domain([this.rulerstart,this.rulerstart+(this.length||1)-1]),(0,tslib_es6.Q_)(this,_NightingaleNavigation_axis,"f").call((0,tslib_es6.Q_)(this,_NightingaleNavigation_xAxis,"f")),this.updatePolygon(),this.updateLabels(),(0,tslib_es6.Q_)(this,_NightingaleNavigation_brushG,"f")&&((0,tslib_es6.YH)(this,_NightingaleNavigation_dontDispatch,!0,"f"),(0,tslib_es6.Q_)(this,_NightingaleNavigation_brushG,"f").call((0,tslib_es6.Q_)(this,_NightingaleNavigation_viewport,"f").move,[(0,tslib_es6.Q_)(this,_NightingaleNavigation_x,"f").call(this,this.getStart()),(0,tslib_es6.Q_)(this,_NightingaleNavigation_x,"f").call(this,this.getEnd())]),(0,tslib_es6.YH)(this,_NightingaleNavigation_dontDispatch,!1,"f")),this.updateHighlight(),this.renderMarginOnGroup((0,tslib_es6.Q_)(this,_NightingaleNavigation_margins,"f")))}},{key:"updateHighlight",value:function updateHighlight(){var _this3=this;if((0,tslib_es6.Q_)(this,_NightingaleNavigation_highlighted,"f")){var s1=(0,src.BYU)().domain([this["display-start"]||1,(this["display-end"]||this.length||1)+1]).range([this["margin-left"],this.width-this["margin-right"]]),s2=(0,src.BYU)().domain([this.rulerstart,this.rulerstart+(this.length||1)]).range([this["margin-left"],this.width-this["margin-right"]]),highlighs=(0,tslib_es6.Q_)(this,_NightingaleNavigation_highlighted,"f").selectAll("polygon").data(this["show-highlight"]?this.highlightedRegion.segments:[]);highlighs.enter().append("polygon").attr("class","highlight-polygon").style("pointer-events","none").merge(highlighs).attr("fill",this["highlight-color"]).attr("points",(function(segment){var start=Math.max(1,segment.start),end=Math.min(_this3.length||1,segment.end)+1;return s2(start)+","+_this3.height/2+"\n        "+s2(end)+","+_this3.height/2+"\n        "+s1(end)+","+_this3.height+"\n        "+s1(start)+","+_this3.height})),highlighs.exit().remove();var highlighsRect=(0,tslib_es6.Q_)(this,_NightingaleNavigation_highlighted,"f").selectAll("rect").data(this["show-highlight"]?this.highlightedRegion.segments:[]);highlighsRect.enter().append("rect").attr("class","highlight-rectangle").style("pointer-events","none").merge(highlighsRect).attr("fill",this["highlight-color"]).attr("x",(function(segment){return s2(Math.max(1,segment.start))})).attr("width",(function(segment){return s2(Math.min(_this3.length||1,segment.end)+1)-s2(Math.max(1,segment.start))})).attr("y",this["margin-top"]).attr("height",this.height/2),highlighsRect.exit().remove()}}},{key:"updateLabels",value:function updateLabels(){(0,tslib_es6.Q_)(this,_NightingaleNavigation_displaystartLabel,"f")&&(0,tslib_es6.Q_)(this,_NightingaleNavigation_displaystartLabel,"f").attr("x",this["margin-left"]).text(Math.round(this.getStart())),(0,tslib_es6.Q_)(this,_NightingaleNavigation_displayendLabel,"f")&&(0,tslib_es6.Q_)(this,_NightingaleNavigation_displayendLabel,"f").attr("x",this.width-this["margin-right"]).text(Math.round(this.getEnd()))}},{key:"updatePolygon",value:function updatePolygon(){(0,tslib_es6.Q_)(this,_NightingaleNavigation_polygon,"f")&&(0,tslib_es6.Q_)(this,_NightingaleNavigation_x,"f")&&(0,tslib_es6.Q_)(this,_NightingaleNavigation_polygon,"f").attr("points",(0,tslib_es6.Q_)(this,_NightingaleNavigation_x,"f").call(this,this.getStart())+","+this.height/2+"\n        "+(0,tslib_es6.Q_)(this,_NightingaleNavigation_x,"f").call(this,this.getEnd())+","+this.height/2+"\n        "+(this.width-this["margin-right"])+","+this.height+"\n        "+this["margin-left"]+","+this.height)}},{key:"getStart",value:function getStart(){return this["display-start"]||1}},{key:"getEnd",value:function getEnd(){return((this["display-end"]||0)>0?this["display-end"]:this.length)||1}}]),NightingaleNavigation}((0,nightingale_new_core_src.YD)((0,nightingale_new_core_src.tG)((0,nightingale_new_core_src.vl)((0,nightingale_new_core_src.Ds)((0,nightingale_new_core_src.U6)((0,nightingale_new_core_src.Rn)(nightingale_new_core_src.ZP)))))));_NightingaleNavigation_x=new WeakMap,_NightingaleNavigation_dontDispatch=new WeakMap,_NightingaleNavigation_svg=new WeakMap,_NightingaleNavigation_displaystartLabel=new WeakMap,_NightingaleNavigation_displayendLabel=new WeakMap,_NightingaleNavigation_axis=new WeakMap,_NightingaleNavigation_brushG=new WeakMap,_NightingaleNavigation_polygon=new WeakMap,_NightingaleNavigation_xAxis=new WeakMap,_NightingaleNavigation_viewport=new WeakMap,_NightingaleNavigation_highlighted=new WeakMap,_NightingaleNavigation_margins=new WeakMap,(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],nightingale_navigation_NightingaleNavigation.prototype,"rulerstart",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],nightingale_navigation_NightingaleNavigation.prototype,"show-highlight",void 0),nightingale_navigation_NightingaleNavigation=(0,tslib_es6.gn)([(0,decorators.Mo)("nightingale-navigation")],nightingale_navigation_NightingaleNavigation)},"./packages/nightingale-new-core/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{sQ:()=>bindEvents,en:()=>contrastingColor,y_:()=>decorators_customElementOnce,ZP:()=>nightingale_new_core_src,Lq:()=>getColor,U6:()=>src_withDimensions,Rn:()=>src_withHighlight,YD:()=>src_withManager,vl:()=>src_withMargin,Ds:()=>src_withPosition,tG:()=>src_withResizable,_5:()=>src_withZoom});__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}const src_withDimensions=function withDimensions(superClass){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:800,height:100},WithDimensions=function(_superClass){_inherits(WithDimensions,_superClass);var _super=_createSuper(WithDimensions);function WithDimensions(){var _this;return _classCallCheck(this,WithDimensions),(_this=_super.apply(this,arguments)).width=options.width,_this.height=options.height,_this}return _createClass(WithDimensions)}(superClass);return(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],WithDimensions.prototype,"width",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],WithDimensions.prototype,"height",void 0),WithDimensions};function withPosition_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withPosition_createClass(Constructor,protoProps,staticProps){return protoProps&&withPosition_defineProperties(Constructor.prototype,protoProps),staticProps&&withPosition_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function withPosition_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withPosition_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withPosition_setPrototypeOf(subClass,superClass)}function withPosition_setPrototypeOf(o,p){return withPosition_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withPosition_setPrototypeOf(o,p)}function withPosition_createSuper(Derived){var hasNativeReflectConstruct=function withPosition_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withPosition_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withPosition_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withPosition_possibleConstructorReturn(this,result)}}function withPosition_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function withPosition_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function withPosition_getPrototypeOf(o){return withPosition_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withPosition_getPrototypeOf(o)}const src_withPosition=function withPosition(superClass){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{"display-start":1,"display-end":-1,length:0},WithPosition=function(_superClass){withPosition_inherits(WithPosition,_superClass);var _super=withPosition_createSuper(WithPosition);function WithPosition(){var _this;return withPosition_classCallCheck(this,WithPosition),(_this=_super.apply(this,arguments)).length=options.length,_this["display-start"]=options["display-start"],_this["display-end"]=options["display-end"],_this}return withPosition_createClass(WithPosition)}(superClass);return(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],WithPosition.prototype,"length",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],WithPosition.prototype,"display-start",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],WithPosition.prototype,"display-end",void 0),WithPosition};__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");function withMargin_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withMargin_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withMargin_createClass(Constructor,protoProps,staticProps){return protoProps&&withMargin_defineProperties(Constructor.prototype,protoProps),staticProps&&withMargin_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function withMargin_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withMargin_setPrototypeOf(subClass,superClass)}function withMargin_setPrototypeOf(o,p){return withMargin_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withMargin_setPrototypeOf(o,p)}function withMargin_createSuper(Derived){var hasNativeReflectConstruct=function withMargin_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withMargin_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withMargin_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withMargin_possibleConstructorReturn(this,result)}}function withMargin_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return withMargin_assertThisInitialized(self)}function withMargin_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function withMargin_getPrototypeOf(o){return withMargin_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withMargin_getPrototypeOf(o)}const src_withMargin=function withMargin(superClass){var _WithMargin_created,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{"margin-top":0,"margin-bottom":0,"margin-left":10,"margin-right":10,"margin-color":"#FFFFFFDD"},WithMargin=function(_withDimensions){withMargin_inherits(WithMargin,_withDimensions);var _super=withMargin_createSuper(WithMargin);function WithMargin(){var _this;return withMargin_classCallCheck(this,WithMargin),(_this=_super.apply(this,arguments))["margin-top"]=options["margin-top"],_this["margin-bottom"]=options["margin-bottom"],_this["margin-left"]=options["margin-left"],_this["margin-right"]=options["margin-right"],_this["margin-color"]=options["margin-color"],_WithMargin_created.set(withMargin_assertThisInitialized(_this),!1),_this}return withMargin_createClass(WithMargin,[{key:"getWidthWithMargins",value:function getWidthWithMargins(){return this.width?this.width-this["margin-left"]-this["margin-right"]:0}},{key:"getHeightWithMargins",value:function getHeightWithMargins(){return this.height?this.height-this["margin-top"]-this["margin-bottom"]:0}},{key:"renderMarginOnGroup",value:function renderMarginOnGroup(g){g&&((0,tslib_es6.Q_)(this,_WithMargin_created,"f")||(g.append("rect").style("pointer-events","none").attr("class","margin-left").attr("x",0),g.append("rect").style("pointer-events","none").attr("class","margin-right"),g.append("rect").style("pointer-events","none").attr("class","margin-top").attr("width",this.width).attr("x",0).attr("y",0),g.append("rect").style("pointer-events","none").attr("class","margin-bottom").attr("width",this.width).attr("x",0),(0,tslib_es6.YH)(this,_WithMargin_created,!0,"f")),g.select("rect.margin-left").attr("fill",this["margin-color"]||"#FFFFFFDD").attr("height",this.height).attr("width",this["margin-left"]),g.select("rect.margin-right").attr("fill",this["margin-color"]||"#FFFFFFDD").attr("height",this.height).attr("x",this.width-this["margin-right"]).attr("width",this["margin-right"]),g.select("rect.margin-top").attr("fill",this["margin-color"]||"#FFFFFFDD").attr("height",this["margin-top"]),g.select("rect.margin-bottom").attr("fill",this["margin-color"]||"#FFFFFFDD").attr("y",this.height-this["margin-bottom"]).attr("height",this["margin-bottom"]))}}]),WithMargin}(src_withDimensions(superClass));return _WithMargin_created=new WeakMap,(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],WithMargin.prototype,"margin-top",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],WithMargin.prototype,"margin-bottom",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],WithMargin.prototype,"margin-left",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],WithMargin.prototype,"margin-right",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],WithMargin.prototype,"margin-color",void 0),WithMargin};__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");function withResizable_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withResizable_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=withResizable_getPrototypeOf(object)););return object}function withResizable_setPrototypeOf(o,p){return withResizable_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withResizable_setPrototypeOf(o,p)}function withResizable_createSuper(Derived){var hasNativeReflectConstruct=function withResizable_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withResizable_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withResizable_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withResizable_possibleConstructorReturn(this,result)}}function withResizable_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return withResizable_assertThisInitialized(self)}function withResizable_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function withResizable_getPrototypeOf(o){return withResizable_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withResizable_getPrototypeOf(o)}const src_withResizable=function withResizable(superClass){var _WithResizable_observer,WithResizable=function(_withDimensions){!function withResizable_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withResizable_setPrototypeOf(subClass,superClass)}(WithResizable,_withDimensions);var _super=withResizable_createSuper(WithResizable);function WithResizable(){var _this;withResizable_classCallCheck(this,WithResizable);for(var _len=arguments.length,rest=new Array(_len),_key=0;_key<_len;_key++)rest[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(rest)),_WithResizable_observer.set(withResizable_assertThisInitialized(_this),void 0),_this.onResize=_this.onResize.bind(withResizable_assertThisInitialized(_this)),_this.listenForResize=_this.listenForResize.bind(withResizable_assertThisInitialized(_this)),_this}return function withResizable_createClass(Constructor,protoProps,staticProps){return protoProps&&withResizable_defineProperties(Constructor.prototype,protoProps),staticProps&&withResizable_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(WithResizable,[{key:"connectedCallback",value:function connectedCallback(){this.listenForResize(),_get(withResizable_getPrototypeOf(WithResizable.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function disconnectedCallback(){(0,tslib_es6.Q_)(this,_WithResizable_observer,"f")&&(0,tslib_es6.Q_)(this,_WithResizable_observer,"f").unobserve(this),_get(withResizable_getPrototypeOf(WithResizable.prototype),"disconnectedCallback",this).call(this)}},{key:"onResize",value:function onResize(){this.width=this.offsetWidth}},{key:"listenForResize",value:function listenForResize(){(0,tslib_es6.YH)(this,_WithResizable_observer,new ResizeObserver(this.onResize),"f"),(0,tslib_es6.Q_)(this,_WithResizable_observer,"f").observe(this)}}]),WithResizable}(src_withDimensions(superClass));return _WithResizable_observer=new WeakMap,WithResizable};function withManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withManager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withManager_get(){return withManager_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=withManager_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},withManager_get.apply(this,arguments)}function withManager_superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=withManager_getPrototypeOf(object)););return object}function withManager_setPrototypeOf(o,p){return withManager_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withManager_setPrototypeOf(o,p)}function withManager_createSuper(Derived){var hasNativeReflectConstruct=function withManager_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withManager_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withManager_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withManager_possibleConstructorReturn(this,result)}}function withManager_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function withManager_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function withManager_getPrototypeOf(o){return withManager_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withManager_getPrototypeOf(o)}const src_withManager=function withManager(superClass){var WithManager=function(_superClass){!function withManager_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withManager_setPrototypeOf(subClass,superClass)}(WithManager,_superClass);var _super=withManager_createSuper(WithManager);function WithManager(){return withManager_classCallCheck(this,WithManager),_super.apply(this,arguments)}return function withManager_createClass(Constructor,protoProps,staticProps){return protoProps&&withManager_defineProperties(Constructor.prototype,protoProps),staticProps&&withManager_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(WithManager,[{key:"connectedCallback",value:function connectedCallback(){var _this=this;this.closest("nightingale-manager")&&customElements.whenDefined("nightingale-manager").then((function(){_this.manager=_this.closest("nightingale-manager"),_this.manager&&_this.manager.register(_this)})),withManager_get(withManager_getPrototypeOf(WithManager.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.manager&&this.manager.unregister(this),withManager_get(withManager_getPrototypeOf(WithManager.prototype),"disconnectedCallback",this).call(this)}}]),WithManager}(superClass);return WithManager};__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.number.is-nan.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Region_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Region_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Region=function(){function Region(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$min=_ref.min,min=void 0===_ref$min?-1/0:_ref$min,_ref$max=_ref.max,max=void 0===_ref$max?1/0:_ref$max;Region_classCallCheck(this,Region),this.segments=[],this.max=max,this.min=min,this.regionString=null}return function Region_createClass(Constructor,protoProps,staticProps){return protoProps&&Region_defineProperties(Constructor.prototype,protoProps),staticProps&&Region_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Region,[{key:"encode",value:function encode(){var _this=this,full=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.segments.map((function(_ref2){var start=_ref2.start,end=_ref2.end;return full?start+":"+end:(start===_this.min?"":start)+":"+(end===_this.max?"":end)})).join(",")}},{key:"decode",value:function decode(regionString){var _this2=this;void 0!==regionString&&(this.regionString=regionString),this.regionString?this.segments=this.regionString.split(",").map((function(region){var _region$split2=_slicedToArray(region.split(":"),3),_start=_region$split2[0],_end=_region$split2[1];if(void 0!==_region$split2[2])throw new Error("there should be at most 1 ':' per region. Region: "+region);var start=_start?Number(_start):_this2.min,end=_end?Number(_end):_this2.max;if(start>end){var _ref3=[end,start];start=_ref3[0],end=_ref3[1]}if(start<_this2.min&&(start=_this2.min),end>_this2.max&&(end=_this2.max),Number.isNaN(start))throw new Error("The parsed value of "+_start+" is NaN. Region: "+region);if(Number.isNaN(end))throw new Error("The parsed value of "+_end+" is NaN. Region: "+region);return{start,end}})):this.segments=[]}}]),Region}();function withHighlight_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withHighlight_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withHighlight_createClass(Constructor,protoProps,staticProps){return protoProps&&withHighlight_defineProperties(Constructor.prototype,protoProps),staticProps&&withHighlight_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function withHighlight_get(){return withHighlight_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=withHighlight_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},withHighlight_get.apply(this,arguments)}function withHighlight_superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=withHighlight_getPrototypeOf(object)););return object}function withHighlight_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withHighlight_setPrototypeOf(subClass,superClass)}function withHighlight_setPrototypeOf(o,p){return withHighlight_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withHighlight_setPrototypeOf(o,p)}function withHighlight_createSuper(Derived){var hasNativeReflectConstruct=function withHighlight_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withHighlight_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withHighlight_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withHighlight_possibleConstructorReturn(this,result)}}function withHighlight_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return withHighlight_assertThisInitialized(self)}function withHighlight_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function withHighlight_getPrototypeOf(o){return withHighlight_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withHighlight_getPrototypeOf(o)}var combineRegions=function combineRegions(region1,region2){return region1?region2?region1+","+region2:region1:region2};const src_withHighlight=function withHighlight(superClass){var _WithHighlight_fixedHighlight,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{highlight:null,"highlight-color":"#FFEB3B66"},WithHighlight=function(_superClass){withHighlight_inherits(WithHighlight,_superClass);var _super=withHighlight_createSuper(WithHighlight);function WithHighlight(){var _this;withHighlight_classCallCheck(this,WithHighlight);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).highlight=options.highlight,_this["highlight-color"]=options["highlight-color"],_WithHighlight_fixedHighlight.set(withHighlight_assertThisInitialized(_this),void 0),_this.highlightedRegion=new Region({min:1}),(0,tslib_es6.YH)(withHighlight_assertThisInitialized(_this),_WithHighlight_fixedHighlight,null,"f"),_this}return withHighlight_createClass(WithHighlight,[{key:"fixedHighlight",set:function set(value){(0,tslib_es6.YH)(this,_WithHighlight_fixedHighlight,value,"f"),this.highlightedRegion.decode(combineRegions(this.highlight||"",(0,tslib_es6.Q_)(this,_WithHighlight_fixedHighlight,"f")||"")),this.updateHighlight()}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){withHighlight_get(withHighlight_getPrototypeOf(WithHighlight.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue),"null"===newValue&&(newValue=null),oldValue!==newValue&&("length"===name&&(this.highlightedRegion.max=Number(newValue)),"highlight"===name&&this.highlightedRegion.decode(combineRegions(newValue||"",(0,tslib_es6.Q_)(this,_WithHighlight_fixedHighlight,"f")||"")))}},{key:"updateHighlight",value:function updateHighlight(){}}]),WithHighlight}(superClass);return _WithHighlight_fixedHighlight=new WeakMap,(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],WithHighlight.prototype,"highlight",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],WithHighlight.prototype,"highlight-color",void 0),WithHighlight};__webpack_require__("./node_modules/core-js/modules/es.array.includes.js");var src=__webpack_require__("./node_modules/d3/src/index.js");function withZoom_slicedToArray(arr,i){return function withZoom_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function withZoom_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function withZoom_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return withZoom_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return withZoom_arrayLikeToArray(o,minLen)}(arr,i)||function withZoom_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function withZoom_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function withZoom_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withZoom_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withZoom_get(){return withZoom_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=withZoom_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},withZoom_get.apply(this,arguments)}function withZoom_superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=withZoom_getPrototypeOf(object)););return object}function withZoom_setPrototypeOf(o,p){return withZoom_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withZoom_setPrototypeOf(o,p)}function withZoom_createSuper(Derived){var hasNativeReflectConstruct=function withZoom_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withZoom_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withZoom_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withZoom_possibleConstructorReturn(this,result)}}function withZoom_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return withZoom_assertThisInitialized(self)}function withZoom_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function withZoom_getPrototypeOf(o){return withZoom_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withZoom_getPrototypeOf(o)}var ATTRIBUTES_THAT_TRIGGER_REFRESH=["length","width","height"];const src_withZoom=function withZoom(superClass){var WithZoom=function(_withMargin){!function withZoom_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withZoom_setPrototypeOf(subClass,superClass)}(WithZoom,_withMargin);var _super=withZoom_createSuper(WithZoom);function WithZoom(){var _this;withZoom_classCallCheck(this,WithZoom);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];(_this=_super.call.apply(_super,[this].concat(args)))._updateScaleDomain=_this._updateScaleDomain.bind(withZoom_assertThisInitialized(_this)),_this._initZoom=_this._initZoom.bind(withZoom_assertThisInitialized(_this)),_this.zoomed=_this.zoomed.bind(withZoom_assertThisInitialized(_this)),_this._applyZoomTranslation=_this.applyZoomTranslation.bind(withZoom_assertThisInitialized(_this));var aboutToApply=!1;return _this.applyZoomTranslation=function(){aboutToApply||(aboutToApply=!0,requestAnimationFrame((function(){aboutToApply=!1,_this._applyZoomTranslation()})))},_this}return function withZoom_createClass(Constructor,protoProps,staticProps){return protoProps&&withZoom_defineProperties(Constructor.prototype,protoProps),staticProps&&withZoom_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(WithZoom,[{key:"connectedCallback",value:function connectedCallback(){this._updateScaleDomain(),this.xScale&&(this._originXScale=this.xScale.copy()),this._initZoom(),withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function disconnectedCallback(){withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"disconnectedCallback",this).call(this)}},{key:"xScale",get:function get(){return this._xScale},set:function set(xScale){this._xScale=xScale}},{key:"zoom",get:function get(){return this._zoom}},{key:"svg",get:function get(){return this._svg},set:function set(svg){svg&&this._zoom&&(this._svg=svg,svg.call(this._zoom),this.applyZoomTranslation())}},{key:"_updateScaleDomain",value:function _updateScaleDomain(){this.xScale=(0,src.BYU)().domain([1,(this.length||0)+1]).range([0,this.getWidthWithMargins()])}},{key:"_initZoom",value:function _initZoom(){this._zoom=(0,src.sPX)().scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]).extent([[0,0],[this.getWidthWithMargins(),0]]).on("zoom",this.zoomed)}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){var _a;(withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue),this.zoom)&&(oldValue!==("null"===newValue?null:newValue)&&(ATTRIBUTES_THAT_TRIGGER_REFRESH.includes(name)&&(this._updateScaleDomain(),this._originXScale=null===(_a=this.xScale)||void 0===_a?void 0:_a.copy()),this.applyZoomTranslation()))}},{key:"zoomed",value:function zoomed(d3Event){var _a;this._originXScale&&(this.xScale=d3Event.transform.rescaleX(this._originXScale));var _ref2=withZoom_slicedToArray((null===(_a=null==this?void 0:this.xScale)||void 0===_a?void 0:_a.domain())||[0,0],2),start=_ref2[0],end=_ref2[1];!this.dontDispatch&&this.xScale&&this.dispatchEvent(new CustomEvent("change",{detail:{"display-start":Math.max(1,start),"display-end":Math.min(this.length||0,Math.max(end-1,start+1))},bubbles:!0,cancelable:!0}))}},{key:"applyZoomTranslation",value:function applyZoomTranslation(){if(this.svg&&this._originXScale){var k=Math.max(1,(this.length||0)/(1+(this["display-end"]||0)-(this["display-start"]||0))),dx=-this._originXScale(this["display-start"]||0);this.dontDispatch=!0,this.zoom&&this.svg.call(this.zoom.transform,src.CRH.scale(k).translate(dx,0)),this.dontDispatch=!1,this.zoomRefreshed()}}},{key:"zoomRefreshed",value:function zoomRefreshed(){withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"render",this).call(this)}},{key:"render",value:function render(){return this.applyZoomTranslation(),withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"render",this).call(this)}},{key:"getXFromSeqPosition",value:function getXFromSeqPosition(position){return this.xScale?this["margin-left"]+this.xScale(position):-1}},{key:"getSingleBaseWidth",value:function getSingleBaseWidth(){return this.xScale?this.xScale(2)-this.xScale(1):-1}}]),WithZoom}(src_withMargin(src_withPosition(src_withDimensions(superClass))));return WithZoom};function createEvent(type){var feature=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,withHighlight=arguments.length>2&&void 0!==arguments[2]&&arguments[2],withId=arguments.length>3&&void 0!==arguments[3]&&arguments[3],start=arguments.length>4?arguments[4]:void 0,end=arguments.length>5?arguments[5]:void 0,target=arguments.length>6?arguments[6]:void 0,event=arguments.length>7?arguments[7]:void 0,element=arguments.length>8?arguments[8]:void 0;feature&&(feature=(null==feature?void 0:feature.feature)||feature);var detail={eventType:type,feature,target,parentEvent:event};return withHighlight&&((null==feature?void 0:feature.fragments)?detail.highlight=((null==feature?void 0:feature.fragments)||[]).map((function(fr){return fr.start+":"+fr.end})).join(","):(null==event?void 0:event.shiftKey)&&(null==element?void 0:element.highlight)?detail.highlight=element.highlight+","+start+":"+end:detail.highlight=start&&end?start+":"+end:void 0),withId&&(detail.selectedId=null==feature?void 0:feature.protvistaFeatureId),new CustomEvent("change",{detail,bubbles:!0,cancelable:!0})}function bindEvents(feature,element){feature.on("mouseover",(function(event,datum){var _a,_b;element.dispatchEvent(createEvent("mouseover",datum,"onmouseover"===element.getAttribute("highlight-event"),!1,null!==(_a=datum.start)&&void 0!==_a?_a:datum.position,null!==(_b=datum.end)&&void 0!==_b?_b:datum.position,this,event))})).on("mouseout",(function(){element.dispatchEvent(createEvent("mouseout",null,"onmouseover"===element.getAttribute("highlight-event")))})).on("click",(function(event,datum){var _a,_b;element.dispatchEvent(createEvent("click",datum,"onclick"===element.getAttribute("highlight-event"),!0,null!==(_a=datum.start)&&void 0!==_a?_a:datum.position,null!==(_b=datum.end)&&void 0!==_b?_b:datum.position,this,event,element))}))}__webpack_require__("./node_modules/core-js/modules/es.string.match.js");function contrastingColor(color){return color?function luma(rgb){return.2126*rgb[0]+.7152*rgb[1]+.0722*rgb[2]}(color)>=165?"black":"white":"black"}function getColor(element,property){var _a,style=getComputedStyle(element),prop=null==style?void 0:style[property];return(null===(_a=null==prop?void 0:prop.match(/[.\d]+/g))||void 0===_a?void 0:_a.map(Number))||null}const decorators_customElementOnce=function customElementOnce(tagName){return function(classOrDescriptor){window.customElements.get(tagName)||(0,decorators.Mo)(tagName)(classOrDescriptor)}};function nightingale_base_element_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function nightingale_base_element_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function nightingale_base_element_setPrototypeOf(o,p){return nightingale_base_element_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},nightingale_base_element_setPrototypeOf(o,p)}function nightingale_base_element_createSuper(Derived){var hasNativeReflectConstruct=function nightingale_base_element_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=nightingale_base_element_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=nightingale_base_element_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return nightingale_base_element_possibleConstructorReturn(this,result)}}function nightingale_base_element_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function nightingale_base_element_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function nightingale_base_element_getPrototypeOf(o){return nightingale_base_element_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},nightingale_base_element_getPrototypeOf(o)}const nightingale_new_core_src=function(_LitElement){!function nightingale_base_element_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&nightingale_base_element_setPrototypeOf(subClass,superClass)}(NightingaleElement,_LitElement);var _super=nightingale_base_element_createSuper(NightingaleElement);function NightingaleElement(){return nightingale_base_element_classCallCheck(this,NightingaleElement),_super.apply(this,arguments)}return function nightingale_base_element_createClass(Constructor,protoProps,staticProps){return protoProps&&nightingale_base_element_defineProperties(Constructor.prototype,protoProps),staticProps&&nightingale_base_element_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleElement,[{key:"createRenderRoot",value:function createRenderRoot(){return this}}]),NightingaleElement}(__webpack_require__("./node_modules/lit/index.js").oi)},"./packages/nightingale-sequence/src/index.ts":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/es.number.is-integer.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js");var _templateObject,_NightingaleSequence_seq_bg,_NightingaleSequence_axis,_NightingaleSequence_bases,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),lit=__webpack_require__("./node_modules/lit/index.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var nightingale_sequence_NightingaleSequence=function(_withManager){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NightingaleSequence,_withManager);var _super=_createSuper(NightingaleSequence);function NightingaleSequence(){var _this;return _classCallCheck(this,NightingaleSequence),_this=_super.apply(this,arguments),_NightingaleSequence_seq_bg.set(_assertThisInitialized(_this),void 0),_NightingaleSequence_axis.set(_assertThisInitialized(_this),void 0),_NightingaleSequence_bases.set(_assertThisInitialized(_this),void 0),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleSequence,[{key:"connectedCallback",value:function connectedCallback(){var _this2=this;_get(_getPrototypeOf(NightingaleSequence.prototype),"connectedCallback",this).call(this);var ticks=parseInt(this.getAttribute("numberofticks")||"",10);this.numberOfTicks=Number.isInteger(ticks)?ticks:3,this.sequence&&this.createSequence(),this.addEventListener("load",(function(e){_this2.data=e.detail.payload}))}},{key:"data",get:function get(){return this.sequence||""},set:function set(data){"string"==typeof data?this.sequence=data:"string"==typeof(null==data?void 0:data.sequence)&&(this.sequence=data.sequence),this.sequence&&!this.svg?this.createSequence():this.renderD3()}},{key:"getCharSize",value:function getCharSize(){var _a,_b;if(this.seq_g){var node=this.seq_g.select("text.base").node();if(node)this.chWidth=.8*node.getBBox().width,this.chHeight=1.6*node.getBBox().height;else{var tempNode=this.seq_g.append("text").attr("class","base").text("T");this.chWidth=.8*((null===(_a=tempNode.node())||void 0===_a?void 0:_a.getBBox().width)||0),this.chHeight=1.6*((null===(_b=tempNode.node())||void 0===_b?void 0:_b.getBBox().height)||0),tempNode.remove()}}}},{key:"createSequence",value:function createSequence(){var _a,_b,_c,_this3=this;this.svg=(0,src.Ys)(this).selectAll("svg").attr("id","").attr("width",this.width).attr("height",this.height),(0,tslib_es6.YH)(this,_NightingaleSequence_seq_bg,null===(_a=this.svg)||void 0===_a?void 0:_a.append("g").attr("class","background"),"f"),(0,tslib_es6.YH)(this,_NightingaleSequence_axis,null===(_b=this.svg)||void 0===_b?void 0:_b.append("g").attr("class","x axis"),"f"),this.seq_g=null===(_c=this.svg)||void 0===_c?void 0:_c.append("g").attr("class","sequence").attr("transform","translate(0,"+(this["margin-top"]+.75*this.getHeightWithMargins())+")"),this.highlighted=this.svg.append("g").attr("class","highlighted"),this.margins=this.svg.append("g").attr("class","margin"),requestAnimationFrame((function(){_this3.renderD3()}))}},{key:"firstUpdated",value:function firstUpdated(){this.createSequence()}},{key:"zoomRefreshed",value:function zoomRefreshed(){this.renderD3()}},{key:"renderD3",value:function renderD3(){var _a,_b,_this4=this;if(this.getCharSize(),(0,tslib_es6.Q_)(this,_NightingaleSequence_axis,"f")){var ftWidth=this.getSingleBaseWidth(),space=ftWidth-(this.chWidth||0),half=ftWidth/2,first=Math.floor(Math.max(0,this.getStart()-1)),last=Math.ceil(Math.min((null===(_a=this.sequence)||void 0===_a?void 0:_a.length)||0,this.getEnd())),bases=space<0?[]:(null===(_b=this.sequence)||void 0===_b?void 0:_b.slice(first,last).split("").map((function(aa,i){return{position:1+first+i,aa}})))||[];if(this.height>(this.chWidth||0)&&this.xScale){var xAxis=(0,src.LLu)(this.xScale).tickFormat((function(d){return""+(Number.isInteger(d)?d:"")})).ticks(this.numberOfTicks,"s");(0,tslib_es6.Q_)(this,_NightingaleSequence_axis,"f").call(xAxis)}if((0,tslib_es6.Q_)(this,_NightingaleSequence_axis,"f").attr("transform","translate("+(this["margin-left"]+half)+","+this["margin-top"]+")"),(0,tslib_es6.Q_)(this,_NightingaleSequence_axis,"f").select(".domain").remove(),(0,tslib_es6.Q_)(this,_NightingaleSequence_axis,"f").selectAll(".tick line").remove(),(0,tslib_es6.Q_)(this,_NightingaleSequence_axis,"f").selectAll(".tick text").attr("y",2),this.seq_g){this.seq_g.attr("transform","translate(0,"+(this["margin-top"]+.75*this.getHeightWithMargins())+")"),(0,tslib_es6.YH)(this,_NightingaleSequence_bases,this.seq_g.selectAll("text.base"),"f");var textElements=(0,tslib_es6.Q_)(this,_NightingaleSequence_bases,"f").data(bases,(function(d){return d.position}));if(textElements.enter().append("text").attr("class","base").attr("text-anchor","middle").attr("x",(function(d){return _this4.getXFromSeqPosition(d.position)+half})).text((function(d){return d.aa})).style("pointer-events","none").style("font-family","monospace"),textElements.exit().remove(),textElements.attr("x",(function(d){return _this4.getXFromSeqPosition(d.position)+half})),(0,tslib_es6.Q_)(this,_NightingaleSequence_seq_bg,"f")){var background=(0,tslib_es6.Q_)(this,_NightingaleSequence_seq_bg,"f").selectAll("rect.base_bg").data(bases,(function(d){return d.position}));background.enter().append("rect").attr("class","base_bg feature").attr("height",this.getHeightWithMargins()).attr("width",ftWidth).attr("fill",(function(d){return Math.round(d.position)%2?"#ccc":"#eee"})).attr("x",(function(d){return _this4.getXFromSeqPosition(d.position)})).attr("y",this["margin-top"]).call(nightingale_new_core_src.sQ,this),background.attr("width",ftWidth).attr("fill",(function(d){return Math.round(d.position)%2?"#ccc":"#eee"})).attr("height",this.getHeightWithMargins()).attr("x",(function(d){return _this4.getXFromSeqPosition(d.position)})).attr("y",this["margin-top"]),background.exit().remove(),this.seq_g.style("opacity",Math.min(1,space)),background.style("opacity",Math.min(1,space))}}this.updateHighlight(),this.renderMarginOnGroup(this.margins)}}},{key:"getStart",value:function getStart(){return this["display-start"]||1}},{key:"getEnd",value:function getEnd(){return((this["display-end"]||0)>0?this["display-end"]:this.length)||0}},{key:"updateHighlight",value:function updateHighlight(){var _this5=this;if(this.highlighted){var highlighs=this.highlighted.selectAll("rect").data(this.highlightedRegion.segments);highlighs.enter().append("rect").style("pointer-events","none").merge(highlighs).attr("fill",this["highlight-color"]).attr("height",this.height).attr("x",(function(d){return _this5.getXFromSeqPosition(d.start)})).attr("width",(function(d){return _this5.getSingleBaseWidth()*(d.end-d.start+1)})),highlighs.exit().remove()}}},{key:"render",value:function render(){return(0,lit.dy)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['<svg class="container"></svg>'])))}}]),NightingaleSequence}((0,nightingale_new_core_src.YD)((0,nightingale_new_core_src._5)((0,nightingale_new_core_src.tG)((0,nightingale_new_core_src.vl)((0,nightingale_new_core_src.Ds)((0,nightingale_new_core_src.U6)((0,nightingale_new_core_src.Rn)(nightingale_new_core_src.ZP))))))));_NightingaleSequence_seq_bg=new WeakMap,_NightingaleSequence_axis=new WeakMap,_NightingaleSequence_bases=new WeakMap,(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],nightingale_sequence_NightingaleSequence.prototype,"sequence",void 0),nightingale_sequence_NightingaleSequence=(0,tslib_es6.gn)([(0,nightingale_new_core_src.y_)("nightingale-sequence")],nightingale_sequence_NightingaleSequence)},"./packages/nightingale-track/src/index.ts":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js");var _FeatureShape_instances,_FeatureShape_ftLength,_FeatureShape_ftHeight,_FeatureShape_ftWidth,_FeatureShape_getMiddleLine,_FeatureShape_getBrokenEnd,_FeatureShape_getBrokenStart,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts"),lit=__webpack_require__("./node_modules/lit/index.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js");__webpack_require__("./node_modules/core-js/modules/es.weak-set.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var FeatureShape=function(){function FeatureShape(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FeatureShape),_FeatureShape_instances.add(this),_FeatureShape_ftLength.set(this,1),_FeatureShape_ftHeight.set(this,1),_FeatureShape_ftWidth.set(this,1)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(FeatureShape,[{key:"shape2function",value:function shape2function(shape){var _this=this;switch(shape){case"rectangle":default:return function(){return _this.rectangle()};case"roundRectangle":return function(){return _this.roundRectangle()};case"line":return function(){return _this.line()};case"bridge":return function(){return _this.bridge()};case"diamond":return function(){return _this.diamond()};case"chevron":return function(){return _this.chevron()};case"catFace":return function(){return _this.catFace()};case"triangle":return function(){return _this.triangle()};case"wave":return function(){return _this.wave()};case"hexagon":return function(){return _this.hexagon()};case"pentagon":return function(){return _this.pentagon()};case"circle":return function(){return _this.circle()};case"arrow":return function(){return _this.arrow()};case"doubleBar":return function(){return _this.doubleBar()};case"discontinuosStart":return function(){return _this.discontinuosStart()};case"discontinuos":return function(){return _this.discontinuos()};case"discontinuosEnd":return function(){return _this.discontinuosEnd()};case"helix":return function(){return _this.helix()};case"strand":return function(){return _this.strand()}}}},{key:"getFeatureShape",value:function getFeatureShape(aaWidth,ftHeight,ftLength,shape){return shape=shape||"rectangle",(0,tslib_es6.YH)(this,_FeatureShape_ftLength,ftLength,"f"),(0,tslib_es6.YH)(this,_FeatureShape_ftHeight,ftHeight,"f"),(0,tslib_es6.YH)(this,_FeatureShape_ftWidth,aaWidth*ftLength,"f"),this.shape2function(shape)()}},{key:"rectangle",value:function rectangle(){return"M0,0L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+",0L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+"L0,"+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+"Z"}},{key:"roundRectangle",value:function roundRectangle(){return"M6,0h"+((0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")-12)+",0a6,6 0 0 1 6,6v"+((0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")-12)+"a6,6 0 0 1 "+"-6,6h"+(12-(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f"))+"a6,6 0 0 1 "+"-6,"+"-6v"+(12-(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f"))+"a6,6 0 0 1 6,"+"-6Z"}},{key:"line",value:function line(){return"M0,"+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")/2+" L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")/2}},{key:"bridge",value:function bridge(){return 1!==(0,tslib_es6.Q_)(this,_FeatureShape_ftLength,"f")?"M0,"+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+"L0,0L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+",0L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+"L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+",2L0,2Z":"M0,"+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+"L0,"+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")/2+"L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/2+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")/2+"L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/2+",0L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/2+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")/2+"L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")/2+"L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+"Z"}},{key:"diamond",value:function diamond(){var m=(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",0L"+(m+5)+",5L"+m+",10L"+(m-5)+",5";return 1!==(0,tslib_es6.Q_)(this,_FeatureShape_ftLength,"f")?shape+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5):shape+"Z"}},{key:"chevron",value:function chevron(){var m=(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",5L"+(5+m)+",0L"+(5+m)+",5L"+m+",10L"+(-5+m)+",5L"+(-5+m)+",0";return 1!==(0,tslib_es6.Q_)(this,_FeatureShape_ftLength,"f")?shape+"L"+m+",5"+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"catFace",value:function catFace(){var m=(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+(-5+m)+",0L"+(-5+m)+",6L"+(-2+m)+",10L"+(2+m)+",10L"+(5+m)+",6L"+(5+m)+",0L"+(2+m)+",4L"+(-2+m)+",4";return 1!==(0,tslib_es6.Q_)(this,_FeatureShape_ftLength,"f")?shape+"M"+m+",0"+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"triangle",value:function triangle(){var m=(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",0L"+(5+m)+",10L"+(-5+m)+",10";return 1!==(0,tslib_es6.Q_)(this,_FeatureShape_ftLength,"f")?shape+"L"+m+",0"+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"wave",value:function wave(){var m=(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+(-5+m)+",5A2.5,5 0 1,1 "+m+",5A2.5,5 0 1,0 "+(5+m)+",5";return 1!==(0,tslib_es6.Q_)(this,_FeatureShape_ftLength,"f")?shape+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"getPolygon",value:function getPolygon(sidesNumber){for(var polygon="M ",m=(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/2,i=0;i<sidesNumber;i++)polygon+=5*Math.cos(2*Math.PI*i/sidesNumber)+m+","+(5*Math.sin(2*Math.PI*i/sidesNumber)+5)+" ";return 1!==(0,tslib_es6.Q_)(this,_FeatureShape_ftLength,"f")?polygon+" "+(5*Math.cos(0)+m)+","+(5*Math.sin(0)+5)+" "+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":polygon+"Z"}},{key:"hexagon",value:function hexagon(){return this.getPolygon(6)}},{key:"pentagon",value:function pentagon(){return this.getPolygon(5)}},{key:"circle",value:function circle(){var m=(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/2,r=Math.sqrt(10/Math.PI),shape="M"+m+",0A"+r+","+r+" 0 1,1 "+m+",10A"+r+","+r+" 0 1,1 "+m+",0";return 1!==(0,tslib_es6.Q_)(this,_FeatureShape_ftLength,"f")?shape+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"arrow",value:function arrow(){var m=(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",0L"+(-1+m)+",0L"+(-5+m)+",4L"+(-1+m)+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+"L"+m+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+"L"+(4+m)+",4";return 1!==(0,tslib_es6.Q_)(this,_FeatureShape_ftLength,"f")?shape+"L"+m+",0"+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"doubleBar",value:function doubleBar(){var m=(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",0L"+(-5+m)+",10L"+m+",10L"+(5+m)+",0";return 1!==(0,tslib_es6.Q_)(this,_FeatureShape_ftLength,"f")?shape+"L"+m+",0"+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"discontinuosStart",value:function discontinuosStart(){return"M0,0L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+",0L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+"L0,"+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getBrokenStart).call(this)+"Z"}},{key:"discontinuos",value:function discontinuos(){return"M0,0L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+",0"+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getBrokenEnd).call(this)+"L0,"+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getBrokenStart).call(this)+"Z"}},{key:"discontinuosEnd",value:function discontinuosEnd(){return"M0,0L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+",0"+(0,tslib_es6.Q_)(this,_FeatureShape_instances,"m",_FeatureShape_getBrokenEnd).call(this)+"L0,"+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+"Z"}},{key:"helix",value:function helix(){for(var y=2.5,center=2.5,nw=Math.round((0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")/5),loop="",i=0;i<nw;i++){loop+="M"+(-2.5+center)+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+" C"+(center+y)+",7.5 "+(2.5+center)+","+y+" "+center+", 0 C"+(center-y)+","+y+" "+center+",7.5 "+(2.5+center)+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f"),center+=5}return loop}},{key:"strand",value:function strand(){var rl=0;(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")>5&&(rl=(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")-5);var qh=(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")/4;return"M0,"+qh+"L"+rl+","+qh+"L"+rl+","+3*qh+"L0,"+3*qh+"L0,"+qh+("M"+rl+",0L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+","+2*qh+"L"+rl+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")+"Z")}}],[{key:"isContinuous",value:function isContinuous(shape){return"bridge"!==shape.toLowerCase()}}]),FeatureShape}();_FeatureShape_ftLength=new WeakMap,_FeatureShape_ftHeight=new WeakMap,_FeatureShape_ftWidth=new WeakMap,_FeatureShape_instances=new WeakSet,_FeatureShape_getMiddleLine=function _FeatureShape_getMiddleLine(centerx){return"M0,"+centerx+"L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+","+centerx+"Z"},_FeatureShape_getBrokenEnd=function _FeatureShape_getBrokenEnd(){var qh=(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")/4;return"L"+((0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")-qh)+","+qh+"L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+","+2*qh+"L"+((0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")-qh)+","+3*qh+"L"+(0,tslib_es6.Q_)(this,_FeatureShape_ftWidth,"f")+","+(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")},_FeatureShape_getBrokenStart=function _FeatureShape_getBrokenStart(){var qh=(0,tslib_es6.Q_)(this,_FeatureShape_ftHeight,"f")/4;return"L"+qh+","+3*qh+"L0,"+2*qh+"L"+qh+","+qh};__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.some.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js");function DefaultLayout_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _NonOverlappingLayout_rows,DefaultLayout=function(){function DefaultLayout(_ref){var layoutHeight=_ref.layoutHeight,_ref$margin=_ref.margin,margin=void 0===_ref$margin?{top:1,bottom:1,left:0,right:0}:_ref$margin,_ref$minHeight=_ref.minHeight,minHeight=void 0===_ref$minHeight?17:_ref$minHeight;!function DefaultLayout_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DefaultLayout),this.margin=margin,this.minHeight=minHeight,this.layoutHeight=layoutHeight,this.features=[]}return function DefaultLayout_createClass(Constructor,protoProps,staticProps){return protoProps&&DefaultLayout_defineProperties(Constructor.prototype,protoProps),staticProps&&DefaultLayout_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(DefaultLayout,[{key:"init",value:function init(features){this.features=features}},{key:"getFeatureYPos",value:function getFeatureYPos(feature){var featureHeight=this.getFeatureHeight();return this.margin.top+(this.layoutHeight-this.margin.top-this.margin.bottom)/2-featureHeight/2}},{key:"getFeatureHeight",value:function getFeatureHeight(){return Math.max(this.minHeight,this.layoutHeight-this.margin.top-this.margin.bottom)}}]),DefaultLayout}();function NonOverlappingLayout_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var featureOvelapsInRow=function featureOvelapsInRow(feature,row){return row.some((function(rowFeature){return function featuresOverlap(feature1,feature2){return!(Number(feature2.start)>Number(feature1.end)||Number(feature2.end)<Number(feature1.start))}(feature,rowFeature)}))},NonOverlappingLayout=function(_DefaultLayout){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NonOverlappingLayout,_DefaultLayout);var _super=_createSuper(NonOverlappingLayout);function NonOverlappingLayout(options){var _this;return function NonOverlappingLayout_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NonOverlappingLayout),(_this=_super.call(this,options)).featuresMap=new Map,_NonOverlappingLayout_rows.set(_assertThisInitialized(_this),void 0),_this.rowHeight=0,_this.minHeight=15,(0,tslib_es6.YH)(_assertThisInitialized(_this),_NonOverlappingLayout_rows,[],"f"),_this}return function NonOverlappingLayout_createClass(Constructor,protoProps,staticProps){return protoProps&&NonOverlappingLayout_defineProperties(Constructor.prototype,protoProps),staticProps&&NonOverlappingLayout_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NonOverlappingLayout,[{key:"init",value:function init(features){var _this2=this;features.forEach((function(feature){var rowIndex=(0,tslib_es6.Q_)(_this2,_NonOverlappingLayout_rows,"f").findIndex((function(row){return!featureOvelapsInRow(feature,row)}));rowIndex>=0?((0,tslib_es6.Q_)(_this2,_NonOverlappingLayout_rows,"f")[rowIndex].push(feature),_this2.featuresMap.set(feature,rowIndex)):((0,tslib_es6.Q_)(_this2,_NonOverlappingLayout_rows,"f").push([feature]),_this2.featuresMap.set(feature,(0,tslib_es6.Q_)(_this2,_NonOverlappingLayout_rows,"f").length-1))})),this.rowHeight=Math.min(this.layoutHeight/(0,tslib_es6.Q_)(this,_NonOverlappingLayout_rows,"f").length,this.minHeight)}},{key:"getOffset",value:function getOffset(){return(0,tslib_es6.Q_)(this,_NonOverlappingLayout_rows,"f").length*this.rowHeight<this.layoutHeight?this.layoutHeight/2-(0,tslib_es6.Q_)(this,_NonOverlappingLayout_rows,"f").length*this.rowHeight/2:0}},{key:"getFeatureYPos",value:function getFeatureYPos(feature){var rowNumber=this.featuresMap.get(feature);return this.getOffset()+this.rowHeight*rowNumber+this.margin.top+this.margin.bottom}},{key:"getFeatureHeight",value:function getFeatureHeight(){return this.rowHeight-this.margin.top-this.margin.bottom}}]),NonOverlappingLayout}(DefaultLayout);_NonOverlappingLayout_rows=new WeakMap;__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var _templateObject,_NightingaleTrack_originalData,_NightingaleTrack_data,_NightingaleTrack_highlighted,NightingaleTrack_1,config={CHAIN:{name:"chain",label:"Chain",tooltip:"(aka mature region). This describes the extent of a polypeptide chain in the mature protein following processing",shape:"rectangle",color:"#CC9933"},TRANSIT:{name:"transit peptide",label:"Transit peptide",tooltip:"This describes the extent of a transit peptide",shape:"rectangle",color:"#009966"},INIT_MET:{name:"initiator methionine",label:"Initiator methionine",tooltip:"This indicates that the initiator methionine is cleaved from the mature protein",shape:"arrow",color:"#996633"},PROPEP:{name:"propeptide",label:"Propeptide",tooltip:"Part of a protein that is cleaved during maturation or activation",shape:"rectangle",color:"#99CCCC"},PEPTIDE:{name:"peptide",label:"Peptide",tooltip:"The position and length of an active peptide in the mature protein",shape:"rectangle",color:"#006699"},SIGNAL:{name:"signal peptide",label:"Signal peptide",tooltip:"N-terminal signal peptide",shape:"rectangle",color:"#CC0033"},HELIX:{name:"helix",label:"Helix",tooltip:"The positions of experimentally determined helical regions",shape:"rectangle",color:"#FF0066"},STRAND:{name:"strand",label:"Beta strand",tooltip:"The positions of experimentally determined beta strands",shape:"rectangle",color:"#FFCC00"},TURN:{name:"turn",label:"Turn",tooltip:"The positions of experimentally determined hydrogen-bonded turns",shape:"rectangle",color:"#0571AF"},DISULFID:{name:"disulfide bond",label:"Disulfide bond",tooltip:"The positions of cysteine residues participating in disulphide bonds",shape:"bridge",color:"#23B14D"},CROSSLNK:{name:"cross-link",label:"Cross-link",tooltip:"Covalent linkages of various types formed between two proteins or between two parts of the same protein",shape:"bridge",color:"#FF6600"},REGION:{name:"region of interest",label:"Region of interest",tooltip:"Regions in multifunctional enzymes or fusion proteins, or characteristics of a region, e.g., protein-protein interactions mediation",shape:"rectangle",color:"#B33E00"},COILED:{name:"coiled-coil region",label:"Coiled-coil region",tooltip:"Coiled coils are built by two or more alpha-helices that wind around each other to form a supercoil",shape:"rectangle",color:"#006699"},MOTIF:{name:"short sequence motif",label:"Short sequence motif",tooltip:"Short conserved sequence motif of biological significance",shape:"rectangle",color:"#402060"},REPEAT:{name:"repeat",label:"Repeat",tooltip:"Repeated sequence motifs or repeated domains within the protein",shape:"rectangle",color:"#9900FF"},CA_BIND:{name:"calcium-binding region",label:"Calcium-binding region",tooltip:"Calcium-binding regions, such as the EF-hand motif",shape:"rectangle",color:"#FF3399"},DNA_BIND:{name:"DNA-binding region",label:"DNA binding",tooltip:"DNA-binding domains such as AP2/ERF domain, the ETS domain, the Fork-Head domain, the HMG box and the Myb domain",shape:"rectangle",color:"#009933"},DOMAIN:{name:"other domain of interest",label:"Other domain of interest",tooltip:"Specific combination of secondary structures organized into a characteristic three-dimensional structure or fold",shape:"rectangle",color:"#9999FF"},ZN_FING:{name:"zinc finger region",label:"Zinc finger",tooltip:"Small, functional, independently folded domain that coordinates one or more zinc ions",shape:"rectangle",color:"#990066"},NP_BIND:{name:"nucleotide-binding region",label:"Nucleotide-binding region",tooltip:"(aka flavin-binding). Region in the protein which binds nucleotide phosphates",shape:"rectangle",color:"#FF9900"},METAL:{name:"metal ion-binding site",label:"Metal ion-binding site",tooltip:"Binding site for a metal ion",shape:"diamond",color:"#009900"},SITE:{name:"other site of interest",label:"Other site of interest",tooltip:"Any interesting single amino acid site on the sequence",shape:"chevron",color:"#660033"},BINDING:{name:"other binding site",label:"Other binding site",tooltip:"Binding site for any chemical group (co-enzyme, prosthetic group, etc.)",shape:"rectangle",color:"#catFace"},ACT_SITE:{name:"active site",label:"Active site",tooltip:"Amino acid(s) directly involved in the activity of an enzyme",shape:"circle",color:"#FF6666"},MOD_RES:{name:"Post-translationally modified residue",label:"Modified residue",tooltip:"Modified residues such as phosphorylation, acetylation, acylation, methylation",shape:"triangle",color:"#000066"},LIPID:{name:"lipid moiety-binding region",label:"Lipidation",tooltip:"Covalently attached lipid group(s)",shape:"wave",color:"#99CC33"},CARBOHYD:{name:"glycosylation site",label:"Glycosylation",tooltip:"Covalently attached glycan group(s)",shape:"hexagon",color:"#CC3366"},COMPBIAS:{name:"compositionally biased region",label:"Compositionally biased region",tooltip:"Position of regions of compositional bias within the protein and the particular amino acids that are over-represented within those regions",shape:"rectangle",color:"#FF3366"},CONFLICT:{name:"sequence conflict",label:"Sequence conflict",tooltip:"Sequence discrepancies of unknown origin",shape:"rectangle",color:"#6633CC"},NON_CONS:{name:"non-consecutive residues",label:"Non-adjacent residues",tooltip:"Indicates that two residues in a sequence are not consecutive and that there is an undetermined number of unsequenced residues between them",shape:"doubleBar",color:"#FF0033"},NON_TER:{name:"non-terminal residue",label:"Non-terminal residue",tooltip:"The sequence is incomplete. The residue is not the terminal residue of the complete protein",shape:"doubleBar",color:"#339933"},UNSURE:{name:"unsure residue",label:"Sequence uncertainty",tooltip:"Regions of a sequence for which the authors are unsure about the sequence assignment",shape:"rectangle",color:"#33FF00"},NON_STD:{name:"non-standard amino acid",label:"Non-standard residue",tooltip:"Non-standard amino acids (selenocysteine and pyrrolysine)",shape:"pentagon",color:"#330066"},MUTAGEN:{name:"mutagenesis site",label:"Mutagenesis",tooltip:"Site which has been experimentally altered by mutagenesis",shape:"rectangle",color:"#FF9900"},TOPO_DOM:{name:"topological domain",label:"Topological domain",tooltip:"Location of non-membrane regions of membrane-spanning proteins",shape:"rectangle",color:"#CC0000"},TRANSMEM:{name:"transmembrane region",label:"Transmembrane",tooltip:"Extent of a membrane-spanning region",shape:"rectangle",color:"#CC00CC"},INTRAMEM:{name:"intramembrane region",label:"Intramembrane",tooltip:"Extent of a region located in a membrane without crossing it",shape:"rectangle",color:"#0000CC"},VAR_SEQ:{name:"splice variant",label:"Splice variant",tooltip:"",shape:"rectangle",color:"#CC11CC"},VARIANT:{name:"sequence variant",label:"Natural variant",tooltip:"Natural variant of the protein, including polymorphisms, variations between strains, isolates or cultivars, disease-associated mutations and RNA editing events",shape:"circle",color:"black"},UNIQUE:{name:"unique",label:"Unique peptide",tooltip:"",shape:"rectangle",color:"#fc3133"},NON_UNIQUE:{name:"non-unique",label:"Non-unique peptide",tooltip:"",shape:"rectangle",color:"#8585fc"},ANTIGEN:{name:"antigen",label:"Antibody binding sequences",tooltip:"",shape:"rectangle",color:"#996699"},PDBE_COVER:{name:"pdbe coverage",label:"PDBe 3D structure coverage",tooltip:"",shape:"rectangle",color:"#669966"}},getShapeByType=function getShapeByType(type){if(type.toUpperCase()in config)return config[type.toUpperCase()].shape;var info=Object.values(config).find((function(typeInfo){return typeInfo.name.toUpperCase()===type.toUpperCase()}));return info?info.shape:"rectangle"},getColorByType=function getColorByType(type){if(type.toUpperCase()in config)return config[type.toUpperCase()].color;var info=Object.values(config).find((function(typeInfo){return typeInfo.name.toUpperCase()===type.toUpperCase()}));return info||console.log(type),info?info.color:"black"};function nightingale_track_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function nightingale_track_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=nightingale_track_getPrototypeOf(object)););return object}function nightingale_track_setPrototypeOf(o,p){return nightingale_track_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},nightingale_track_setPrototypeOf(o,p)}function nightingale_track_createSuper(Derived){var hasNativeReflectConstruct=function nightingale_track_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=nightingale_track_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=nightingale_track_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return nightingale_track_possibleConstructorReturn(this,result)}}function nightingale_track_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return nightingale_track_assertThisInitialized(self)}function nightingale_track_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function nightingale_track_getPrototypeOf(o){return nightingale_track_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},nightingale_track_getPrototypeOf(o)}var ATTRIBUTES_THAT_TRIGGER_REFRESH=["length","width","height"],nightingale_track_NightingaleTrack=NightingaleTrack_1=function(_withManager){!function nightingale_track_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&nightingale_track_setPrototypeOf(subClass,superClass)}(NightingaleTrack,_withManager);var _super=nightingale_track_createSuper(NightingaleTrack);function NightingaleTrack(){var _this;return nightingale_track_classCallCheck(this,NightingaleTrack),(_this=_super.apply(this,arguments)).featureShape=new FeatureShape,_NightingaleTrack_originalData.set(nightingale_track_assertThisInitialized(_this),[]),_NightingaleTrack_data.set(nightingale_track_assertThisInitialized(_this),[]),_this.filters=null,_NightingaleTrack_highlighted.set(nightingale_track_assertThisInitialized(_this),void 0),_this}return function nightingale_track_createClass(Constructor,protoProps,staticProps){return protoProps&&nightingale_track_defineProperties(Constructor.prototype,protoProps),staticProps&&nightingale_track_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleTrack,[{key:"getLayout",value:function getLayout(){return"non-overlapping"===String(this.layout).toLowerCase()?new NonOverlappingLayout({layoutHeight:this.height}):new DefaultLayout({layoutHeight:this.height,margin:{top:this["margin-top"],bottom:this["margin-bottom"],left:this["margin-left"],right:this["margin-right"]}})}},{key:"connectedCallback",value:function connectedCallback(){_get(nightingale_track_getPrototypeOf(NightingaleTrack.prototype),"connectedCallback",this).call(this),this.layoutObj=this.getLayout(),(0,tslib_es6.Q_)(this,_NightingaleTrack_data,"f")&&this.createTrack()}},{key:"processData",value:function processData(data){(0,tslib_es6.YH)(this,_NightingaleTrack_originalData,NightingaleTrack_1.normalizeLocations(data),"f")}},{key:"data",get:function get(){return(0,tslib_es6.Q_)(this,_NightingaleTrack_data,"f")},set:function set(data){this.processData(data),this.applyFilters(),this.layoutObj=this.getLayout(),this.createTrack()}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){_get(nightingale_track_getPrototypeOf(NightingaleTrack.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue),(ATTRIBUTES_THAT_TRIGGER_REFRESH.includes(name)||name.startsWith("margin-"))&&(this.applyFilters(),this.layoutObj=this.getLayout(),this.createTrack())}},{key:"getFeatureColor",value:function getFeatureColor(f){var _a,_b,_c;return f.color?f.color||"gray":(null===(_a=null==f?void 0:f.feature)||void 0===_a?void 0:_a.color)?(null===(_b=null==f?void 0:f.feature)||void 0===_b?void 0:_b.color)||"gray":this.color?this.color:f.type?getColorByType(f.type):(null===(_c=null==f?void 0:f.feature)||void 0===_c?void 0:_c.type)?getColorByType(f.feature.type):"gray"}},{key:"getFeatureFillColor",value:function getFeatureFillColor(f){var _a;return f.fill?f.fill||"gray":(null===(_a=null==f?void 0:f.feature)||void 0===_a?void 0:_a.fill)?f.feature.fill||"gray":this.getFeatureColor(f)}},{key:"getShape",value:function getShape(f){var _a,_b;return f.shape?f.shape||"rectangle":(null===(_a=null==f?void 0:f.feature)||void 0===_a?void 0:_a.shape)?f.feature.shape||"rectangle":this.shape?this.shape:f.type?getShapeByType(f.type):(null===(_b=f.feature)||void 0===_b?void 0:_b.type)?getShapeByType(f.feature.type):"rectangle"}},{key:"createTrack",value:function createTrack(){var _a,_b;(0,tslib_es6.Q_)(this,_NightingaleTrack_data,"f")&&(null===(_a=this.layoutObj)||void 0===_a||_a.init((0,tslib_es6.Q_)(this,_NightingaleTrack_data,"f")),null===(_b=this.svg)||void 0===_b||_b.selectAll("g").remove(),this.svg=(0,src.Ys)(this).selectAll("svg").attr("width",this.width).attr("height",this.height),this.svg&&(this.seqG=this.svg.append("g").attr("class","sequence-features"),this.createFeatures(),(0,tslib_es6.YH)(this,_NightingaleTrack_highlighted,this.svg.append("g").attr("class","highlighted"),"f"),this.margins=this.svg.append("g").attr("class","margin")))}},{key:"createFeatures",value:function createFeatures(){var _a,_this2=this;if(this.seqG){var fragmentGroup=this.seqG.selectAll("g.feature-group").data((0,tslib_es6.Q_)(this,_NightingaleTrack_data,"f")).enter().append("g").attr("class","feature-group").attr("id",(function(d){return"g_"+d.accession})).selectAll("g.location-group").data((function(d){return(d.locations||[]).map((function(loc){return Object.assign({},loc,{feature:d})}))})).enter().append("g").attr("class","location-group").selectAll("g.fragment-group").data((function(d){return d.fragments.map((function(loc){return Object.assign({},loc,{feature:d.feature})}))})).enter().append("g").attr("class","fragment-group");fragmentGroup.append("path").attr("class",(function(f){return _this2.getShape(f)+" feature"})).attr("d",(function(f){var _a;return _this2.featureShape.getFeatureShape(_this2.getSingleBaseWidth(),(null===(_a=_this2.layoutObj)||void 0===_a?void 0:_a.getFeatureHeight())||0,f.end?f.end-f.start+1:1,_this2.getShape(f))})).attr("transform",(function(f){var _a;return"translate("+_this2.getXFromSeqPosition(f.start)+","+((null===(_a=_this2.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0)+")"})).attr("fill",(function(f){return _this2.getFeatureFillColor(f)})).attr("stroke",(function(f){return _this2.getFeatureColor(f)})).style("fill-opacity",(function(_ref){var feature=_ref.feature;return feature.opacity?feature.opacity:.9})).style("stroke-opacity",(function(_ref2){var feature=_ref2.feature;return feature.opacity?feature.opacity:.9})),fragmentGroup.append("rect").attr("class","outer-rectangle feature").attr("width",(function(f){return _this2.getSingleBaseWidth()*(f.end?f.end-f.start+1:1)})).attr("height",(null===(_a=this.layoutObj)||void 0===_a?void 0:_a.getFeatureHeight())||0).attr("transform",(function(f){var _a;return"translate("+_this2.getXFromSeqPosition(f.start)+","+((null===(_a=_this2.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0)+")"})).attr("fill","transparent").attr("stroke","transparent").call(nightingale_new_core_src.sQ,this)}}},{key:"applyFilters",value:function applyFilters(){(this.filters||[]).length<=0&&(0,tslib_es6.YH)(this,_NightingaleTrack_data,(0,tslib_es6.Q_)(this,_NightingaleTrack_originalData,"f"),"f")}},{key:"refresh",value:function refresh(){var _a,_this3=this;if(this.xScale&&this.seqG){var fragmentG=this.seqG.selectAll("g.fragment-group").data((0,tslib_es6.Q_)(this,_NightingaleTrack_data,"f").reduce((function(acc,f){return acc.concat((f.locations||[]).reduce((function(acc2,e){return acc2.concat(e.fragments.map((function(loc){return Object.assign({},loc,{feature:f})})))}),[]))}),[]));fragmentG.selectAll("path.feature").attr("d",(function(f){var _a;return _this3.featureShape.getFeatureShape(_this3.getSingleBaseWidth(),(null===(_a=_this3.layoutObj)||void 0===_a?void 0:_a.getFeatureHeight())||0,(null==f?void 0:f.end)&&(null==f?void 0:f.start)?f.end-f.start+1:1,_this3.getShape(f))})).attr("transform",(function(f){var _a;return"translate("+_this3.getXFromSeqPosition(f.start||0)+","+(null===(_a=_this3.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.feature))+")"})),fragmentG.selectAll("rect.outer-rectangle").attr("width",(function(f){return _this3.getSingleBaseWidth()*((null==f?void 0:f.end)&&(null==f?void 0:f.start)?f.end-f.start+1:1)})).attr("height",(null===(_a=this.layoutObj)||void 0===_a?void 0:_a.getFeatureHeight())||0).attr("transform",(function(f){var _a;return"translate("+_this3.getXFromSeqPosition(f.start||0)+","+((null===(_a=_this3.layoutObj)||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0)+")"}))}this.updateHighlight(),this.renderMarginOnGroup(this.margins)}},{key:"updateHighlight",value:function updateHighlight(){var _this4=this;if((0,tslib_es6.Q_)(this,_NightingaleTrack_highlighted,"f")){var highlighs=(0,tslib_es6.Q_)(this,_NightingaleTrack_highlighted,"f").selectAll("rect").data(this.highlightedRegion.segments);highlighs.enter().append("rect").style("pointer-events","none").merge(highlighs).attr("fill",this["highlight-color"]).attr("height",this.height).attr("x",(function(d){return _this4.getXFromSeqPosition(d.start)})).attr("width",(function(d){return _this4.getSingleBaseWidth()*(d.end-d.start+1)})),highlighs.exit().remove()}}},{key:"zoomRefreshed",value:function zoomRefreshed(){this.refresh()}},{key:"firstUpdated",value:function firstUpdated(){this.createTrack()}},{key:"render",value:function render(){return(0,lit.dy)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['<svg class="container"></svg>'])))}}],[{key:"normalizeLocations",value:function normalizeLocations(data){return data.map((function(obj){var locations=obj.locations,start=obj.start,end=obj.end;return locations?obj:Object.assign(obj,{locations:[{fragments:[{start,end}]}]})}))}}]),NightingaleTrack}((0,nightingale_new_core_src.YD)((0,nightingale_new_core_src._5)((0,nightingale_new_core_src.tG)((0,nightingale_new_core_src.vl)((0,nightingale_new_core_src.Ds)((0,nightingale_new_core_src.U6)((0,nightingale_new_core_src.Rn)(nightingale_new_core_src.ZP))))))));_NightingaleTrack_originalData=new WeakMap,_NightingaleTrack_data=new WeakMap,_NightingaleTrack_highlighted=new WeakMap,(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],nightingale_track_NightingaleTrack.prototype,"color",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],nightingale_track_NightingaleTrack.prototype,"shape",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],nightingale_track_NightingaleTrack.prototype,"layout",void 0),nightingale_track_NightingaleTrack=NightingaleTrack_1=(0,tslib_es6.gn)([(0,nightingale_new_core_src.y_)("nightingale-track")],nightingale_track_NightingaleTrack)},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/index.js")},"./stories/00.Introduction.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>_00_Introduction_stories});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js");const nightingale_logo_namespaceObject=__webpack_require__.p+"static/media/nightingale_logo.17542523.svg";var _excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,esm.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,esm.kt)(dist_esm.h_,{title:"Introduction",mdxType:"Meta"}),(0,esm.kt)("div",{class:"centered"},(0,esm.kt)("img",{src:nightingale_logo_namespaceObject,alt:"Image alt"}),(0,esm.kt)("h1",null,"Nightingale")),(0,esm.kt)("hr",null),(0,esm.kt)("p",null,"Nightingale is a library of re-usable data visualisation Web Components, which can\nbe used to display protein sequence features, variants, interaction data,\n3D structure, etc. These components are flexible, allowing you to easily view multiple\ndata sources (UniProt API, your own resource, etc) within the same context."),(0,esm.kt)("h2",null,"What's new in version 4.0?"),(0,esm.kt)("p",null,"We are working on migrating all the components, using ",(0,esm.kt)("a",{parentName:"p",href:"https://lit.dev/"},"Lit")," and\n",(0,esm.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/"},"TypeScript")," as our codebase."),(0,esm.kt)("p",null,"All the components are now using the prefix ",(0,esm.kt)("inlineCode",{parentName:"p"},"nightingale-")," on their names, so if you\nare using the ",(0,esm.kt)("inlineCode",{parentName:"p"},"protvista-*")," means you are still on version ",(0,esm.kt)("inlineCode",{parentName:"p"},"<=3"),"."),(0,esm.kt)("p",null,"Attribute names now follow the ",(0,esm.kt)("a",{parentName:"p",href:"https://en.wiktionary.org/wiki/kebab_case"},"kebab-case"),"\nconvention, so there is a chance that if you are upgrading from previous versions,\nyou need to change some of the attributes.\nPlease check the Readme file for each component for details in valid attributes."))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Introduction",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,esm.kt)(dist_esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,esm.kt)(MDXContent,null))}});const _00_Introduction_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/01.Manager/NightingaleManager.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>NightingaleManager_stories});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js");var _excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,esm.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,esm.kt)(dist_esm.h_,{title:"Components/Manager/Readme",mdxType:"Meta"}),(0,esm.kt)(dist_esm.dk,{mdxType:"Description"},'# nightingale-manager\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-manager.svg)](https://www.npmjs.com/package/nightingale-manager)\n\nIt is a container for all the tracks and other inner components (e.g. nightingale-navigation).\n\nThis component is in charge of capturing the events that its descendent trigger, and adjust registered element attributes accordingly.\n\nThe children should fire events of the type change, and the detail object should contain the attributes `type` and `value`.\n\nAdditionally, there are a set of pre-defined attributes which can be used with this component and will be propagated to descendents: `display-start`, `display-end`, `highlight` and `length`. This is useful if you want to control things like zoom level from outside, for instance directly from your application.\n\nSee it running [Here](https://ebi-webcomponents.github.io/nightingale/#/manager).\n\n## Usage\n\n```html\n<nightingale-manager reflected-attributes="attr1 attr2"></nightingale-manager>\n```\n\nHere is an example of how the child components should fire the events:\n\n```javascript\nthis.dispatchEvent(\n  new CustomEvent("change", {\n    detail: {\n      value: "New value",\n      type: "attr1",\n    },\n  })\n);\n```\n\n## API Reference\n\n### Properties\n\n#### `register(element: NightingaleElement)`: register an element with `nightingale-manager`. Only registered elements get their attributes updated.\n\n#### `unregister(element: NightingaleElement)`: remove an element from the list of registered elements.\n\n### Attributes\n\n#### `reflected-attributes: string`: comma-separated list of attributes which should be reflected on the registered child components.\n\n#### `display-start?: number`\n\n#### `display-end?: number`\n\n#### `highlight?: start:end,start:end,...`\n\n#### `length?: number`\n\nList of attributes that this component will be propagating.\n'))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Components/Manager/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,esm.kt)(dist_esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,esm.kt)(MDXContent,null))}});const NightingaleManager_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/02.Navigation/NightingaleNavigation.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>NightingaleNavigation_stories});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js");var _excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,esm.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,esm.kt)(dist_esm.h_,{title:"Components/Navigation/Readme",mdxType:"Meta"}),(0,esm.kt)(dist_esm.dk,{mdxType:"Description"},'# nightingale-navigation\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-navigation.svg)](https://www.npmjs.com/package/nightingale-navigation)\n\nThis custom element can be used to zoom and navigate along the sequence displayed in Nightingale. When a user interacts with the component, a `change` event is triggered which <nightingale-manager> uses to change `display-start` and `display-end` values on relevant custom elements.\n\n[Demo](https://ebi-webcomponents.github.io/nightingale/#/navigation)\n\n## Usage\n\n```html\n<nightingale-navigation\n  length="456"\n  display-start="143"\n  display-end="400"\n  highlightStart="23"\n  highlightEnd="45"\n  rulerstart="50"\n/>\n```\n\n## API Reference\n\n#### `length: number`\n\nThe protein or nucleic acid sequence length.\n\n#### `display-start: number (optional)`\n\nThe start position of the selected region.\n\n#### `display-end: number (optional)`\n\nThe end position of the selected region.\n\n#### `highlightStart: number (optional)`\n\nThe start position of the highlighted region.\n\n#### `highlightEnd: number (optional)`\n\nThe end position of the highlighted region.\n\n#### `rulerstart: number (optional)`\n\nThe starting coordinate of the ruler.\n\n#### also see [nightingale-zoomable](https://github.com/ebi-webcomponents/nightingale/blob/master/packages/nightingale-zoomable/README.md#properties)\n'))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Components/Navigation/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,esm.kt)(dist_esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,esm.kt)(MDXContent,null))}});const NightingaleNavigation_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/03.Sequence/NightingaleSequence.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>NightingaleSequence_stories});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js");var _excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,esm.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,esm.kt)(dist_esm.h_,{title:"Components/Sequence/Readme",mdxType:"Meta"}),(0,esm.kt)(dist_esm.dk,{mdxType:"Description"},'# nightingale-sequence\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-sequence.svg)](https://www.npmjs.com/package/nightingale-sequence)\n\nThis custom element displays the sequence in the selected region if the zoom level allows it, otherwise it displays the axis legend of the selected region. As it inherits from <nightingale-zoomable>, it supports highlighting.\n\n[Demo](https://ebi-webcomponents.github.io/nightingale/#/sequence)\n\n## Usage\n\n#### Setting sequence through property\n\n```html\n<nightingale-sequence length="456" />\n```\n\n```\nconst nightingaleSequence = document.querySelectAll(\'#my-nightingale-sequence-id\');\nnightingaleSequence.sequence = proteinSequence;\n```\n\n#### Setting sequence through attribute\n\n```html\n<nightingale-sequence length="456" sequence="RFQAEGSLKK..." />\n```\n\n## API Reference\n\n### Properties\n\n#### `sequence: string`\n\nThe sequence to display\n\n#### `length: number`\n\nThe protein or nucleic acid sequence length.\n\n#### also see [nightingale-zoomable](https://github.com/ebi-webcomponents/nightingale/blob/master/packages/nightingale-zoomable/README.md#properties)\n'))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Components/Sequence/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,esm.kt)(dist_esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,esm.kt)(MDXContent,null))}});const NightingaleSequence_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/04.ColouredSequence/NightingaleColouredSequence.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>NightingaleColouredSequence_stories});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js");var _excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,esm.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,esm.kt)(dist_esm.h_,{title:"Components/Coloured Sequence/Readme",mdxType:"Meta"}),(0,esm.kt)(dist_esm.dk,{mdxType:"Description"},'# nightingale-coloured-sequence\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-coloured-sequence.svg)](https://www.npmjs.com/package/nightingale-coloured-sequence)\n\nUse this component to paint a track that uses the sequence to paint a color depending on each residue.\n\nUseful to display hydrophobicity, isoelectric points, or any feature where a color can represent a residue.\n\n## Usage\n\n```html\n<nightingale-coloured-sequence length="770" scale="hydrophobicity-scale" />\n```\n\n## API Reference\n\n### Properties\n\n#### `data: string`\n\nThe sequence to use for the track.\n\n#### `scale: string`\n\nThe scale attribute is the mapping between a residue and a numeric value.\n\nThe value of this parameter could be either one of the predifined scales, or a custom scale indicating the values.\n\nThe list of predefined scales:\n\n- hydrophobicity-scale\n- hydrophobicity-interface-scale\n- hydrophobicity-octanol-scale\n- isoelectric-point-scale\n\nThe format for the custom scale is a comma separated list of pairs. Where each pair is a [KEY]:[VALUE].\nFor example:\n\n`A:0.5,M:-3,P:3`\n\nIf a residue in the sequence is not defined in the used scale, the value used will be 0.\n\n#### `color_range: string`\n\nThe color range attribute allow to define the colors to use when painting the values.\n\nThe component will use this range to create a scale that can be interpolated.\n\nThe default color_range is `#ffdd00:-2,#0000FF:2` indicating that a value of `-2` should be painted Yellow (`#ffdd00`) and\na value of `2` should be blue (`#0000FF`). And values in between will be interpolated.\n\nThe format requires at least 2 points, and if more than 2 are given, the interpolation would be calculated in between segments.\nFor example, `#ffdd00:-2,white:0,#0000FF:2` where `white` is now representing the value`0`.\n\nNotice that HTML color names are also supported, as in the example above.\n\n#### `start: number (optional)`\n\nThe start position of the selected region.\n\n#### `end: number (optional)`\n\nThe end position of the selected region.\n\n#### `highlight: string (optional)`\n\nA comma separated list of regions to highlight.\n\nEach region follows the format: `[start]:[end]`, where both `[start]` and `[end]` are optional numbers.\n\n### Events\n\n#### Listens to\n\n--\n\n#### Emits\n\n`change` event with highlight start and end in the payload\n'))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Components/Coloured Sequence/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,esm.kt)(dist_esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,esm.kt)(MDXContent,null))}});const NightingaleColouredSequence_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/05.Track/NightingaleTrack.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>NightingaleTrack_stories});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js");var _excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,esm.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,esm.kt)(dist_esm.h_,{title:"Components/NightingaleTrack/Readme",mdxType:"Meta"}),(0,esm.kt)(dist_esm.dk,{mdxType:"Description"},"# nightingale-track\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-track.svg)](https://www.npmjs.com/package/nightingale-track)\n\nThe `nightingale-track` component is used to display protein features. These features have `start` and `end` positions (these can be the same if the feature only spans one amino-acid), a specific shape (rectangle is the default) and a colour. Features are passed through the `data` property. You can specify shapes and colours at an instance level (through a property) or individually in the feature `data` (see `data` below). In order to establish the scale, it is necessary to set the `length` property (length of the protein sequence in amino-acids).\n\nAs `nightingale-track` inherits from `nightingale-zoomable`, it will respond to zooming changes, highlight events and emit events when interacting with features (helpful if you want to display tooltips).\n\nLoading data can be done directly through the `data` property, or through the use of a `load` event emitted by one of `nightingale-track`'s children (e.g. a data adapter with `data-loader`).\n\nThere are two types of display available for `nightingale-track`:\n\n- overlapping will display all the features on one single line. This means that if a feature overlaps another one, it will be indistinguishable. This layout can be useful to display an overview, or when the data is very dense.\n- non-overlapping will calculate the best vertical positions for each feature so that they don't overlap.\n\n[Demo](https://ebi-webcomponents.github.io/nightingale/#/track)\n\n## Usage\n\n```html\n<nightingale-track length=\"456\" />\n```\n\n#### Setting the data through property\n\n```\nconst track = document.querySelector('#my-track-id');\ntrack.data = myDataObject\n```\n\n#### Setting data through &lt;data-loader&gt;\n\n```\n<nightingale-track length=\"770\">\n    <nightingale-feature-adapter id=\"adapter1\">\n        <data-loader>\n          <source src=\"https://www.ebi.ac.uk/proteins/api/features/P05067?categories=PTM\" />\n        </data-loader>\n    </nightingale-feature-adapter>\n</nightingale-track>\n```\n\n## API Reference\n\n### Properties\n\n#### `length: number`\n\nThe protein or nucleic acid sequence length.\n\n#### `data: Array`\n\nArray items take the following shape:\n\n```javascript\n{\n    accession: String,\n    start: Number,\n    end: Number,\n    color?: String,\n    shape?: rectangle|bridge|diamond|chevron|catFace|triangle|wave|hexagon|pentagon|circle|arrow|doubleBar,\n    tooltipContent?: String\n    locations: [\n        {\n            fragments: [\n                {\n                    start: Number,\n                    end: Number\n                }\n            ]\n        }\n    ]\n}\n```\n\n**Note**: `locations` is an alternative to `start`-`stop` attributes, that expresses that a feature can appear in several locations, and also supports the idea of discontinuous features, by allowing to have `fragments`.\n\nSo for example a single continuous feature, that only appears once can be represented in 2 ways. The classic `{accession:'X', start:2, end:4}` or a more verbose version: `{accession:'X', locations: [{fragments: [{start:2, end:4}]}]}` an both should generate a track like this:\n\n```\n-XXX------\n```\n\nIf the same feature appears in 2 places in the sequence, it can be represented using `locations`:\n\n```javascript\n{\n    accession: 'Y',\n    locations: [\n        {fragments: [{start:2, end:4}]},\n        {fragments: [{start:7, end:9}]}\n    ]\n}\n```\n\nTo generate a track like\n\n```\n-YYY--YYY-\n```\n\nFinally a feature can also be discontinuous, to repesent this in our data we use `fragments`:\n\n```javascript\n{\n    accession: 'Z',\n    locations: [\n        {fragments: [\n            {start:2, end:4},\n            {start:7, end:9}]\n        }\n    ]\n}\n```\n\nThis expresses that the same instance of the feature Z is split in 2 fragments, from 2 to 4 and from 7 to 9. Which could be represented as\n\n```\n-ZZZ==ZZZ-\n```\n\n#### `layout?: overlapping(default)|non-overlapping(optional)`\n\nThe track layout. Non-overlapping uses a bumping algorhithm to make sure none of the features overlapp.\n\n#### `shape?: see above`\n\nShape of all features within the track\n\n#### `color?: see above`\n\nColour of all features within the track\n\n#### also see [nightingale-zoomable](https://github.com/ebi-webcomponents/nightingale/blob/master/packages/nightingale-zoomable/README.md#properties)\n"))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Components/NightingaleTrack/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,esm.kt)(dist_esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,esm.kt)(MDXContent,null))}});const NightingaleTrack_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/06.InterProTrack/NightingaleInterProTrack.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>NightingaleInterProTrack_stories});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js");var _excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,esm.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,esm.kt)(dist_esm.h_,{title:"Components/InterPro Track/Readme",mdxType:"Meta"}),(0,esm.kt)(dist_esm.dk,{mdxType:"Description"},'# nightingale-interpro-track\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-interpro-track.svg)](https://www.npmjs.com/package/nightingale-interpro--track)\n\nInterpro adpation of the track\n\n## Usage\n\n```html\n<nightingale-interpro-track\n  length="456"\n  start="34"\n  end="400"\n></nightingale-interpro-track>\n```\n\n## API Reference\n\n### Properties\n\n#### `length: number`\n\nThe protein or nucleic acid sequence length.\n\n#### `start: number (optional)`\n\nThe start position of the selected region.\n\n#### `end: number (optional)`\n\nThe end position of the selected region.\n\n#### `highlight: string (optional)`\n\nA comma separated list of regions to highlight.\n\nEach region follows the format: `[start]:[end]`, where both `[start]` and `[end]` are optional numbers.\n\n### Events\n'))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Components/InterPro Track/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,esm.kt)(dist_esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,esm.kt)(MDXContent,null))}});const NightingaleInterProTrack_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/07.LineGraph/NightingaleLinegraphTrack.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>NightingaleLinegraphTrack_stories});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js");var _excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,esm.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,esm.kt)(dist_esm.h_,{title:"Components/Linegraph Track/Readme",mdxType:"Meta"}),(0,esm.kt)(dist_esm.dk,{mdxType:"Description"},'# nightingale-linegraph-track\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-linegraph-track.svg)](https://www.npmjs.com/package/nightingale-linegraph-track)\n\nNightingale line graph track component is used to display multiple line graphs (either linear or d3 curves).\n\n## Usage\n\n- Include the componet in your HTML:\n\n  ```html\n  <nightingale-linegraph-track\n    id="track"\n    width="600"\n    length="5"\n  ></nightingale-linegraph-track>\n  ```\n\n- Set the `data` in the component:\n\n  ```javascript\n  await customElements.whenDefined("nightingale-linegraph-track");\n  const track = document.getElementById("track");\n  if (track) {\n    (track as any).data = tinyData;\n  }\n  ```\n\n## API Reference\n\n### Properties\n\n#### `data: Array`\n\nThe data expects the following structure.\n\n```javascript\n{\n    name: String,\n    range:[min, max],\n    colour?: Line colour,\n        (Colour will be assigned if not provided. Use "none" for no line colour)\n    fill?: Create area plot using given fill colour (default "none"),\n    lineCurve?: \'curveLinear\'(default)|\'curveBasis\'|\'curveCardinal\'|\'curveStep\'|\'curveNatural\',\n        (More curves - https://github.com/d3/d3-shape/blob/v2.0.0/README.md#curves)\n    values: [\n        {\n            position: Number,\n            value: Number\n        }\n    ]\n}\n```\n\n### Other attributes and parameters\n\nThis component inherits from `NightingaleElement`.\n\nThe component implements the following mixins: `withManager`, `withZoom`, `withResizable`, `withMargin`, `withPosition`, `withDimensions`, `withHighlight`\n'),(0,esm.kt)("hr",null),(0,esm.kt)("h2",null,"Mixins"),(0,esm.kt)("p",null,"This component implement the following mixins, and therefore it includes their attributes and properties."),(0,esm.kt)(dist_esm.dk,{mdxType:"Description"},"#### withDimensions\n\nIt adds `width` and `height` as parameters.\n\n##### Parameters\n\n###### `height: number (default 100)`\n\nThe height of the track as a numeric value in pixels.\n\n###### `width: number (default 800)`\n\nThe width of the track as a numeric value in pixels.\n"),(0,esm.kt)("h2",null,"Parent Class"),(0,esm.kt)(dist_esm.dk,{mdxType:"Description"},"### NightingaleElement\n\nThe base element for any Nightingale component. Inherits from [LitElement](https://lit.dev/docs/api/LitElement/).\n\nAny logic that should be shared for all the components should be included here. Currently the only thing is doing, is setting the render root of the components in the element itself, instead of shadowDOM, the Lit element default.\n"))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Components/Linegraph Track/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,esm.kt)(dist_esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,esm.kt)(MDXContent,null))}});const NightingaleLinegraphTrack_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./01.Manager/NightingaleManager.stories.ts":"./stories/01.Manager/NightingaleManager.stories.ts","./02.Navigation/NightingaleNavigation.stories.ts":"./stories/02.Navigation/NightingaleNavigation.stories.ts","./03.Sequence/NightingaleSequence.stories.ts":"./stories/03.Sequence/NightingaleSequence.stories.ts","./04.ColouredSequence/NightingaleColouredSequence.stories.ts":"./stories/04.ColouredSequence/NightingaleColouredSequence.stories.ts","./05.Track/NightingaleTrack.stories.ts":"./stories/05.Track/NightingaleTrack.stories.ts","./06.InterProTrack/NightingaleInterProTrack.stories.ts":"./stories/06.InterProTrack/NightingaleInterProTrack.stories.ts","./07.LineGraph/NightingaleLinegraphTrack.stories.ts":"./stories/07.LineGraph/NightingaleLinegraphTrack.stories.ts"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./00.Introduction.stories.mdx":"./stories/00.Introduction.stories.mdx","./01.Manager/NightingaleManager.stories.mdx":"./stories/01.Manager/NightingaleManager.stories.mdx","./02.Navigation/NightingaleNavigation.stories.mdx":"./stories/02.Navigation/NightingaleNavigation.stories.mdx","./03.Sequence/NightingaleSequence.stories.mdx":"./stories/03.Sequence/NightingaleSequence.stories.mdx","./04.ColouredSequence/NightingaleColouredSequence.stories.mdx":"./stories/04.ColouredSequence/NightingaleColouredSequence.stories.mdx","./05.Track/NightingaleTrack.stories.mdx":"./stories/05.Track/NightingaleTrack.stories.mdx","./06.InterProTrack/NightingaleInterProTrack.stories.mdx":"./stories/06.InterProTrack/NightingaleInterProTrack.stories.mdx","./07.LineGraph/NightingaleLinegraphTrack.stories.mdx":"./stories/07.LineGraph/NightingaleLinegraphTrack.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"?4f7e":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/index.js").configure)([__webpack_require__("./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)},"./packages/nightingale-interpro-track/tests/mockData/interpro-IPR016039.json":module=>{"use strict";module.exports=JSON.parse('[{"accession":"IPR016039","name":"Thiolase-like","source_database":"interpro","locations":[{"fragments":[{"start":5,"end":389}],"model_acc":null,"seq_feature":null},{"fragments":[{"start":400,"end":470}],"model_acc":null,"seq_feature":null}],"color":"#84862d","type":"homologous_superfamily","k":0}]')},"./packages/nightingale-interpro-track/tests/mockData/interpro-contributors.json":module=>{"use strict";module.exports=JSON.parse('[{"accession":"SSF53901","name":"Thiolase-like","source_database":"ssf","type":"homologous_superfamily","locations":[{"fragments":[{"start":5,"end":262}],"model_acc":"0050445","seq_feature":null},{"fragments":[{"start":266,"end":389}],"model_acc":"0049940","seq_feature":null}],"color":"#bbd279","k":0,"expanded":true},{"accession":"G3DSA:3.40.47.10","name":"G3DSA:3.40.47.10","source_database":"cathgene3d","type":"homologous_superfamily","locations":[{"fragments":[{"start":9,"end":130},{"start":188,"end":260}],"model_acc":"1wdkC01","seq_feature":null},{"fragments":[{"start":138,"end":180},{"start":272,"end":384}],"model_acc":"1wdkC02","seq_feature":null}],"color":"#87c59c","k":1,"expanded":true}]')},"./packages/nightingale-interpro-track/tests/mockData/interpro-residues.json":module=>{"use strict";module.exports=JSON.parse('[{"accession":"cd01991","name":"Asn_Synthase_B_C","source_database":"cdd","locations":[{"description":"Molecular Tunnel","fragments":[{"residues":"L","start":262,"end":262},{"residues":"L","start":263,"end":263},{"residues":"S","start":264,"end":264},{"residues":"A","start":290,"end":290},{"residues":"G","start":291,"end":291},{"residues":"F","start":292,"end":292},{"residues":"V","start":350,"end":350},{"residues":"T","start":363,"end":363},{"residues":"G","start":364,"end":364},{"residues":"D","start":365,"end":365}]},{"description":"Ligand Binding Site","fragments":[{"residues":"L","start":262,"end":262},{"residues":"L","start":263,"end":263},{"residues":"S","start":264,"end":264},{"residues":"A","start":290,"end":290},{"residues":"G","start":291,"end":291},{"residues":"F","start":292,"end":292},{"residues":"V","start":350,"end":350},{"residues":"T","start":363,"end":363},{"residues":"G","start":364,"end":364},{"residues":"D","start":365,"end":365}]}]}]')},"./packages/nightingale-linegraph-track/tests/mockData/line-graph-chart.json":module=>{"use strict";module.exports=JSON.parse('[{"name":"chart1","colour":"#0000ee","fill":"#5555ee","range":[0,50],"values":[{"position":41,"value":20},{"position":42,"value":40},{"position":43,"value":10},{"position":44,"value":0},{"position":45,"value":49},{"position":46,"value":34},{"position":47,"value":17},{"position":48,"value":20},{"position":49,"value":40},{"position":50,"value":10},{"position":51,"value":0},{"position":52,"value":49},{"position":53,"value":34},{"position":54,"value":17},{"position":55,"value":20},{"position":56,"value":40},{"position":57,"value":10},{"position":58,"value":0},{"position":59,"value":49},{"position":60,"value":null},{"position":61,"value":null},{"position":62,"value":34},{"position":63,"value":34},{"position":64,"value":34}]},{"name":"chart2","range":[0,100],"lineCurve":"curveStep","values":[{"position":41,"value":0},{"position":42,"value":10},{"position":43,"value":10},{"position":44,"value":20},{"position":45,"value":60},{"position":46,"value":100},{"position":47,"value":40},{"position":48,"value":0},{"position":49,"value":50},{"position":50,"value":10},{"position":51,"value":20},{"position":52,"value":60},{"position":53,"value":70},{"position":54,"value":40},{"position":55,"value":30},{"position":56,"value":50},{"position":57,"value":10},{"position":58,"value":20},{"position":59,"value":60}]}]')}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[16],(()=>(__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/web-components/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/web-components/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-a11y/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);